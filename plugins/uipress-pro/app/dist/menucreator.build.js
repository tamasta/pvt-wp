import{_ as P,a as x,o as p,c as h,d as s,g as c,f as V,v as $,t as d,F as M,r as D,n as O,h as E,b as A,w as y,k as q,e as G,l as I,i as j,K,m as Y,z as X,j as W,A as Q,q as Z}from"./assets/_plugin-vue_export-helper-D-PsXKsC.js";import{L as ee,V as te,S as se}from"./assets/index-CKyl8jgJ.js";import{D as ie,N as ne,C as J,I as ue,s as re,i as oe,c as le,p as pe}from"./assets/index-Cw9Isqwm.js";import{T as ae,S as z,U as ce,C as de,F as me,M as he}from"./assets/index-2KuDSOCy.js";import{_ as fe}from"./assets/preload-helper-DMhj2xP_.js";const{__:o,_x:Us,_n:qs,_nx:Bs}=wp.i18n,xe={data(){return{menus:[{id:"toast",name:"plop"}],page:1,totalPages:0,totalFound:0,loading:!1,initialLoading:!0,selectAll:!1,search:"",rendered:!1,strings:{adminMenus:o("Admin menus","uipress-pro"),newMenu:o("New menu","uipress-pro"),edit:o("Edit","uipress-pro"),duplicate:o("Duplicate","uipress-pro"),delete:o("Delete","uipress-pro"),status:o("Status","uipress-pro"),forRoles:o("Roles and users","uipress-pro"),excludes:o("Excludes","uipress-pro"),modified:o("Modified","uipress-pro"),name:o("Name","uipress-pro"),type:o("Type","uipress-pro"),active:o("Active","uipress-pro"),draft:o("Draft","uipress-pro"),results:o("results","uipress-pro"),searchMenus:o("Search menus","uipress-pro"),templateDuplicated:o("Template duplicated","uipress-pro"),templateDeleted:o("Template deleted","uipress-pro"),deleteSelected:o("Delete selected","uipress-pro"),menuCreator:o("Menu Builder","uipress-pro"),newMenu:o("New menu","uipress-pro"),welcomeTotheUibuilder:o("It's a little quiet!","uipress-pro"),welcomeMeta:o("Create a new menu to get started with menu creator","uipress-pro"),viewDocs:o("View docs","uipress-pro"),editTemplate:o("Edit","uipress-pro"),duplicateAdminMenu:o("Duplicate","uipress-pro"),export:o("Export","uipress-pro"),importTemplate:o("Import","uipress-pro"),deleteTemplate:o("Delete","uipress-pro"),version:o("version","uipress-pro"),tools:o("Tools","uipress-pro"),settings:o("Site settings","uipress-pro"),phpErrorLog:o("PHP error log","uipress-pro"),roleEditor:o("Role editor","uipress-pro"),pro:o("pro","uipress-pro"),uiTemplate:o("Ui Template","uipress-pro"),adminPage:o("Admin page","uipress-pro"),loginPage:o("Login page","uipress-pro"),frontEndToolbar:o("Frontend toolbar","uipress-pro"),setupWizard:o("Setup wizard","uipress-pro"),exportSelected:o("Export selected","uipress-pro"),uploadMenus:o("Import menus","uipress-pro")},activeSwitchOptions:{false:{value:!1,label:o("Draft","uipress-lite")},true:{value:!0,label:o("Active","uipress-lite")}},activeFilter:"all",tabletabs:[{name:"all",label:o("All menus","uipress-lite")},{name:!0,label:o("Active","uipress-lite")},{name:!1,label:o("Drafts","uipress-lite")}]}},created(){this.getMenuList()},computed:{returnFilteredMenuItems(){const t=this.search.toLowerCase(),e=this.activeFilter=="all"?[!1,!0]:[this.activeFilter];return this.menus.filter(n=>n.name.toLowerCase().includes(t)&&e.includes(n.status))}},methods:{async getMenuList(){if(this.loading)return;this.loading=!0;let t=new FormData;t.append("action","uipress_get_menus"),t.append("security",this.AjaxSecurity);const e=await this.sendServerRequest(this.AjaxUrl,t);if(this.loading=!1,this.initialLoading=!1,e.error){this.uipApp.notifications.notify(e.message,"","error",!0);return}this.menus=e.menus,this.totalPages=e.totalPages,this.totalFound=e.totalFound,this.rendered=!0},async duplicateAdminMenu(t){let e=new FormData;e.append("action","uip_duplicate_admin_menu"),e.append("security",this.AjaxSecurity),e.append("id",t);const n=await this.sendServerRequest(this.AjaxUrl,e);if(n.error){this.uipApp.notifications.notify(n.message,"","error",!0);return}this.uipApp.notifications.notify(this.strings.templateDuplicated,"","success",!0),this.getMenuList()},async deleteAdminMenu(t){t=Array.isArray(t)?t:[t];let e=new FormData;e.append("action","uip_delete_admin_menus"),e.append("security",this.AjaxSecurity),e.append("menuids",t);const n=await this.sendServerRequest(this.AjaxUrl,e);if(n.error){this.uipApp.notifications.notify(n.message,"","error",!0);return}this.uipApp.notifications.notify(n.message,"","success",!0),this.getMenuList()},async exportTemplate(t){let e=new FormData;e.append("action","uipress_get_menu"),e.append("security",this.AjaxSecurity),e.append("id",t);const n=await this.sendServerRequest(this.AjaxUrl,e);if(n.error){this.uipApp.notifications.notify(n.message,"","error",!0);return}let l={};l.uipmenus=[n.menuOptions],this.exportToJson(l)},exportToJson(t){let e=JSON.stringify(t),n="UiPress menu export",l=new Date,i=String(l.getDate()).padStart(2,"0"),u=String(l.getMonth()+1).padStart(2,"0"),r=l.getFullYear(),g=u+"-"+i+"-"+r,a=n+"-"+g+".json",b="data:text/json;charset=utf-8,"+encodeURIComponent(e),m=this.$refs.menuexport;m.setAttribute("href",b),m.setAttribute("download",a),m.click(),this.uipApp.notifications.notify(o("Menu exported","uipress-lite"),"","success",!0)},async createNewMenu(){const t=this.uipApp.notifications.notify(o("Creating new menu","uipress-pro"),"","default",!1,!0);let e=new FormData;e.append("action","uip_create_new_admin_menu"),e.append("security",this.AjaxSecurity);const l=(await this.sendServerRequest(this.AjaxUrl,e)).id;await this.getMenuList();const i=this.menus.findIndex(r=>r.id===l),u=this.menus[i];this.editAdminMenu(u,i),this.uipApp.notifications.remove(t)},returnActiveIndicatorStyle(t){let e="border:1px solid var(--uip-color-green)";return t=="draft"&&(e="border:1px solid var(--uip-color-orange)"),e},async confirmDelete(t){await this.$refs.confirm.show({title:o("Delete admin menu","uipress-pro"),message:o("Deleted menus can't be recovered","uipress-pro"),okButton:o("Delete","uipress-pro")})&&this.deleteAdminMenu(t)},editAdminMenu(t,e){const n=l=>{this.menus[e]={...l},this.menus[e].appliesTo=Array.isArray(l.for)?[...l.for]:[],this.saveMenu(this.menus[e],!0)};this.$refs.menueditor.show(t,n)},async saveMenu(t,e){const n=JSON.stringify(t,(u,r)=>r==="true"||r===!0?"uiptrue":r==="false"||r===!1?"uipfalse":r===""?"uipblank":r);let l=new FormData;l.append("action","uipress_save_menu"),l.append("security",this.AjaxSecurity),l.append("menu",n);const i=await this.sendServerRequest(this.AjaxUrl,l);if(i.error){this.uipApp.notifications.notify(i.message,"","error",!0);return}e&&this.uipApp.notifications.notify(o("Menu saved","uipress-lite"),"","success",!0)},returnTabStyle(t){if(t.name==this.activeFilter)return{"border-bottom":"2px solid var(--uip-color-accent)"}}}},ge={class:"uip-flex uip-flex-column uip-h-100p uip-w-100p uip-background-muted",style:{"min-height":"100dvh"}},_e={class:"uip-padding-s uip-background-default uip-border-bottom uip-border-bottom uip-flex uip-flex-between uip-position-relative"},ve=s("div",{class:"uip-flex uip-gap-xs uip-flex-center uip-border-rounder uip-background-muted uip-padding-xs uip-padding-top-xxs uip-padding-bottom-xxs"},[s("div",{class:"uip-logo uip-w-18 uip-ratio-1-1"}),s("div",{class:"uip-text-bold"},"Menu Builder")],-1),be={class:"uip-position-absolute uip-left-50p uip-translateX--50p uip-flex uip-flex-center uip-flex-middle"},we={class:"uip-flex uip-background-muted uip-border-rounder uip-padding-xxs uip-flex-center uip-w-240"},ye=["placeholder"],Ie={class:"uip-flex uip-gap-xs uip-flex-center"},Me={class:"uip-flex uip-flex-column uip-flex-center uip-padding-l"},ke={class:"uip-flex uip-flex-column uip-row-gap-m uip-w-1000 uip-max-w-100p"},Se={class:"uip-flex uip-flex-between uip-flex-center"},Ce={class:"uip-text-bold uip-text-xl uip-text-emphasis"},Ae={class:"uip-flex uip-gap-s"},De=["onClick"],Ne=["onClick","onContextmenu"],Te={class:"uip-border-bottom uip-padding-s uip-background-default"},je={class:"uip-flex uip-flex-column uip-gap-xxs"},Oe={class:"uip-flex uip-gap-xs uip-flex-center"},Pe={class:"uip-text-bold"},Ve={class:"uip-border-bottom uip-padding-s uip-max-w-100 uip-background-default"},$e={class:"uip-text-muted"},Le={class:"uip-border-bottom uip-padding-s uip-text-right uip-background-default"},Ee=["onClick"],He={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"},Re=["onClick"],Fe={class:""},Ue=["onClick"],qe={class:""},Be=["onClick"],Ge={class:""},Je=s("div",{class:"uip-border-top uip-margin-top-xs uip-margin-bottom-xs"},null,-1),ze=["onClick"],Ke={class:""},Ye={class:"uip-hidden",ref:"menuexport"};function Xe(t,e,n,l,i,u){const r=x("AppIcon"),g=x("switch-select"),a=x("ContextMenu"),b=x("Confirm"),m=x("MenuEditor"),v=x("Notify");return p(),h("div",ge,[s("div",_e,[ve,s("div",be,[s("div",we,[c(r,{icon:"search",class:"uip-text-muted uip-margin-right-xs"}),V(s("input",{class:"uip-blank-input uip-flex-grow uip-text-s",type:"search","onUpdate:modelValue":e[0]||(e[0]=_=>i.search=_),placeholder:i.strings.searchMenus,autofocus:""},null,8,ye),[[$,i.search]])])]),s("div",Ie,[s("div",{class:"uip-button-primary uip-flex uip-flex-row uip-gap-xxs uip-flex-center uip-text-s",onClick:e[1]||(e[1]=_=>u.createNewMenu())},[s("span",null,d(i.strings.newMenu),1)])])]),s("div",Me,[s("div",ke,[s("div",Se,[s("div",Ce,d(i.strings.adminMenus),1)]),s("div",Ae,[(p(!0),h(M,null,D(i.tabletabs,_=>(p(),h("a",{class:O(["uip-padding-bottom-s",_.name==this.activeFilter?"uip-text-bold uip-link-emphasis":"uip-link-muted"]),onClick:k=>i.activeFilter=_.name,style:E(u.returnTabStyle(_))},d(_.label),15,De))),256))]),(p(),A(G("style"),null,{default:y(()=>[q(" tr:hover { box-shadow: var(--uip-box-shadow); } tr:hover td:first-child{ border-radius:8px 0 0 8px; } tr:hover td:last-child{ border-radius:0 8px 8px 0; } .uip-template-table tr:first-child td:first-child {border-radius: 8px 0 0 0;} .uip-template-table tr:first-child td:last-child {border-radius: 0 8px 0 0;} .uip-template-table tr:last-child td:first-child {border-radius: 0 0 0 8px;} .uip-template-table tr:last-child td:last-child {border-radius: 0 0 8px 0;} .uip-template-table tr:last-child td {border: none !important;} ")]),_:1})),i.rendered?(p(),h("table",{class:"uip-background-transparent uip-template-table uip-text-m",style:{"border-collapse":"collapse","border-spacing":"0"},key:i.menus.length},[(p(!0),h(M,null,D(u.returnFilteredMenuItems,(_,k)=>(p(),h("tr",{key:_.id,class:"uip-link-default uip-border-rounder",onClick:w=>u.editAdminMenu(_,k),onContextmenu:I(w=>t.$refs["templatemenu-"+k][0].show(w),["prevent","stop"])},[s("td",Te,[s("div",je,[s("div",Oe,[s("div",Pe,d(_.name),1),s("div",{class:O(["uip-w-9 uip-ratio-1-1 uip-border-circle uip-opacity-70",_.status?"uip-background-green":"uip-background-orange"]),style:{}},null,2)])])]),s("td",Ve,[c(g,{options:i.activeSwitchOptions,onClick:e[2]||(e[2]=I(()=>{},["stop"])),activeValue:_.status,returnValue:w=>{_.status=w,u.saveMenu(_,!1)}},null,8,["options","activeValue","returnValue"])]),s("td",{onClick:e[3]||(e[3]=I(()=>{},["stop"])),class:"uip-border-bottom uip-padding-s uip-max-w-160 uip-background-default"},[s("span",$e,d(_.modified),1)]),s("td",Le,[s("a",{onClick:I(w=>t.$refs["templatemenu-"+k][0].show(w),["prevent","stop"]),class:"uip-link-muted hover:uip-background-muted uip-border-rounder uip-padding-xxs uip-inline-flex uip-flex-centers uip-text-l"},[c(r,{icon:"more_vert",class:"uip-text-muted uip-margin-right-xs"})],8,Ee)])],40,Ne))),128))])):j("",!0),(p(!0),h(M,null,D(u.returnFilteredMenuItems,(_,k)=>(p(),A(a,{key:_.id,ref_for:!0,ref:"templatemenu-"+k},{default:y(()=>[s("div",He,[s("a",{onClick:w=>{u.editAdminMenu(_,k),t.$refs["templatemenu-"+k][0].close()},class:"uip-link-muted uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},[s("span",Fe,d(i.strings.edit),1),c(r,{icon:"edit",class:""})],8,Re),s("a",{class:"uip-link-muted uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder",onClick:I(w=>{u.duplicateAdminMenu(_.id),t.$refs["templatemenu-"+k][0].close()},["prevent"])},[s("span",qe,d(i.strings.duplicate),1),c(r,{icon:"content_copy",class:""})],8,Ue),s("a",{class:"uip-link-muted uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder",onClick:I(w=>{u.exportTemplate(_.id),t.$refs["templatemenu-"+k][0].close()},["prevent"])},[s("span",Ge,d(i.strings.export),1),c(r,{icon:"file_download",class:""})],8,Be),Je,s("a",{class:"uip-link-danger uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder",onClick:I(w=>{u.confirmDelete(_.id),t.$refs["templatemenu-"+k][0].close()},["prevent"])},[s("span",Ke,d(i.strings.delete),1),c(r,{icon:"delete",class:""})],8,ze)])]),_:2},1536))),128))])]),s("a",Ye,null,512),c(b,{ref:"confirm"},null,512),c(m,{ref:"menueditor"},null,512),c(v)])}const We=P(xe,[["render",Xe]]),Qe={__name:"app",setup(t){return(e,n)=>(p(),A(We))}},{__:T,_x:Gs,_n:Js,_nx:zs}=wp.i18n,Ze={props:{returnData:Function,value:Object},data(){return{adminMenu:null,strings:{saveMenu:T("Save menu","uipress-pro"),importMenu:T("Import menu","uipress-pro")}}},computed:{hasAdminMenu(){return!(!this.adminMenu||!this.isObject(this.adminMenu)||!("menu"in this.adminMenu)||!("menu"in this.adminMenu.menu))},returnMenuEditorScreen(){return{component:"CustomMenuBuilder",adminMenu:this.adminMenu.menu.menu,submenu:this.adminMenu.menu.submenu,label:this.adminMenu.name,menuObject:this.adminMenu,resetMenuToDefault:this.resetMenuToDefault}}},methods:{async show(t,e){this.adminMenu={...t},this.maybeInjectDefaults(),await this.$nextTick(),this.saveMenu=e,this.$refs.panel.show()},maybeInjectDefaults(){"menu"in this.adminMenu||(this.adminMenu.menu={menu:[...this.uipGlobalMenu.menu],submenu:{...this.uipGlobalMenu.submenu}})},returnMenu(){this.saveMenu(this.adminMenu)},resetMenuToDefault(){this.adminMenu.menu.menu=[...this.uipGlobalMenu.menu],this.adminMenu.menu.submenu={...this.uipGlobalMenu.submenu}},importMenu(t){const e=t.currentTarget.files[0];if(!e)return;const n=this.uipApp.notifications.notify(T("Importing menu","uipress-pro"),"","default",!1,!0),l=r=>{this.uipApp.notifications.notify(r,"","error",!0,!1),this.uipApp.notifications.remove(n)};if(e.type!="application/json")return l(T("Import file must be in valid JSON format","uipresss-pro"));if(e.size>1e6)return l(T("Uploaded file is too big","uipresss-pro"));const i=async r=>{const g=r.target.result;let a;try{a=JSON.parse(g)}catch(v){return l(v)}if(!a)return l(T("JSON parsing failed","uipress-pro"));if(!("uipmenus"in a)||!Array.isArray(a.uipmenus))return l(T("Template is not valid","uipress-pro"));const b=a.uipmenus[0];if(!b)return;const m=this.adminMenu.id;this.adminMenu={...b},this.adminMenu.id=m,this.uipApp.notifications.remove(n),this.uipApp.notifications.notify(T("Menu imported","uipress-pro"),"","success",!0,!1)},u=new FileReader;u.onload=i,u.readAsText(e,"UTF-8"),this.uipApp.notifications.remove(n)}}},et={class:"uip-flex uip-flex-column uip-row-gap-m uip-padding-m uip-h-100p",id:"uip-block-settings",style:{overflow:"hidden","max-height":"100%"}},tt={class:"uip-flex uip-flex-between uip-gap-s"},st={class:"uip-button-default uip-flex-grow uip-text-center"};function it(t,e,n,l,i,u){const r=x("ScreenControl"),g=x("FloatingPanel");return p(),A(g,{ref:"panel"},{default:y(()=>[s("div",et,[c(r,{closer:t.$refs.panel.close,startScreen:u.returnMenuEditorScreen,homeScreen:u.returnMenuEditorScreen.component,showNavigation:!0,class:"uip-flex-grow",style:{overflow:"auto"},largeNavigation:!0},{componenthandler:y(({processScreen:a,currentScreen:b,goBack:m})=>[(p(),A(K,null,[(p(),A(G(b.component),Y({onRequestScreen:v=>{a(v)},onGoBack:v=>m()},b),null,16,["onRequestScreen","onGoBack"]))],1024))]),_:1},8,["closer","startScreen","homeScreen"]),s("div",tt,[s("label",st,[s("input",{class:"uip-hidden",type:"file",onChange:e[0]||(e[0]=(...a)=>u.importMenu&&u.importMenu(...a)),accept:".json"},null,32),q(" "+d(i.strings.importMenu),1)]),s("button",{onClick:e[1]||(e[1]=(...a)=>u.returnMenu&&u.returnMenu(...a)),class:"uip-button-primary uip-flex-grow"},d(i.strings.saveMenu),1)])])]),_:1},512)}const nt=P(Ze,[["render",it]]),{__:L,_x:Ks,_n:Ys,_nx:Xs}=wp.i18n,ut={name:"MenuItem",props:{menuItem:{type:Object,default:{}},submenu:{type:Object,default:{}},topLevel:{type:Boolean,default:!1},index:{type:Number,default:0},depth:{type:Number,default:0},list:{type:Array,default:[]}},data(){return{open:!1,hover:!1}},async mounted(){await this.$nextTick()},computed:{returnMenuLinks(){return[{label:L("Edit","uipress-pro"),icon:"edit",action:()=>{this.requestEditScreen()}},{label:L("Duplicate","uipress-pro"),icon:"content_copy",action:()=>{const t={...this.menuItem};this.list.splice(this.index,0,t)}},{name:"divider"},{label:L("Delete","uipress-pro"),icon:"delete",danger:!0,action:()=>{this.list.splice(this.index,1)}}]},returnChevronIcon(){return this.isSeparator?"remove":this.open?"expand_more":"chevron_right"},returnItemSubmenu(){if(this.topLevel){let t=this.menuItem[2]?this.menuItem[2]:this.menuItem.uip_uid;return t=this.switchOutHtmlEntities(t),this.submenu[t]||(this.submenu[t]=[]),this.submenu[t]}if(!this.topLevel)return Array.isArray(this.menuItem.submenu)||(this.menuItem.submenu=[]),this.menuItem.submenu},isSeparator(){return this.menuItem.type=="sep"},returnItemName(){return this.isSeparator?L("Separator","uipress-pro"):this.menuItem.custom.name?this.menuItem.custom.name:this.menuItem.cleanName},returnCustomIcon(){return this.menuItem.custom.icon?this.menuItem.custom.icon:!1},returnVisibilityIcon(){return this.menuItem.custom.hidden?"visibility_off":"visibility"}},methods:{switchOutHtmlEntities(t){if(typeof t!="string")return t;let e=document.createElement("textarea");e.innerHTML=t;let n=e.value;return e.remove(),n},requestEditScreen(){const t=this.isSeparator?L("separator","uipress-pro"):this.menuItem.cleanName,e={component:"ItemEditor",menuItem:this.menuItem,label:L("Edit","uipress-pro")+" "+t,returnData:n=>{this.menuItem.custom={...n}}};this.$emit("request-screen",e)}}},rt={class:"uip-flex uip-flex-column uip-row-gap-xs"},ot={key:0,class:"uip-margin-left-s"},lt={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"},pt={key:0,class:"uip-border-top uip-margin-top-xxs uip-margin-bottom-xxs"},at=["onClick"],ct={class:""};function dt(t,e,n,l,i,u){const r=x("AppIcon"),g=x("MenuItem",!0),a=x("uipDraggable"),b=x("ContextMenu");return p(),h("div",rt,[s("div",{onDblclick:e[2]||(e[2]=I(m=>u.requestEditScreen(),["prevent","stop"])),onMouseenter:e[3]||(e[3]=m=>i.hover=!0),onMouseleave:e[4]||(e[4]=m=>i.hover=!1),onContextmenu:e[5]||(e[5]=I(m=>t.$refs.contextMenu.show(m),["prevent","stop"])),class:"uip-flex uip-gap-xs uip-flex-center uip-link-emphasis uip-padding-xxs uip-border-rounder hover:uip-background-muted uip-transition-all",onClick:e[6]||(e[6]=m=>i.open=!i.open)},[c(r,{class:"uip-text-muted",icon:u.returnChevronIcon},null,8,["icon"]),u.returnCustomIcon?(p(),A(r,{key:0,icon:u.returnCustomIcon},null,8,["icon"])):j("",!0),s("div",{class:O(["uip-flex-grow",{"uip-text-muted":u.isSeparator,"uip-opacity-20":n.menuItem.custom.hidden}])},d(u.returnItemName),3),i.hover?(p(),A(r,{key:1,onClick:e[0]||(e[0]=I(m=>n.menuItem.custom.hidden=!n.menuItem.custom.hidden,["prevent","stop"])),class:"uip-link-default",icon:u.returnVisibilityIcon},null,8,["icon"])):j("",!0),c(r,{onClick:e[1]||(e[1]=I(m=>t.$refs.contextMenu.show(m),["prevent","stop"])),class:"uip-link-default",icon:"more_vert"})],32),i.open&&u.returnItemSubmenu&&!u.isSeparator?(p(),h("div",ot,[c(a,{class:"uip-flex uip-flex-column uip-row-gap-xxxs uip-max-w-100p uip-min-h-18",group:{name:"uip-menu-items",pull:!0,put:!0},list:u.returnItemSubmenu,ghostClass:"uip-canvas-ghost",animation:"300",sort:!0},{default:y(()=>[(p(!0),h(M,null,D(u.returnItemSubmenu,(m,v)=>(p(),A(g,{key:v,depth:n.depth+1,onRequestScreen:e[7]||(e[7]=_=>t.$emit("request-screen",_)),onGoBack:e[8]||(e[8]=_=>t.$emit("go-back",_)),menuItem:m,topLevel:!1,submenu:n.submenu,index:v,list:u.returnItemSubmenu},null,8,["depth","menuItem","submenu","index","list"]))),128))]),_:1},8,["list"])])):j("",!0),c(b,{ref:"contextMenu"},{default:y(()=>[s("div",lt,[(p(!0),h(M,null,D(u.returnMenuLinks,m=>(p(),h(M,null,[m.name=="divider"?(p(),h("div",pt)):(p(),h("a",{key:1,onClick:I(v=>{m.action(),t.$refs.contextMenu.close()},["prevent"]),class:O(["uip-link-default uip-padding-xxs uip-border-rounder hover:uip-background-muted uip-no-underline uip-flex uip-flex-center uip-flex-between uip-gap-s",{"uip-link-danger":m.danger}])},[s("span",ct,d(m.label),1),m.icon?(p(),A(r,{key:0,class:O(["uip-flex-no-shrink",{"uip-link-muted":!m.danger}]),icon:m.icon},null,8,["class","icon"])):j("",!0)],10,at))],64))),256))])]),_:1},512)])}const mt=P(ut,[["render",dt]]),{__:S,_x:Ws,_n:Qs,_nx:Zs}=wp.i18n,ht={components:{MenuItem:mt,ToggleSection:ae},props:{adminMenu:{type:Array},submenu:{type:Object,default:[]},menuObject:Object,resetMenuToDefault:Function},data(){return{topLevelItems:[],activePanel:"menuItems",strings:{settings:S("Settings","uipress-pro"),menu:S("Menu","uipress-pro"),name:S("Name","uipress-pro"),active:S("Active","uipress-pro"),for:S("For","uipress-pro"),excludes:S("Excludes","uipress-pro"),newMenuItem:S("New menu item","uipress-pro"),applyToSubsites:S("Apply to subsites","uipress-pro")},panels:{menuItems:{value:"menuItems",label:S("Menu items","uipress-pro")},settings:{value:"settings",label:S("Settings","uipress-pro")}},activeOptions:{false:{value:!1,label:S("Disabled","uipress-pro")},true:{value:!0,label:S("Enabled","uipress-pro")}}}},methods:{resetMenu(){this.resetMenuToDefault()},cloneItem(t){const e=t[2]?this.switchOutHtmlEntities(t[2]):t.uip_uid;let n=this.submenu[e]&&Array.isArray(this.submenu[e])?this.submenu[e]:[];return t.submenu=n,t},switchOutHtmlEntities(t){if(typeof t!="string")return t;let e=document.createElement("textarea");e.innerHTML=t;let n=e.value;return e.remove(),n}}},ft={class:"uip-flex uip-flex-column uip-row-gap-s uip-position-relative uip-h-100p uip-margin-top-s"},xt={class:"uip-grid-col-1-3"},gt={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},_t={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},vt={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},bt={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},wt={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},yt=s("div",{class:"uip-border-top"},null,-1),It={class:"uip-flex uip-gap-xs uip-flex-center uip-cursor-pointer uip-flex-between"},Mt={class:"uip-text-bold uip-text-emphasis uip-flex-grow"},kt={class:"uip-padding-s uip-flex uip-flex-column uip-row-gap-s uip-w-260"},St={class:"uip-flex uip-flex-between uip-flex-center"},Ct={class:"uip-text-emphasis uip-text-bold uip-text-s"};function At(t,e,n,l,i,u){const r=x("switch-select"),g=x("user-role-select"),a=x("ToggleSection"),b=x("AppIcon"),m=x("NewMenuItems"),v=x("dropdown"),_=x("MenuItem"),k=x("uipDraggable");return p(),h("div",ft,[c(a,{title:i.strings.settings,startOpen:!0},{default:y(()=>[s("div",xt,[s("div",gt,[s("span",null,d(i.strings.name),1)]),V(s("input",{class:"uip-input uip-input-small",type:"text","onUpdate:modelValue":e[0]||(e[0]=w=>n.menuObject.name=w)},null,512),[[$,n.menuObject.name]]),s("div",_t,[s("span",null,d(i.strings.active),1)]),c(r,{options:i.activeOptions,activeValue:n.menuObject.status,returnValue:w=>n.menuObject.status=w},null,8,["options","activeValue","returnValue"]),t.isPrimarySite&&t.isMultisite?(p(),h(M,{key:0},[s("div",vt,[s("span",null,d(i.strings.applyToSubsites),1)]),c(r,{options:i.activeOptions,activeValue:n.menuObject.multisite,returnValue:w=>n.menuObject.multisite=w},null,8,["options","activeValue","returnValue"])],64)):j("",!0),s("div",bt,[s("span",null,d(i.strings.for),1)]),c(g,{selected:n.menuObject.for,onClick:e[1]||(e[1]=I(()=>{},["stop"])),placeHolder:i.strings.for,updateSelected:w=>{n.menuObject.for=w}},null,8,["selected","placeHolder","updateSelected"]),s("div",wt,[s("span",null,d(i.strings.excludes),1)]),c(g,{selected:n.menuObject.excludes,onClick:e[2]||(e[2]=I(()=>{},["stop"])),placeHolder:i.strings.excludes,updateSelected:w=>{n.menuObject.excludes=w}},null,8,["selected","placeHolder","updateSelected"])])]),_:1},8,["title"]),yt,s("div",It,[s("span",Mt,d(i.strings.menu),1),c(b,{icon:"restart_alt",class:"uip-link-default uip-text-l",onClick:e[3]||(e[3]=w=>u.resetMenu())}),c(v,{pos:"left center",snapX:["#uip-block-settings"],ref:"newMenuItem"},{trigger:y(()=>[c(b,{icon:"add",class:"uip-link-default uip-text-l"})]),content:y(()=>[s("div",kt,[s("div",St,[s("div",Ct,d(i.strings.newMenuItem),1),s("div",{onClick:e[4]||(e[4]=w=>t.$refs.newMenuItem.close()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[c(b,{icon:"close",class:""})])]),c(m)])]),_:1},512)]),c(k,{class:"uip-flex uip-flex-column uip-row-gap-xxs uip-max-w-100p uip-flex-grow uip-padding-left-s",group:{name:"uip-menu-items",pull:!0,put:!0},list:n.adminMenu,ghostClass:"uip-canvas-ghost",animation:"300",clone:u.cloneItem,sort:!0},{default:y(()=>[(p(!0),h(M,null,D(n.adminMenu,(w,B)=>(p(),A(_,{key:B,onRequestScreen:e[5]||(e[5]=H=>t.$emit("request-screen",H)),onGoBack:e[6]||(e[6]=H=>t.$emit("go-back",H)),menuItem:w,topLevel:!0,submenu:n.submenu,index:B,list:n.adminMenu},null,8,["menuItem","submenu","index","list"]))),128))]),_:1},8,["list","clone"])])}const Dt=P(ht,[["render",At]]),{__:C,_x:ei,_n:ti,_nx:si}=wp.i18n,Nt={props:{menuItem:{type:Object,default:{}},returnData:Function},data(){return{custom:this.returnDefault,updating:!1,strings:{name:C("Name","uipress-pro"),icon:C("Icon","uipress-pro"),hidden:C("Hidden","uipress-pro"),link:C("Link","uipress-pro"),classes:C("Classes","uipress-pro"),capability:C("Capability","uipress-pro"),newTab:C("New tab","uipress-pro"),chooseIcon:C("Choose an icon","uipress-por")},hiddenOptions:{false:{value:!1,label:C("Visible","uipress-lite")},true:{value:!0,label:C("Hidden","uipress-lite")}},newTabOptions:{false:{value:!1,label:C("No","uipress-lite")},true:{value:!0,label:C("Yes","uipress-lite")}}}},watch:{menuItem:{handler(){this.updating||this.injectProp()},deep:!0,immediate:!0},custom:{handler(){this.updating||this.returnData(this.custom)},deep:!0}},computed:{returnDefault(){return{name:"",icon:"",hidden:!1,url:"",classes:"",capabilities:"",newTab:!1}}},methods:{async injectProp(){this.updating=!0,this.custom=this.isObject(this.menuItem.custom)?{...this.returnDefault,...this.menuItem.custom}:this.returnDefault,await this.$nextTick(),this.updating=!1}}},Tt={class:"uip-grid-col-1-3 uip-padding-left-s uip-padding-top-s",style:{"grid-gap":"var(--uip-margin-s)"}},jt={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ot=["placeholder"],Pt={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Vt={class:"uip-background-muted uip-border-rounder uip-padding-xxs uip-padding-left-xs uip-flex uip-flex-row uip-gap-xs uip-flex-center"},$t={class:"uip-padding-s uip-w-240"},Lt={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Et={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ht=["placeholder"],Rt={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ft={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-padding-top-xxs uip-flex-start"},Ut={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},qt=["placeholder"];function Bt(t,e,n,l,i,u){const r=x("AppIcon"),g=x("IconPicker"),a=x("dropdown"),b=x("switch-select"),m=x("Classes");return p(),h("div",Tt,[s("div",jt,[s("span",null,d(i.strings.name),1)]),V(s("input",{class:"uip-input uip-input-small",type:"text","onUpdate:modelValue":e[0]||(e[0]=v=>i.custom.name=v),placeholder:n.menuItem.cleanName},null,8,Ot),[[$,i.custom.name]]),s("div",Pt,[s("span",null,d(i.strings.icon),1)]),c(a,{pos:"left center",class:"uip-w-100p",ref:"userDropdown",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:y(()=>[s("div",Vt,[c(r,{icon:i.custom.icon?i.custom.icon:"favorite"},null,8,["icon"]),s("span",null,d(i.custom.icon||i.strings.chooseIcon),1)])]),content:y(()=>[s("div",$t,[c(g,{value:i.custom.icon,returnData:v=>{i.custom.icon=v}},null,8,["value","returnData"])])]),_:1},512),s("div",Lt,[s("span",null,d(i.strings.hidden),1)]),c(b,{options:i.hiddenOptions,activeValue:i.custom.hidden,returnValue:v=>i.custom.hidden=v},null,8,["options","activeValue","returnValue"]),s("div",Et,[s("span",null,d(i.strings.link),1)]),V(s("input",{class:"uip-input uip-input-small",type:"text","onUpdate:modelValue":e[1]||(e[1]=v=>i.custom.url=v),placeholder:n.menuItem[2]},null,8,Ht),[[$,i.custom.url]]),s("div",Rt,[s("span",null,d(i.strings.newTab),1)]),c(b,{options:i.newTabOptions,activeValue:i.custom.newTab,returnValue:v=>i.custom.newTab=v},null,8,["options","activeValue","returnValue"]),s("div",Ft,[s("span",null,d(i.strings.classes),1)]),c(m,{value:i.custom.classes,returnData:v=>{i.custom.classes=v}},null,8,["value","returnData"]),s("div",Ut,[s("span",null,d(i.strings.capability),1)]),V(s("input",{class:"uip-input uip-input-small",type:"text","onUpdate:modelValue":e[2]||(e[2]=v=>i.custom.capabilities=v),placeholder:n.menuItem[1]},null,8,qt),[[$,i.custom.capabilities]])])}const Gt=P(Nt,[["render",Bt]]),{__:R,_x:ii,_n:ni,_nx:ui}=wp.i18n,Jt={props:{},data(){return{}},computed:{returnDefaultitems(){const t=this.createUID(),e=R("Custom link","uipress-pro"),n={0:e,1:"read",2:t,uip_uid:t,type:"custom",cleanName:e,customItem:!0,custom:{name:e,icon:"favorite",url:""}},l={...n},i=R("New separator","uipress-pro");return l.type="sep",l.cleanName=i,l.custom={name:""},l[4]="wp-menu-separator",[n,l]}},methods:{isSeparator(t){return t.type=="sep"},returnItemName(t){return this.isSeparator(t)?R("Separator","uipress-pro"):t.cleanName},returnItemSubmenu(t){const e=t[2]?t[2]:t.uip_uid;return this.uipGlobalMenu.submenu[e]?this.uipGlobalMenu.submenu[e]:!1}}},zt={class:"uip-flex uip-flex-column uip-gap-s"},Kt=s("div",{class:"uip-border-top"},null,-1),Yt={class:"uip-drag-handle uip-flex uip-gap-xs uip-flex-center uip-link-emphasis uip-padding-xxs uip-border-rounder hover:uip-background-muted uip-transition-all"};function Xt(t,e,n,l,i,u){const r=x("uipDraggable");return p(),h("div",zt,[c(r,{class:"uip-flex uip-flex-column uip-max-w-100p uip-flex-grow",group:{name:"uip-menu-items",pull:"clone",put:!1,revertClone:!0},list:u.returnDefaultitems,ghostClass:"uip-canvas-ghost",dragHandle:".uip-drag-handle",animation:"300",sort:!1},{default:y(()=>[(p(!0),h(M,null,D(u.returnDefaultitems,(g,a)=>(p(),h("div",{key:a,class:"uip-drag-handle uip-flex uip-gap-xs uip-flex-center uip-link-emphasis uip-padding-xxs uip-border-rounder hover:uip-background-muted uip-transition-all"},d(g.cleanName),1))),128))]),_:1},8,["list"]),Kt,c(r,{class:"uip-flex uip-flex-column uip-max-w-100p uip-flex-grow uip-max-h-300",style:{overflow:"auto"},group:{name:"uip-menu-items",pull:"clone",put:!1,revertClone:!0},list:t.uipGlobalMenu.menu,ghostClass:"uip-canvas-ghost",dragHandle:".uip-drag-handle",animation:"300",sort:!1},{default:y(()=>[(p(!0),h(M,null,D(t.uipGlobalMenu.menu,(g,a)=>(p(),h("div",{key:a,class:"uip-flex uip-flex-column uip-row-gap-xs"},[s("div",Yt,[s("div",{class:O(["uip-flex-grow",{"uip-text-muted":u.isSeparator(g)}])},d(u.returnItemName(g)),3)]),u.returnItemSubmenu(g)?(p(),A(r,{key:0,class:"uip-flex uip-flex-column uip-max-w-100p uip-flex-grow uip-padding-left-s",group:{name:"uip-menu-items",pull:"clone",put:!1,revertClone:!0},list:u.returnItemSubmenu(g),ghostClass:"uip-canvas-ghost",dragHandle:".uip-drag-handle",animation:"300",sort:!1},{default:y(()=>[(p(!0),h(M,null,D(u.returnItemSubmenu(g),(b,m)=>(p(),h("div",{key:m,class:"uip-drag-handle uip-flex uip-gap-xs uip-flex-center uip-link-emphasis uip-padding-xxs uip-border-rounder hover:uip-background-muted uip-transition-all"},[s("div",{class:O(["uip-flex-grow",{"uip-text-muted":u.isSeparator(b)}])},d(u.returnItemName(b)),3)]))),128))]),_:2},1032,["list"])):j("",!0)]))),128))]),_:1},8,["list"])])}const Wt=P(Jt,[["render",Xt]]),Qt={methods:{doesBrowserSupportPassiveScroll(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{t=!1}return t}}},Zt={mixins:[Qt],props:{allItems:{type:Array,required:!0},containerClass:{type:String,required:!1},rootHeight:{type:Number,required:!1,default:300},startRowHeight:{type:Number,required:!1,default:10},perRow:{type:Number,required:!1,default:1}},data(){return{scrollTop:0,nodePadding:20,rowHeight:this.startRowHeight}},computed:{viewportHeight(){return this.itemCount*this.rowHeight},startIndex(){let t=Math.floor(this.scrollTop/this.rowHeight)-this.nodePadding;return Math.max(0,t)},visibleNodeCount(){let t=Math.ceil(this.rootHeight/this.rowHeight)+2*this.nodePadding;return Math.min(this.itemCount-this.startIndex,t)},visibleItems(){return this.allItems.slice(this.startIndex*this.perRow,(this.startIndex+this.visibleNodeCount)*this.perRow)},itemCount(){return Math.ceil(this.allItems.length/this.perRow)},offsetY(){return this.startIndex*this.rowHeight},spacerStyle(){return{transform:`translateY(${this.offsetY}px)`}},viewportStyle(){return{overflow:"hidden",height:`${this.viewportHeight}px`,position:"relative"}},rootStyle(){return{height:`${this.rootHeight}px`,overflow:"auto"}}},methods:{handleScroll(t){this.scrollTop=this.$refs.root.scrollTop},calculateInitialRowHeight(){const t=this.$refs.spacer.children;if(!t||!t.length)return this.startRowHeight;const n=t[0].getBoundingClientRect().height;return console.log(n),n}},async mounted(){await this.$nextTick();const t=this.calculateInitialRowHeight();this.rowHeight=t||this.startRowHeight;const e=this.doesBrowserSupportPassiveScroll()?{passive:!0}:!1;this.$refs.root.addEventListener("scroll",this.handleScroll,e)},beforeUnmount(){this.$refs.root.removeEventListener("scroll",this.handleScroll)}};function es(t,e,n,l,i,u){return p(),h("div",{onScroll:e[0]||(e[0]=(...r)=>u.handleScroll&&u.handleScroll(...r)),class:"root",ref:"root",style:E(u.rootStyle)},[s("div",{ref:"viewport",style:E(u.viewportStyle)},[s("div",{class:O([n.containerClass,"tester"]),ref:"spacer",style:E(u.spacerStyle)},[(p(!0),h(M,null,D(u.visibleItems,r=>X(t.$slots,"item",{item:r})),256))],6)],4)],36)}const ts=P(Zt,[["render",es]]),{__:F,_x:ri,_n:oi,_nx:li}=wp.i18n,ss={components:{virtualList:ts},props:{value:String,returnData:Function},data(){return{search:"",icon:this.value,icons:[],strings:{search:F("Search","uipress-pro"),viewAllIcons:F("View all icons on the","uipress-pro"),materialSite:F("Material site","uipress-pro")}}},watch:{icon:{handler(){this.returnData(this.icon)}}},mounted(){this.setIcons()},computed:{returnIcons(){if(!this.search)return this.icons;const t=this.search.toLowerCase();return this.icons.filter(e=>e.toLowerCase().includes(t))}},methods:{async setIcons(){const t=await fe(()=>import("./assets/icons-Dd8YpThO.js"),[]);this.icons=t.default}}},is={class:"uip-flex uip-flex-column uip-row-gap-s"},ns=["placeholder"],us=["onClick"],rs={class:"uip-flex uip-flex-column uip-row-gap-xs uip-flex-center uip-flex-middle uip-max-w-100p"},os={class:"uip-text-muted uip-text-xs uip-max-w-100p uip-overflow-auto uip-no-wrap uip-text-ellipsis"},ls={class:"uip-text-muted uip-text-s"},ps={href:"https://fonts.google.com/icons",target:"_BLANK"};function as(t,e,n,l,i,u){const r=x("AppIcon"),g=x("virtualList");return p(),h("div",is,[V(s("input",{class:"uip-input",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>i.search=a),placeholder:i.strings.search,autofocus:""},null,8,ns),[[$,i.search]]),c(g,{allItems:u.returnIcons,containerClass:"uip-grid-col-3 uip-grid-gap-xs",startRowHeight:80,perRow:3},{item:y(({item:a})=>[s("div",{class:O([{"uip-background-primary uip-dark-mode uip-text-inverse":i.icon==a,"uip-background-muted uip-link-default":i.icon!=a},"uip-border-rounder uip-padding-xxs uip-flex uip-flex-center uip-flex-middle uip-ratio-1-1 uip-transition-all uip-flex uip-fade-in"]),onClick:b=>i.icon=a},[s("div",rs,[c(r,{icon:a,class:"uip-text-xl"},null,8,["icon"]),s("span",os,d(a),1)])],10,us)]),_:1},8,["allItems"]),s("div",ls,[q(d(i.strings.viewAllIcons)+" ",1),s("a",ps,d(i.strings.materialSite),1)])])}const cs=P(ss,[["render",as]]),{__:U,_x:pi,_n:ai,_nx:ci}=wp.i18n,ds={props:{returnData:Function,value:String,placeHolder:String,args:Object,size:String},data(){return{option:"",userInput:"",selected:[],rendered:!1,search:"",allRules:[],updating:!1,strings:{manualPlaceHolder:U("Classes","uipress-lite"),searchClasses:U("Search classes","uipress-lite"),search:U("Search","uipress-lite")}}},watch:{value:{handler(t,e){this.updating||this.parseInput()},deep:!0,immediate:!0},option:{handler(t,e){this.updating||this.returnData(this.option)},deep:!0},userInput:{handler(t,e){if(!t||!this.rendered||!t.includes(" "))return;let n=t.split(" ");for(const l of n)l&&this.selected.push(l);this.userInput=""}},selected:{handler(t,e){this.returnData(this.selected.join(" "))},deep:!0}},created(){this.getClassNames()},async mounted(){await this.$nextTick(),this.rendered=!0},computed:{allClasses(){return this.allRules}},methods:{async parseInput(){if(this.updating=!0,this.selected=[],this.option=this.value&&typeof this.value<"u"?this.value:"",!this.option.includes(" ")&&this.option!=""){this.selected.push(this.option),await this.$nextTick(),this.updating=!1;return}const t=this.option.split(" ");for(const e of t)e&&this.selected.push(e);await this.$nextTick(),this.updating=!1},submiteNewClass(t){let e=this.userInput;if(!e)return;if(!e.includes(" ")){this.selected.push(e),this.userInput="";return}let n=e.split(" ");for(const l of n)l&&this.selected.push(l);this.userInput=""},getClassNames(){const t=[],e=Array.from(document.styleSheets);for(const l of e){let i;try{i=Array.from(l.cssRules)}catch{continue}for(const u of i){const r=u.selectorText;if(!this.isValidClassSelector(r))continue;const g=r.slice(1);t.push(g)}}t.sort();const n=this.uipApp.data?this.uipApp.data.options.customClasses:[];Array.isArray(n)&&(n.sort(),t.unshift(...n)),this.allRules=[...new Set(t)]},isValidClassSelector(t){if(!t)return!1;const n=["::"," ","[",">",":","~","#"].some(l=>t.includes(l));return t.startsWith(".")&&!n&&!t.slice(1).includes(".")},removeSelected(t){this.selected.splice(t,1)},inSearch(t){if(!this.search)return!0;let e=t.toLowerCase(),n=this.search.toLowerCase();if(e.includes(n))return!0}}},ms={class:"uip-flex uip-flex-column uip-gap-xs uip-w-100p"},hs={class:"uip-flex uip-gap-xxs uip-w-100p uip-flex-wrap uip-flex-center"},fs={class:"uip-button-default uip-border-rounder uip-padding-xxs uip-link-muted"},xs={class:"uip-flex uip-flex-column uip-row-gap-s uip-padding-s uip-w-240"},gs={class:"uip-flex uip-flex-between uip-flex-center"},_s={class:"uip-text-emphasis uip-text-bold uip-text-s"},vs={class:"uip-flex uip-background-muted uip-border-rounder uip-padding-xxs uip-flex-center"},bs=["placeholder"],ws={class:"uip-flex uip-flex-column uip-max-h-400",style:{overflow:"auto"}},ys=["onClick"],Is={class:""},Ms=["placeholder"],ks={key:0,class:"uip-flex uip-gap-xxs uip-w-100p uip-flex-wrap"},Ss={class:"uip-padding-left-xs uip-padding-right-xs uip-background-muted uip-border-rounder hover:uip-background-grey uip-flex uip-gap-xxs uip-flex-center uip-text-s"},Cs={class:""};function As(t,e,n,l,i,u){const r=x("AppIcon"),g=x("dropdown");return p(),h("div",ms,[s("div",hs,[c(g,{pos:"left center",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"],ref:"classDrop"},{trigger:y(()=>[s("div",fs,[c(r,{icon:"search"})])]),content:y(()=>[s("div",xs,[s("div",gs,[s("div",_s,d(i.strings.searchClasses),1),s("div",{onClick:e[0]||(e[0]=I(a=>t.$refs.classDrop.close(),["prevent","stop"])),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[c(r,{icon:"close"})])]),s("div",vs,[c(r,{icon:"search",class:"uip-text-muted uip-margin-right-xs"}),V(s("input",{class:"uip-blank-input uip-flex-grow uip-text-s",type:"search",placeholder:i.strings.search,"onUpdate:modelValue":e[1]||(e[1]=a=>i.search=a),autofocus:""},null,8,bs),[[$,i.search]])]),s("div",ws,[(p(!0),h(M,null,D(u.allClasses,a=>(p(),h(M,null,[u.inSearch(a)?(p(),h("div",{key:0,class:"uip-link-muted uip-flex-between uip-flex uip-padding-xxs uip-border-rounder hover:uip-background-muted uip-flex-center",onClick:b=>i.selected.push(a)},[s("div",Is,d(a),1),c(r,{icon:"add"})],8,ys)):j("",!0)],64))),256))])])]),_:1},512),V(s("input",{type:"text",class:"uip-input-small uip-flex-grow","onUpdate:modelValue":e[2]||(e[2]=a=>i.userInput=a),onKeyup:e[3]||(e[3]=W(I(a=>u.submiteNewClass(a),["prevent"]),["enter"])),placeholder:i.strings.manualPlaceHolder},null,40,Ms),[[$,i.userInput]])]),i.selected.length?(p(),h("div",ks,[(p(!0),h(M,null,D(i.selected,(a,b)=>(p(),h("div",Ss,[s("span",Cs,d(a),1),c(r,{icon:"close",class:"uip-link-muted uip-no-underline",onClick:m=>u.removeSelected(b)},null,8,["onClick"])]))),256))])):j("",!0)])}const Ds=P(ds,[["render",As]]);wp.i18n;const N=document.querySelector("#uip-menu-creator-app-data"),Ns=N?N.getAttribute("uipress-lite"):!1,Ts=N?N.getAttribute("ajax_url"):!1,js=N?N.getAttribute("security"):!1,Os=N?JSON.parse(N.getAttribute("mastermenu")):{menu:[],submenu:{}},Ps=N?JSON.parse(N.getAttribute("isMultisite")):!1,Vs=N?JSON.parse(N.getAttribute("isPrimarySite")):!1,f=Q(Qe);f.component("MenuEditor",nt);f.component("CustomMenuBuilder",Dt);f.component("ItemEditor",Gt);f.component("NewMenuItems",Wt);f.component("loading-chart",ee);f.component("dropdown",ie);f.component("Notify",ne);f.component("uipDraggable",te);f.component("ContextMenu",J);f.component("contextmenu",J);f.component("switch-select",z);f.component("toggle-switch",z);f.component("IconPicker",cs);f.component("user-role-select",ce);f.component("Confirm",de);f.component("FloatingPanel",me);f.component("ScreenControl",se);f.component("Classes",Ds);f.component("AppIcon",ue);f.component("Modal",he);f.config.globalProperties.AjaxUrl=Ts;f.config.globalProperties.AjaxSecurity=js;f.config.globalProperties.sendServerRequest=re;f.config.globalProperties.uipApp=Z({});f.config.globalProperties.isObject=oe;f.config.globalProperties.createUID=le;f.config.globalProperties.uipressLitePath=Ns;f.config.globalProperties.uipGlobalMenu=Os;f.config.globalProperties.prepareJSON=pe;f.config.globalProperties.isMultisite=Ps===!0;f.config.globalProperties.isPrimarySite=Vs===!0;const $s=document.querySelector("#uip-menu-creator-app");$s&&f.mount("#uip-menu-creator-app");
