var xp=Object.defineProperty;var yp=(t,e,s)=>e in t?xp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var _p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var $=(t,e,s)=>(yp(t,typeof e!="symbol"?e+"":e,s),s);import{E as vp,G as Pi,H as Ap,I as Ep,B as gu,q as mu,J as Hi,s as Rt,C as bu,L as Qr,p as Sp,u as Tp,_ as Ce,o as A,b as me,w as F,a as P,d as p,t as _,g as C,c as k,F as Z,r as pe,l as xe,i as z,f as X,v as re,k as Me,n as dt,h as pt,M as ii,N as Wn,O as il,P as Np,e as nl,j as kp,A as Cp}from"./assets/_plugin-vue_export-helper-D-PsXKsC.js";import{N as Op,D as Rp,C as xu,I as Lp,s as qp,i as Dp,c as Ip,p as Pp,a as $p}from"./assets/index-Cw9Isqwm.js";import{U as Up,S as yu,F as Mp,T as Bp,C as jp,M as Fp}from"./assets/index-2KuDSOCy.js";import{c as Hp}from"./assets/index-D9vJfABT.js";import{c as rs,g as _u}from"./assets/_commonjsHelpers-Cpj98o6Y.js";import{h as Vp}from"./assets/html-D5-BrdNJ.js";var IN=_p((We,Ze)=>{/*!
  * vue-router v4.3.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Gs=typeof document<"u";function zp(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ce=Object.assign;function eo(t,e){const s={};for(const i in e){const n=e[i];s[i]=bt(n)?n.map(t):t(n)}return s}const $i=()=>{},bt=Array.isArray,vu=/#/g,Kp=/&/g,Gp=/\//g,Wp=/=/g,Zp=/\?/g,wu=/\+/g,Jp=/%5B/g,Xp=/%5D/g,Au=/%5E/g,Yp=/%60/g,Eu=/%7B/g,Qp=/%7C/g,Su=/%7D/g,ed=/%20/g;function rl(t){return encodeURI(""+t).replace(Qp,"|").replace(Jp,"[").replace(Xp,"]")}function td(t){return rl(t).replace(Eu,"{").replace(Su,"}").replace(Au,"^")}function vo(t){return rl(t).replace(wu,"%2B").replace(ed,"+").replace(vu,"%23").replace(Kp,"%26").replace(Yp,"`").replace(Eu,"{").replace(Su,"}").replace(Au,"^")}function sd(t){return vo(t).replace(Wp,"%3D")}function id(t){return rl(t).replace(vu,"%23").replace(Zp,"%3F")}function nd(t){return t==null?"":id(t).replace(Gp,"%2F")}function Vi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const rd=/\/$/,od=t=>t.replace(rd,"");function to(t,e,s="/"){let i,n={},r="",o="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(i=e.slice(0,a),r=e.slice(a+1,l>-1?l:e.length),n=t(r)),l>-1&&(i=i||e.slice(0,l),o=e.slice(l,e.length)),i=cd(i??e,s),{fullPath:i+(r&&"?")+r+o,path:i,query:n,hash:Vi(o)}}function ld(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Ml(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function ad(t,e,s){const i=e.matched.length-1,n=s.matched.length-1;return i>-1&&i===n&&ni(e.matched[i],s.matched[n])&&Tu(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function ni(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Tu(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!ud(t[s],e[s]))return!1;return!0}function ud(t,e){return bt(t)?Bl(t,e):bt(e)?Bl(e,t):t===e}function Bl(t,e){return bt(e)?t.length===e.length&&t.every((s,i)=>s===e[i]):t.length===1&&t[0]===e}function cd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),i=t.split("/"),n=i[i.length-1];(n===".."||n===".")&&i.push("");let r=s.length-1,o,l;for(o=0;o<i.length;o++)if(l=i[o],l!==".")if(l==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+i.slice(o).join("/")}var zi;(function(t){t.pop="pop",t.push="push"})(zi||(zi={}));var Ui;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ui||(Ui={}));function pd(t){if(!t)if(Gs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),od(t)}const dd=/^[^#]+#/;function hd(t,e){return t.replace(dd,"#")+e}function fd(t,e){const s=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-s.left-(e.left||0),top:i.top-s.top-(e.top||0)}}const Zn=()=>({left:window.scrollX,top:window.scrollY});function gd(t){let e;if("el"in t){const s=t.el,i=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?i?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=fd(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function jl(t,e){return(history.state?history.state.position-e:-1)+t}const wo=new Map;function md(t,e){wo.set(t,e)}function bd(t){const e=wo.get(t);return wo.delete(t),e}let xd=()=>location.protocol+"//"+location.host;function Nu(t,e){const{pathname:s,search:i,hash:n}=e,r=t.indexOf("#");if(r>-1){let l=n.includes(t.slice(r))?t.slice(r).length:1,a=n.slice(l);return a[0]!=="/"&&(a="/"+a),Ml(a,"")}return Ml(s,t)+i+n}function yd(t,e,s,i){let n=[],r=[],o=null;const l=({state:h})=>{const f=Nu(t,location),b=s.value,y=e.value;let w=0;if(h){if(s.value=f,e.value=h,o&&o===b){o=null;return}w=y?h.position-y.position:0}else i(f);n.forEach(v=>{v(s.value,b,{delta:w,type:zi.pop,direction:w?w>0?Ui.forward:Ui.back:Ui.unknown})})};function a(){o=s.value}function u(h){n.push(h);const f=()=>{const b=n.indexOf(h);b>-1&&n.splice(b,1)};return r.push(f),f}function d(){const{history:h}=window;h.state&&h.replaceState(ce({},h.state,{scroll:Zn()}),"")}function g(){for(const h of r)h();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:a,listen:u,destroy:g}}function Fl(t,e,s,i=!1,n=!1){return{back:t,current:e,forward:s,replaced:i,position:window.history.length,scroll:n?Zn():null}}function _d(t){const{history:e,location:s}=window,i={value:Nu(t,s)},n={value:e.state};n.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(a,u,d){const g=t.indexOf("#"),h=g>-1?(s.host&&document.querySelector("base")?t:t.slice(g))+a:xd()+t+a;try{e[d?"replaceState":"pushState"](u,"",h),n.value=u}catch(f){console.error(f),s[d?"replace":"assign"](h)}}function o(a,u){const d=ce({},e.state,Fl(n.value.back,a,n.value.forward,!0),u,{position:n.value.position});r(a,d,!0),i.value=a}function l(a,u){const d=ce({},n.value,e.state,{forward:a,scroll:Zn()});r(d.current,d,!0);const g=ce({},Fl(i.value,a,null),{position:d.position+1},u);r(a,g,!1),i.value=a}return{location:i,state:n,push:l,replace:o}}function vd(t){t=pd(t);const e=_d(t),s=yd(t,e.state,e.location,e.replace);function i(r,o=!0){o||s.pauseListeners(),history.go(r)}const n=ce({location:"",base:t,go:i,createHref:hd.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function wd(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),vd(t)}function Ad(t){return typeof t=="string"||t&&typeof t=="object"}function ku(t){return typeof t=="string"||typeof t=="symbol"}const Qt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Cu=Symbol("");var Hl;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Hl||(Hl={}));function ri(t,e){return ce(new Error,{type:t,[Cu]:!0},e)}function Ft(t,e){return t instanceof Error&&Cu in t&&(e==null||!!(t.type&e))}const Vl="[^/]+?",Ed={sensitive:!1,strict:!1,start:!0,end:!0},Sd=/[.+*?^${}()[\]/\\]/g;function Td(t,e){const s=ce({},Ed,e),i=[];let n=s.start?"^":"";const r=[];for(const u of t){const d=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let g=0;g<u.length;g++){const h=u[g];let f=40+(s.sensitive?.25:0);if(h.type===0)g||(n+="/"),n+=h.value.replace(Sd,"\\$&"),f+=40;else if(h.type===1){const{value:b,repeatable:y,optional:w,regexp:v}=h;r.push({name:b,repeatable:y,optional:w});const E=v||Vl;if(E!==Vl){f+=10;try{new RegExp(`(${E})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${b}" (${E}): `+L.message)}}let N=y?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;g||(N=w&&u.length<2?`(?:/${N})`:"/"+N),w&&(N+="?"),n+=N,f+=20,w&&(f+=-8),y&&(f+=-20),E===".*"&&(f+=-50)}d.push(f)}i.push(d)}if(s.strict&&s.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function l(u){const d=u.match(o),g={};if(!d)return null;for(let h=1;h<d.length;h++){const f=d[h]||"",b=r[h-1];g[b.name]=f&&b.repeatable?f.split("/"):f}return g}function a(u){let d="",g=!1;for(const h of t){(!g||!d.endsWith("/"))&&(d+="/"),g=!1;for(const f of h)if(f.type===0)d+=f.value;else if(f.type===1){const{value:b,repeatable:y,optional:w}=f,v=b in u?u[b]:"";if(bt(v)&&!y)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const E=bt(v)?v.join("/"):v;if(!E)if(w)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):g=!0);else throw new Error(`Missing required param "${b}"`);d+=E}}return d||"/"}return{re:o,score:i,keys:r,parse:l,stringify:a}}function Nd(t,e){let s=0;for(;s<t.length&&s<e.length;){const i=e[s]-t[s];if(i)return i;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Ou(t,e){let s=0;const i=t.score,n=e.score;for(;s<i.length&&s<n.length;){const r=Nd(i[s],n[s]);if(r)return r;s++}if(Math.abs(n.length-i.length)===1){if(zl(i))return 1;if(zl(n))return-1}return n.length-i.length}function zl(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const kd={type:0,value:""},Cd=/[a-zA-Z0-9_]/;function Od(t){if(!t)return[[]];if(t==="/")return[[kd]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${s})/"${u}": ${f}`)}let s=0,i=s;const n=[];let r;function o(){r&&n.push(r),r=[]}let l=0,a,u="",d="";function g(){u&&(s===0?r.push({type:0,value:u}):s===1||s===2||s===3?(r.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:d,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=a}for(;l<t.length;){if(a=t[l++],a==="\\"&&s!==2){i=s,s=4;continue}switch(s){case 0:a==="/"?(u&&g(),o()):a===":"?(g(),s=1):h();break;case 4:h(),s=i;break;case 1:a==="("?s=2:Cd.test(a)?h():(g(),s=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+a:s=3:d+=a;break;case 3:g(),s=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,d="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),g(),o(),n}function Rd(t,e,s){const i=Td(Od(t.path),s),n=ce(i,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Ld(t,e){const s=[],i=new Map;e=Wl({strict:!1,end:!0,sensitive:!1},e);function n(d){return i.get(d)}function r(d,g,h){const f=!h,b=qd(d);b.aliasOf=h&&h.record;const y=Wl(e,d),w=[b];if("alias"in d){const N=typeof d.alias=="string"?[d.alias]:d.alias;for(const L of N)w.push(ce({},b,{components:h?h.record.components:b.components,path:L,aliasOf:h?h.record:b}))}let v,E;for(const N of w){const{path:L}=N;if(g&&L[0]!=="/"){const q=g.record.path,U=q[q.length-1]==="/"?"":"/";N.path=g.record.path+(L&&U+L)}if(v=Rd(N,g,y),h?h.alias.push(v):(E=E||v,E!==v&&E.alias.push(v),f&&d.name&&!Gl(v)&&o(d.name)),Ru(v)&&a(v),b.children){const q=b.children;for(let U=0;U<q.length;U++)r(q[U],v,h&&h.children[U])}h=h||v}return E?()=>{o(E)}:$i}function o(d){if(ku(d)){const g=i.get(d);g&&(i.delete(d),s.splice(s.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=s.indexOf(d);g>-1&&(s.splice(g,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function l(){return s}function a(d){const g=Pd(d,s);s.splice(g,0,d),d.record.name&&!Gl(d)&&i.set(d.record.name,d)}function u(d,g){let h,f={},b,y;if("name"in d&&d.name){if(h=i.get(d.name),!h)throw ri(1,{location:d});y=h.record.name,f=ce(Kl(g.params,h.keys.filter(E=>!E.optional).concat(h.parent?h.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),d.params&&Kl(d.params,h.keys.map(E=>E.name))),b=h.stringify(f)}else if(d.path!=null)b=d.path,h=s.find(E=>E.re.test(b)),h&&(f=h.parse(b),y=h.record.name);else{if(h=g.name?i.get(g.name):s.find(E=>E.re.test(g.path)),!h)throw ri(1,{location:d,currentLocation:g});y=h.record.name,f=ce({},g.params,d.params),b=h.stringify(f)}const w=[];let v=h;for(;v;)w.unshift(v.record),v=v.parent;return{name:y,path:b,params:f,matched:w,meta:Id(w)}}return t.forEach(d=>r(d)),{addRoute:r,resolve:u,removeRoute:o,getRoutes:l,getRecordMatcher:n}}function Kl(t,e){const s={};for(const i of e)i in t&&(s[i]=t[i]);return s}function qd(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Dd(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Dd(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const i in t.components)e[i]=typeof s=="object"?s[i]:s;return e}function Gl(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Id(t){return t.reduce((e,s)=>ce(e,s.meta),{})}function Wl(t,e){const s={};for(const i in t)s[i]=i in e?e[i]:t[i];return s}function Pd(t,e){let s=0,i=e.length;for(;s!==i;){const r=s+i>>1;Ou(t,e[r])<0?i=r:s=r+1}const n=$d(t);return n&&(i=e.lastIndexOf(n,i-1)),i}function $d(t){let e=t;for(;e=e.parent;)if(Ru(e)&&Ou(t,e)===0)return e}function Ru({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Ud(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<i.length;++n){const r=i[n].replace(wu," "),o=r.indexOf("="),l=Vi(o<0?r:r.slice(0,o)),a=o<0?null:Vi(r.slice(o+1));if(l in e){let u=e[l];bt(u)||(u=e[l]=[u]),u.push(a)}else e[l]=a}return e}function Zl(t){let e="";for(let s in t){const i=t[s];if(s=sd(s),i==null){i!==void 0&&(e+=(e.length?"&":"")+s);continue}(bt(i)?i.map(r=>r&&vo(r)):[i&&vo(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+s,r!=null&&(e+="="+r))})}return e}function Md(t){const e={};for(const s in t){const i=t[s];i!==void 0&&(e[s]=bt(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return e}const Bd=Symbol(""),Jl=Symbol(""),ol=Symbol(""),Lu=Symbol(""),Ao=Symbol("");function Oi(){let t=[];function e(i){return t.push(i),()=>{const n=t.indexOf(i);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function ns(t,e,s,i,n,r=o=>o()){const o=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((l,a)=>{const u=h=>{h===!1?a(ri(4,{from:s,to:e})):h instanceof Error?a(h):Ad(h)?a(ri(2,{from:e,to:h})):(o&&i.enterCallbacks[n]===o&&typeof h=="function"&&o.push(h),l())},d=r(()=>t.call(i&&i.instances[n],e,s,u));let g=Promise.resolve(d);t.length<3&&(g=g.then(u)),g.catch(h=>a(h))})}function so(t,e,s,i,n=r=>r()){const r=[];for(const o of t)for(const l in o.components){let a=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(jd(a)){const d=(a.__vccOpts||a)[e];d&&r.push(ns(d,s,i,o,l,n))}else{let u=a();r.push(()=>u.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const g=zp(d)?d.default:d;o.components[l]=g;const f=(g.__vccOpts||g)[e];return f&&ns(f,s,i,o,l,n)()}))}}return r}function jd(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Xl(t){const e=Hi(ol),s=Hi(Lu),i=Rt(()=>{const a=Pi(t.to);return e.resolve(a)}),n=Rt(()=>{const{matched:a}=i.value,{length:u}=a,d=a[u-1],g=s.matched;if(!d||!g.length)return-1;const h=g.findIndex(ni.bind(null,d));if(h>-1)return h;const f=Yl(a[u-2]);return u>1&&Yl(d)===f&&g[g.length-1].path!==f?g.findIndex(ni.bind(null,a[u-2])):h}),r=Rt(()=>n.value>-1&&zd(s.params,i.value.params)),o=Rt(()=>n.value>-1&&n.value===s.matched.length-1&&Tu(s.params,i.value.params));function l(a={}){return Vd(a)?e[Pi(t.replace)?"replace":"push"](Pi(t.to)).catch($i):Promise.resolve()}return{route:i,href:Rt(()=>i.value.href),isActive:r,isExactActive:o,navigate:l}}const Fd=gu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Xl,setup(t,{slots:e}){const s=mu(Xl(t)),{options:i}=Hi(ol),n=Rt(()=>({[Ql(t.activeClass,i.linkActiveClass,"router-link-active")]:s.isActive,[Ql(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=e.default&&e.default(s);return t.custom?r:bu("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},r)}}}),Hd=Fd;function Vd(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function zd(t,e){for(const s in e){const i=e[s],n=t[s];if(typeof i=="string"){if(i!==n)return!1}else if(!bt(n)||n.length!==i.length||i.some((r,o)=>r!==n[o]))return!1}return!0}function Yl(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ql=(t,e,s)=>t??e??s,Kd=gu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const i=Hi(Ao),n=Rt(()=>t.route||i.value),r=Hi(Jl,0),o=Rt(()=>{let u=Pi(r);const{matched:d}=n.value;let g;for(;(g=d[u])&&!g.components;)u++;return u}),l=Rt(()=>n.value.matched[o.value]);Qr(Jl,Rt(()=>o.value+1)),Qr(Bd,l),Qr(Ao,n);const a=Sp();return Tp(()=>[a.value,l.value,t.name],([u,d,g],[h,f,b])=>{d&&(d.instances[g]=u,f&&f!==d&&u&&u===h&&(d.leaveGuards.size||(d.leaveGuards=f.leaveGuards),d.updateGuards.size||(d.updateGuards=f.updateGuards))),u&&d&&(!f||!ni(d,f)||!h)&&(d.enterCallbacks[g]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=n.value,d=t.name,g=l.value,h=g&&g.components[d];if(!h)return ea(s.default,{Component:h,route:u});const f=g.props[d],b=f?f===!0?u.params:typeof f=="function"?f(u):f:null,w=bu(h,ce({},b,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(g.instances[d]=null)},ref:a}));return ea(s.default,{Component:w,route:u})||w}}});function ea(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const Gd=Kd;function Wd(t){const e=Ld(t.routes,t),s=t.parseQuery||Ud,i=t.stringifyQuery||Zl,n=t.history,r=Oi(),o=Oi(),l=Oi(),a=vp(Qt);let u=Qt;Gs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=eo.bind(null,R=>""+R),g=eo.bind(null,nd),h=eo.bind(null,Vi);function f(R,D){let I,H;return ku(R)?(I=e.getRecordMatcher(R),H=D):H=R,e.addRoute(H,I)}function b(R){const D=e.getRecordMatcher(R);D&&e.removeRoute(D)}function y(){return e.getRoutes().map(R=>R.record)}function w(R){return!!e.getRecordMatcher(R)}function v(R,D){if(D=ce({},D||a.value),typeof R=="string"){const G=to(s,R,D.path),ye=e.resolve({path:G.path},D),ot=n.createHref(G.fullPath);return ce(G,ye,{params:h(ye.params),hash:Vi(G.hash),redirectedFrom:void 0,href:ot})}let I;if(R.path!=null)I=ce({},R,{path:to(s,R.path,D.path).path});else{const G=ce({},R.params);for(const ye in G)G[ye]==null&&delete G[ye];I=ce({},R,{params:g(G)}),D.params=g(D.params)}const H=e.resolve(I,D),te=R.hash||"";H.params=d(h(H.params));const de=ld(i,ce({},R,{hash:td(te),path:H.path})),Y=n.createHref(de);return ce({fullPath:de,hash:te,query:i===Zl?Md(R.query):R.query||{}},H,{redirectedFrom:void 0,href:Y})}function E(R){return typeof R=="string"?to(s,R,a.value.path):ce({},R)}function N(R,D){if(u!==R)return ri(8,{from:D,to:R})}function L(R){return K(R)}function q(R){return L(ce(E(R),{replace:!0}))}function U(R){const D=R.matched[R.matched.length-1];if(D&&D.redirect){const{redirect:I}=D;let H=typeof I=="function"?I(R):I;return typeof H=="string"&&(H=H.includes("?")||H.includes("#")?H=E(H):{path:H},H.params={}),ce({query:R.query,hash:R.hash,params:H.path!=null?{}:R.params},H)}}function K(R,D){const I=u=v(R),H=a.value,te=R.state,de=R.force,Y=R.replace===!0,G=U(I);if(G)return K(ce(E(G),{state:typeof G=="object"?ce({},te,G.state):te,force:de,replace:Y}),D||I);const ye=I;ye.redirectedFrom=D;let ot;return!de&&ad(i,H,I)&&(ot=ri(16,{to:ye,from:H}),Is(H,H,!0,!1)),(ot?Promise.resolve(ot):nt(ye,H)).catch(we=>Ft(we)?Ft(we,2)?we:ee(we):hs(we,ye,H)).then(we=>{if(we){if(Ft(we,2))return K(ce({replace:Y},E(we.to),{state:typeof we.to=="object"?ce({},te,we.to.state):te,force:de}),D||ye)}else we=Et(ye,H,!0,Y,te);return At(ye,H,we),we})}function oe(R,D){const I=N(R,D);return I?Promise.reject(I):Promise.resolve()}function Ke(R){const D=$t.values().next().value;return D&&typeof D.runWithContext=="function"?D.runWithContext(R):R()}function nt(R,D){let I;const[H,te,de]=Zd(R,D);I=so(H.reverse(),"beforeRouteLeave",R,D);for(const G of H)G.leaveGuards.forEach(ye=>{I.push(ns(ye,R,D))});const Y=oe.bind(null,R,D);return I.push(Y),rt(I).then(()=>{I=[];for(const G of r.list())I.push(ns(G,R,D));return I.push(Y),rt(I)}).then(()=>{I=so(te,"beforeRouteUpdate",R,D);for(const G of te)G.updateGuards.forEach(ye=>{I.push(ns(ye,R,D))});return I.push(Y),rt(I)}).then(()=>{I=[];for(const G of de)if(G.beforeEnter)if(bt(G.beforeEnter))for(const ye of G.beforeEnter)I.push(ns(ye,R,D));else I.push(ns(G.beforeEnter,R,D));return I.push(Y),rt(I)}).then(()=>(R.matched.forEach(G=>G.enterCallbacks={}),I=so(de,"beforeRouteEnter",R,D,Ke),I.push(Y),rt(I))).then(()=>{I=[];for(const G of o.list())I.push(ns(G,R,D));return I.push(Y),rt(I)}).catch(G=>Ft(G,8)?G:Promise.reject(G))}function At(R,D,I){l.list().forEach(H=>Ke(()=>H(R,D,I)))}function Et(R,D,I,H,te){const de=N(R,D);if(de)return de;const Y=D===Qt,G=Gs?history.state:{};I&&(H||Y?n.replace(R.fullPath,ce({scroll:Y&&G&&G.scroll},te)):n.push(R.fullPath,te)),a.value=R,Is(R,D,I,Y),ee()}let St;function qs(){St||(St=n.listen((R,D,I)=>{if(!ie.listening)return;const H=v(R),te=U(H);if(te){K(ce(te,{replace:!0}),H).catch($i);return}u=H;const de=a.value;Gs&&md(jl(de.fullPath,I.delta),Zn()),nt(H,de).catch(Y=>Ft(Y,12)?Y:Ft(Y,2)?(K(Y.to,H).then(G=>{Ft(G,20)&&!I.delta&&I.type===zi.pop&&n.go(-1,!1)}).catch($i),Promise.reject()):(I.delta&&n.go(-I.delta,!1),hs(Y,H,de))).then(Y=>{Y=Y||Et(H,de,!1),Y&&(I.delta&&!Ft(Y,8)?n.go(-I.delta,!1):I.type===zi.pop&&Ft(Y,20)&&n.go(-1,!1)),At(H,de,Y)}).catch($i)}))}let Zt=Oi(),Ds=Oi(),Jt;function hs(R,D,I){ee(R);const H=Ds.list();return H.length?H.forEach(te=>te(R,D,I)):console.error(R),Promise.reject(R)}function fi(){return Jt&&a.value!==Qt?Promise.resolve():new Promise((R,D)=>{Zt.add([R,D])})}function ee(R){return Jt||(Jt=!R,qs(),Zt.list().forEach(([D,I])=>R?I(R):D()),Zt.reset()),R}function Is(R,D,I,H){const{scrollBehavior:te}=t;if(!Gs||!te)return Promise.resolve();const de=!I&&bd(jl(R.fullPath,0))||(H||!I)&&history.state&&history.state.scroll||null;return Ep().then(()=>te(R,D,de)).then(Y=>Y&&gd(Y)).catch(Y=>hs(Y,R,D))}const fs=R=>n.go(R);let Pe;const $t=new Set,ie={currentRoute:a,listening:!0,addRoute:f,removeRoute:b,hasRoute:w,getRoutes:y,resolve:v,options:t,push:L,replace:q,go:fs,back:()=>fs(-1),forward:()=>fs(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:Ds.add,isReady:fi,install(R){const D=this;R.component("RouterLink",Hd),R.component("RouterView",Gd),R.config.globalProperties.$router=D,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>Pi(a)}),Gs&&!Pe&&a.value===Qt&&(Pe=!0,L(n.location).catch(te=>{}));const I={};for(const te in Qt)Object.defineProperty(I,te,{get:()=>a.value[te],enumerable:!0});R.provide(ol,D),R.provide(Lu,Ap(I)),R.provide(Ao,a);const H=R.unmount;$t.add(R),R.unmount=function(){$t.delete(R),$t.size<1&&(u=Qt,St&&St(),St=null,a.value=Qt,Pe=!1,Jt=!1),H()}}};function rt(R){return R.reduce((D,I)=>D.then(()=>Ke(I)),Promise.resolve())}return ie}function Zd(t,e){const s=[],i=[],n=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(t.matched.find(u=>ni(u,l))?i.push(l):s.push(l));const a=t.matched[o];a&&(e.matched.find(u=>ni(u,a))||n.push(a))}return[s,i,n]}const{__:es,_x:HN,_n:VN,_nx:zN}=wp.i18n,Jd={data(){return{quillEditor:"",showAllRecipients:!1,strings:{newMessage:es("New message","uipress-lite"),recipients:es("Recipients","uipress-lite"),replyTo:es("Reply to","uipress-lite"),subject:es("Subject","uipress-lite"),message:es("Message","uipress-lite"),cancel:es("Cancel","uipress-lite"),sendMessage:es("Send message","uipress-lite"),others:es("Others","uipress-lite")},message:{recipients:[],subject:"",message:"",replyTo:""}}},created(){this.uipApp.messageUser=this},computed:{returnBlankMessage(){return{recipients:[],subject:"",message:"",replyTo:""}}},methods:{show(t){this.message=this.returnBlankMessage;const e=Array.isArray(t)?t:[t];this.message.recipients=e,this.$refs.messagePanel.show()},async sendMessage(){let t=new FormData;t.append("action","uip_send_message"),t.append("security",this.AjaxSecurity),t.append("message",JSON.stringify(this.message));const e=await this.sendServerRequest(this.AjaxUrl,t);if(e.error){this.uipApp.notifications.notify(e.message,"","error");return}this.uipApp.notifications.notify(e.message,"","success"),this.$refs.messagePanel.close()}}},Xd={class:"uip-flex uip-flex-grow uip-flex-column uip-max-h-100p uip-row-gap-s uip-padding-m uip-h-100p"},Yd={class:"uip-flex uip-flex-center uip-gap-s"},Qd={class:"uip-text-bold uip-text-l uip-text-emphasis uip-flex-grow"},eh={class:"uip-flex uip-text-l uip-self-flex-start"},th=p("div",null,null,-1),sh={class:"uip-flex-grow"},ih={class:"uip-grid-col-1-3 uip-padding-left-s"},nh={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs uip-flex-start uip-padding-top-xxs"},rh={key:0,class:"uip-background-primary-wash uip-border-round uip-padding-left-xxs uip-padding-right-xxs uip-text-bold uip-flex uip-gap-xxs uip-flex-center"},oh={class:"uip-text-s uip-max-w-100 uip-overflow-hidden uip-text-ellipsis uip-no-wrap"},lh={key:1,class:"uip-link-muted uip-text-s uip-margin-left-xs"},ah={key:1,class:"uip-flex uip-flex-wrap uip-gap-xxs uip-row-gap-xxs uip-max-h-280 uip-overflow-auto"},uh={class:"uip-background-primary-wash uip-border-round uip-padding-left-xxs uip-padding-right-xxs uip-text-bold uip-flex uip-gap-xxs uip-flex-center"},ch={class:"uip-text-s uip-max-w-100 uip-overflow-hidden uip-text-ellipsis uip-no-wrap"},ph={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},dh={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},hh={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs uip-flex-start uip-padding-top-xxs"},fh={class:"uip-flex uip-flex-between uip-gap-s"};function gh(t,e,s,i,n,r){const o=P("AppIcon"),l=P("RichTextEditor"),a=P("router-link"),u=P("FloatingPanel");return A(),me(u,{ref:"messagePanel",startOpen:!1},{default:F(()=>[p("div",Xd,[p("div",Yd,[p("div",Qd,_(n.strings.newMessage),1),p("div",eh,[p("a",{onClick:e[0]||(e[0]=d=>t.$refs.messagePanel.close()),class:"uip-link-muted hover:uip-background-muted uip-border-rounder uip-padding-xxs"},[C(o,{icon:"close"})])])]),th,p("div",sh,[p("div",ih,[p("div",nh,[p("span",null,_(n.strings.recipients),1)]),n.message.recipients.length>2&&!n.showAllRecipients?(A(),k("div",{key:0,class:"uip-flex uip-gap-xs uip-flex-wrap uip-max-h-280 uip-overflow-auto uip-margin-left-xxs uip-flex-center uip-margin-bottom-xs uip-overflow-visible",onClick:e[1]||(e[1]=xe(d=>n.showAllRecipients=!n.showAllRecipients,["stop","prevent"]))},[(A(!0),k(Z,null,pe(n.message.recipients,(d,g)=>(A(),k(Z,null,[g<10?(A(),k("div",rh,[p("span",oh,_(d.user_email),1),C(o,{icon:"close",class:"uip-link-muted uip-cursor-icon",onClick:xe(h=>n.message.recipients.splice(g,1),["prevent","stop"])},null,8,["onClick"])])):g<11?(A(),k("div",lh,"+"+_(n.message.recipients.length-10)+" "+_(n.strings.others),1)):z("",!0)],64))),256))])):z("",!0),n.showAllRecipients||n.message.recipients.length<3?(A(),k("div",ah,[(A(!0),k(Z,null,pe(n.message.recipients,(d,g)=>(A(),k("div",uh,[p("span",ch,_(d.user_email),1),C(o,{icon:"close",class:"uip-link-muted uip-cursor-icon",onClick:xe(h=>n.message.recipients.splice(g,1),["prevent","stop"])},null,8,["onClick"])]))),256))])):z("",!0),p("div",ph,[p("span",null,_(n.strings.replyTo),1)]),X(p("input",{type:"email",class:"uip-input uip-w-100p","onUpdate:modelValue":e[2]||(e[2]=d=>n.message.replyTo=d)},null,512),[[re,n.message.replyTo]]),p("div",dh,[p("span",null,_(n.strings.subject),1)]),X(p("input",{type:"email",class:"uip-input uip-w-100p","onUpdate:modelValue":e[3]||(e[3]=d=>n.message.subject=d)},null,512),[[re,n.message.subject]]),p("div",hh,[p("span",null,_(n.strings.message),1)]),C(l,{value:n.message.message,returnData:d=>n.message.message=d},null,8,["value","returnData"])])]),p("div",fh,[C(a,{to:"/",class:"uip-button-default uip-no-underline uip-flex-grow uip-text-center"},{default:F(()=>[Me(_(n.strings.cancel),1)]),_:1}),p("button",{class:"uip-button-primary uip-flex-grow",onClick:e[4]||(e[4]=d=>r.sendMessage())},_(n.strings.sendMessage),1)])])]),_:1},512)}const mh=Ce(Jd,[["render",gh]]),{__:ts,_x:KN,_n:GN,_nx:WN}=wp.i18n,bh={data(){return{strings:{userManagemet:ts("User management","uipress-pro"),newUser:ts("New user","uipress-pro"),newRole:ts("New role","uipress-pro"),actions:ts("Actions","uipress-pro"),deleteAllEntries:ts("Delete all history entries","uipress-lite")},currentTab:"users",tabs:{users:{value:"users",label:ts("Users","uipress-pro")},roles:{value:"roles",label:ts("Roles","uipress-pro")},activity:{value:"activity",label:ts("Activity","uipress-pro")}}}},computed:{returnActiveTab(){return this.tabs[this.currentTab].label}},methods:{returnTabStyle(t){if(t.value==this.currentTab)return{"border-bottom":"2px solid var(--uip-color-accent)"}}}},xh={class:"uip-flex uip-flex-column uip-h-100p uip-w-100p uip-background-default",style:{"min-height":"100dvh"}},yh={class:"uip-padding-s uip-background-default uip-border-bottom uip-border-bottom uip-flex uip-flex-between uip-position-relative"},_h={class:"uip-flex uip-gap-xs uip-flex-center uip-border-rounder uip-background-muted uip-padding-xs uip-padding-top-xxs uip-padding-bottom-xxs"},vh=p("div",{class:"uip-logo uip-w-18 uip-ratio-1-1"},null,-1),wh={class:"uip-text-bold"},Ah={class:"uip-flex uip-flex-column uip-flex-center uip-padding-l"},Eh={class:"uip-flex uip-flex-column uip-row-gap-m uip-w-100p uip-max-w-100p"},Sh={class:"uip-flex uip-flex-between"},Th={class:"uip-text-bold uip-text-xl uip-text-emphasis"},Nh={class:"uip-button-primary uip-text-s uip-flex uip-flex-center uip-gap-xxs"},kh={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"},Ch={class:""},Oh={class:"uip-flex uip-gap-s"},Rh=["onClick"];function Lh(t,e,s,i,n,r){const o=P("AppIcon"),l=P("router-link"),a=P("dropdown"),u=P("UserTable"),d=P("RoleTable"),g=P("ActivityTable"),h=P("router-view");return A(),k("div",xh,[p("div",yh,[p("div",_h,[vh,p("div",wh,_(n.strings.userManagemet),1)])]),p("div",Ah,[p("div",Eh,[p("div",Sh,[p("div",Th,_(r.returnActiveTab),1),n.currentTab=="users"?(A(),me(l,{key:0,to:"/users/new",class:"uip-button-primary uip-text-s uip-no-underline uip-flex uip-gap-xs uip-flex-center"},{default:F(()=>[p("span",null,_(n.strings.newUser),1),C(o,{icon:"add"})]),_:1})):z("",!0),n.currentTab=="roles"?(A(),me(l,{key:1,to:"/roles/edit/new",class:"uip-button-primary uip-text-s uip-no-underline"},{default:F(()=>[Me(_(n.strings.newRole),1)]),_:1})):z("",!0),n.currentTab=="activity"?(A(),me(a,{key:2,pos:"bottom right",ref:"historyDrop"},{trigger:F(()=>[p("button",Nh,[p("span",null,_(n.strings.actions),1),C(o,{icon:"expand_more"})])]),content:F(()=>[p("div",kh,[p("a",{class:"uip-link-danger uip-flex uip-flex-center uip-flex-between uip-gap-s uip-padding-xxs hover:uip-background-muted uip-border-rounder",onClick:e[0]||(e[0]=xe(f=>{t.$refs.activityTable.delateAllHistoryItems(),t.$refs.historyDrop.close()},["prevent"]))},[p("span",Ch,_(n.strings.deleteAllEntries),1),C(o,{icon:"delete"})])])]),_:1},512)):z("",!0)]),p("div",Oh,[(A(!0),k(Z,null,pe(n.tabs,f=>(A(),k("a",{class:dt(["uip-padding-bottom-s",f.value==this.currentTab?"uip-text-bold uip-link-emphasis":"uip-link-muted"]),onClick:b=>n.currentTab=f.value,style:pt(r.returnTabStyle(f))},_(f.label),15,Rh))),256))]),n.currentTab=="users"?(A(),me(u,{key:0})):z("",!0),n.currentTab=="roles"?(A(),me(d,{key:1})):z("",!0),n.currentTab=="activity"?(A(),me(g,{key:2,ref:"activityTable"},null,512)):z("",!0)])]),(A(),me(h,{key:t.$route.path}))])}const qh=Ce(bh,[["render",Lh]]),{__:fe,_x:ZN,_n:JN,_nx:XN}=wp.i18n,Dh={props:{closePanel:Function,sendmessage:Function,groups:Object},data(){return{strings:{previous:fe("Previous","uipress-pro"),next:fe("Next","uipress-pro"),results:fe("results","uipress-pro"),details:fe("Details","uipress-pro"),editUser:fe("Edit user","uipress-pro"),passwordReset:fe("Send password reset","uipress-pro"),sendMessage:fe("Send message","uipress-pro"),logoutEverywhere:fe("Logout everywhere","uipress-pro"),edit:fe("Edit","uipress-pro"),delete:fe("Delete user","uipress-pro"),name:fe("Name","uipress-pro"),email:fe("Email","uipress-pro"),accountCreated:fe("Account created","uipress-pro"),lastLogin:fe("Last login","uipress-pro"),lastLoginCountry:fe("Login location","uipress-lite"),totalPosts:fe("Total posts","uipress-lite"),totalComments:fe("Total commends","uipress-lite"),userNotes:fe("User notes","uipress-lite"),recentPageViews:fe("Recent page views","uipress-lite"),noActivity:fe("No activity","uipress-lite"),recentActivity:fe("Recent activity","uipress-lite"),role:fe("Role","uipress-lite")},userID:this.$route.params.id,panelData:[],userFetched:!1,recentActivity:{page:1,totalPages:0},user:{editData:[]},ui:{editing:!1,activityOpen:!0,pageViewsOpen:!0,userNotesOpen:!0}}},async mounted(){this.getUserData(),(!this.$route.params.id||typeof this.$route.params.id>"u")&&this.$router.push("/")},methods:{async getUserData(){let t=new FormData;t.append("action","uip_get_user_data"),t.append("security",this.AjaxSecurity),t.append("userID",this.$route.params.id),t.append("activityPage",JSON.stringify(this.recentActivity.page));const e=await this.sendServerRequest(this.AjaxUrl,t);if(e.error){this.uipApp.notifications.notify(e.error,"","error",!0);return}this.panelData=e,this.userFetched=!0,this.recentActivity.totalPages=this.panelData.history.totalPages,this.user.editData=JSON.parse(JSON.stringify(this.panelData.user))},async sendPasswordReset(){const t=[this.panelData.user.user_id];let e=new FormData;e.append("action","uip_reset_password"),e.append("security",this.AjaxSecurity),e.append("IDS",JSON.stringify(t));const s=await this.sendServerRequest(this.AjaxUrl,e);if(s.error){this.uipApp.notifications.notify(s.message,"","error",!0);return}this.uipApp.notifications.notify(s.message,"","success",!0)},async deleteUser(){if(!await this.$refs.Confirm.show({title:fe("Delete user","uipress-pro"),message:fe("Deleted users can't be recovered","uipress-pro"),okButton:fe("Delete","uipress-pro")}))return;let e=new FormData;e.append("action","uip_delete_user"),e.append("security",this.AjaxSecurity),e.append("userID",this.panelData.user.user_id);const s=await this.sendServerRequest(this.AjaxUrl,e);if(s.error){this.uipApp.notifications.notify(s.message,"","error",!0);return}this.uipApp.notifications.notify(s.message,"","success",!0),this.uipApp.refreshTable(),this.$router.push("/")},async logoutEverywhere(){let t=new FormData;t.append("action","uip_logout_user_everywhere"),t.append("security",this.AjaxSecurity),t.append("userID",this.panelData.user.user_id);const e=await this.sendServerRequest(this.AjaxUrl,t);if(e.error){this.uipApp.notifications.notify(e.message,"","error",!0);return}this.uipApp.notifications.notify(e.message,"","success",!0)},changeActivityPage(t){t=="next"&&this.recentActivity.page++,t=="previous"&&(this.recentActivity.page=this.recentActivity.page--),this.getUserData()},returnViewTitle(t){return t.title?t.title:t.url},returnFormattedLink(t){try{return this.stripUIPparams(t)}catch{return t}}}},Ih={key:0,class:"uip-flex uip-flex-grow uip-flex-column uip-max-h-100p uip-row-gap-s uip-padding-m"},Ph={class:"uip-flex uip-flex-column uip-row-gap-xs"},$h={class:"uip-flex uip-flex-center uip-gap-s"},Uh={class:""},Mh=["src"],Bh={class:"uip-flex uip-flex-column uip-flex-grow"},jh={class:"uip-text-bold uip-text-l uip-text-emphasis"},Fh={class:"uip-text-muted uip-max-w-250 uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},Hh={class:"uip-flex uip-text-l uip-self-flex-start"},Vh={class:"uip-link-muted hover:uip-background-muted uip-border-rounder uip-padding-xxs"},zh={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"},Kh={class:""},Gh={class:""},Wh=p("div",{class:"uip-border-top uip-margin-top-xs uip-margin-bottom-xs"},null,-1),Zh={class:""},Jh=p("div",{class:""},null,-1),Xh={class:"uip-grid-col-1-3"},Yh={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},Qh={class:"uip-flex uip-gap-xs uip-flex-wrap uip-flex-right"},ef={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},tf={class:"uip-text-right uip-max-w-100p uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},sf={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},nf={class:"uip-text-right uip-max-w-100p uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},rf={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},of={class:"uip-text-right uip-max-w-100p uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},lf={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},af={class:"uip-text-right uip-max-w-100p uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},uf={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},cf={class:"uip-text-right uip-max-w-100p uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},pf={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},df={class:"uip-text-right uip-max-w-100p uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},hf={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},ff={class:"uip-text-right uip-max-w-100p uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},gf=p("div",{class:"uip-border-top"},null,-1),mf={key:0},bf={key:1,class:"uip-border-collapse"},xf={class:"uip-no-wrap uip-text-right uip-vertical-align-top"},yf={class:"uip-text-muted uip-text-s"},_f={class:"uip-h-12 uip-w-12 uip-no-wrap uip-padding-left-s uip-padding-right-s uip-padding-top-xs"},vf={class:"uip-h-100p uip-position-relative uip-flex uip-flex-column uip-flex-center uip-row-gap-xs"},wf=p("div",{class:"uip-w-4 uip-h-4 uip-border-circle uip-background-primary"},null,-1),Af={key:0,class:"uip-background-muted uip-w-2 uip-flex uip-flex-middle uip-overflow-visible uip-flex-grow uip-flex-start"},Ef={class:"uip-w-90p uip-padding-bottom-s uip-vertical-align-top"},Sf=["href"],Tf=p("div",{class:"uip-border-top"},null,-1),Nf={key:0},kf={key:1,class:"uip-border-collapse"},Cf={class:"uip-no-wrap uip-text-right uip-vertical-align-top"},Of={class:"uip-text-muted uip-text-s"},Rf={class:"uip-h-12 uip-w-12 uip-no-wrap uip-padding-left-s uip-padding-right-s uip-padding-top-xs"},Lf={class:"uip-h-100p uip-position-relative uip-flex uip-flex-column uip-flex-center uip-row-gap-xs"},qf={key:0,class:"uip-background-muted uip-w-2 uip-flex uip-flex-middle uip-overflow-visible uip-flex-grow uip-flex-start"},Df={class:"uip-w-90p"},If={class:"uip-padding-bottom-xs"},Pf={class:"uip-text-bold uip-text-normal uip-no-underline"},$f=["innerHTML"],Uf={class:"uip-flex uip-gap-xxs uip-text-s"},Mf=["href"],Bf={key:2,class:"uip-flex uip-gap-xs uip-margin-top-s"},jf=p("div",{class:"uip-border-top"},null,-1);function Ff(t,e,s,i,n,r){const o=P("AppIcon"),l=P("router-link"),a=P("dropdown"),u=P("ToggleSection"),d=P("Confirm"),g=P("FloatingPanel");return A(),me(g,{ref:"userPanel",startOpen:!0,closer:()=>t.$router.push("/")},{default:F(()=>[n.userFetched?(A(),k("div",Ih,[p("div",Ph,[p("div",$h,[p("div",Uh,[p("img",{src:n.panelData.user.image,class:"uip-border-circle uip-w-38 uip-ratio-1-1"},null,8,Mh)]),p("div",Bh,[p("div",jh,_(n.panelData.user.username),1),p("div",Fh,_(n.panelData.user.user_email),1)]),p("div",Hh,[C(a,{pos:"left top",ref:"userOptions"},{trigger:F(()=>[p("div",Vh,[C(o,{icon:"more_vert"})])]),content:F(()=>[p("div",zh,[C(l,{to:"/users/"+n.panelData.user.user_id+"/edit",class:"uip-link-default uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},{default:F(()=>[p("span",Kh,_(n.strings.edit),1),C(o,{icon:"edit"})]),_:1},8,["to"]),C(l,{to:"/message/"+n.panelData.user.user_email,class:"uip-link-default uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},{default:F(()=>[p("div",null,_(n.strings.sendMessage),1),C(o,{icon:"email"})]),_:1},8,["to"]),p("a",{onClick:e[0]||(e[0]=h=>{r.sendPasswordReset(),t.$refs.userOptions.close()}),class:"uip-link-default uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},[p("span",Gh,_(n.strings.passwordReset),1),C(o,{icon:"lock"})]),p("a",{onClick:e[1]||(e[1]=h=>{r.logoutEverywhere(),t.$refs.userOptions.close()}),class:"uip-link-default uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},[p("div",null,_(n.strings.logoutEverywhere),1),C(o,{icon:"logout"})]),Wh,p("a",{class:"uip-link-danger uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder",onClick:e[2]||(e[2]=xe(h=>{r.deleteUser(),t.$refs.userOptions.close()},["prevent"]))},[p("span",Zh,_(n.strings.delete),1),C(o,{icon:"delete"})])])]),_:1},512),p("a",{onClick:e[3]||(e[3]=h=>{t.$router.push("/"),t.$refs.userPanel.close()}),class:"uip-link-muted hover:uip-background-muted uip-border-rounder uip-padding-xxs"},[C(o,{icon:"close"})])])])]),Jh,C(u,{title:n.strings.details,startOpen:!0},{default:F(()=>[p("div",Xh,[p("div",Yh,[p("span",null,_(n.strings.role),1)]),p("div",Qh,[(A(!0),k(Z,null,pe(n.panelData.user.roles,h=>(A(),me(l,{to:"/roles/edit/"+h,class:"uip-background-primary-wash uip-border-round uip-padding-left-xxs uip-padding-right-xxs uip-text-bold uip-link-default uip-no-underline uip-text-s"},{default:F(()=>[Me(_(h),1)]),_:2},1032,["to"]))),256))]),p("div",ef,[p("span",null,_(n.strings.name),1)]),p("div",tf,_(n.panelData.user.name),1),p("div",sf,[p("span",null,_(n.strings.email),1)]),p("div",nf,_(n.panelData.user.user_email),1),p("div",rf,[p("span",null,_(n.strings.accountCreated),1)]),p("div",of,_(n.panelData.user.user_registered),1),p("div",lf,[p("span",null,_(n.strings.lastLogin),1)]),p("div",af,_(n.panelData.user.uip_last_login_date),1),p("div",uf,[p("span",null,_(n.strings.lastLoginCountry),1)]),p("div",cf,_(n.panelData.user.uip_last_login_country),1),p("div",pf,[p("span",null,_(n.strings.totalPosts),1)]),p("div",df,_(n.panelData.user.totalPosts),1),p("div",hf,[p("span",null,_(n.strings.totalComments),1)]),p("div",ff,_(n.panelData.user.totalComments),1)])]),_:1},8,["title"]),gf,C(u,{title:n.strings.recentPageViews,startOpen:!1},{default:F(()=>[n.panelData.recentPageViews.length?(A(),k("table",bf,[p("tbody",null,[(A(!0),k(Z,null,pe(n.panelData.recentPageViews,(h,f)=>(A(),k("tr",null,[p("td",xf,[p("div",yf,_(h.human_time),1)]),p("td",_f,[p("div",vf,[wf,f!=n.panelData.recentPageViews.length-1?(A(),k("div",Af)):z("",!0)])]),p("td",Ef,[p("a",{class:"uip-link-muted uip-text-bold uip-text-normal uip-no-underline",href:r.returnFormattedLink(h.url)},_(r.returnViewTitle(h)),9,Sf)])]))),256))])])):(A(),k("div",mf,_(n.strings.noActivity),1))]),_:1},8,["title"]),Tf,C(u,{title:n.strings.recentActivity,startOpen:!1},{default:F(()=>[n.panelData.history.totalFound==0?(A(),k("div",Nf,_(n.strings.noActivity),1)):(A(),k("table",kf,[p("tbody",null,[(A(!0),k(Z,null,pe(n.panelData.history.list,(h,f)=>(A(),k("tr",null,[p("td",Cf,[p("div",Of,_(h.human_time),1)]),p("td",Rf,[p("div",Lf,[p("div",{class:dt(["uip-w-4 uip-h-4 uip-border-circle",[{"uip-background-primary":h.type=="primary"},{"uip-background-orange":h.type=="warning"},{"uip-background-red":h.type=="danger"}]])},null,2),f!=n.panelData.history.list.length-1?(A(),k("div",qf)):z("",!0)])]),p("td",Df,[p("div",If,[p("div",Pf,_(h.title),1),p("div",{class:"uip-text-muted uip-text-s",innerHTML:h.meta},null,8,$f),p("div",Uf,[(A(!0),k(Z,null,pe(h.links,b=>(A(),k("a",{href:r.returnFormattedLink(b.url),class:"uip-link-muted uip-link-no-underline"},_(b.name),9,Mf))),256))])])])]))),256))])])),n.recentActivity.totalPages>1?(A(),k("div",Bf,[n.recentActivity.page>1?(A(),k("button",{key:0,class:"uip-button-default",onClick:e[4]||(e[4]=h=>r.changeActivityPage("previous"))},_(n.strings.previous),1)):z("",!0),p("button",{class:"uip-button-default",onClick:e[5]||(e[5]=h=>r.changeActivityPage("next"))},_(n.strings.next),1)])):z("",!0)]),_:1},8,["title"]),jf])):z("",!0),C(d,{ref:"Confirm"},null,512)]),_:1},8,["closer"])}const Hf=Ce(Dh,[["render",Ff]]),{__:He,_x:YN,_n:QN,_nx:ek}=wp.i18n,Vf={data(){return{userID:this.$route.params.id,panelData:[],userFetched:!1,strings:{viewUserProfile:He("Profile image","uipress-lite"),profileImage:He("Profile image","uipress-lite"),imageURL:He("Image URL","uipress-lite"),changeImage:He("Change image","uipress-lite"),firstName:He("First name","uipress-lite"),lastName:He("Last name","uipress-lite"),email:He("Email","uipress-lite"),roles:He("Roles","uipress-lite"),assignRoles:He("Assign roles","uipress-lite"),searchRoles:He("Search roles","uipress-lite"),userNotes:He("User notes","uipress-lite"),cancel:He("Cancel","uipress-lite"),updateUser:He("Update user","uipress-lite"),editUser:He("Edit user","uipress-lite")},user:{editData:[]}}},mounted(){this.getUserData()},computed:{},methods:{async getUserData(){let t=new FormData;t.append("action","uip_get_user_data"),t.append("security",this.AjaxSecurity),t.append("userID",this.$route.params.id);const e=await this.sendServerRequest(this.AjaxUrl,t);if(e.error){this.uipApp.notifications.notify(e.error,"","error",!0);return}this.panelData=e,this.userFetched=!0,this.user.editData={...this.panelData.user},this.user.editData.roles=this.returnFormattedRoles(this.user.editData.roles)},async updateUser(){let t=new FormData;t.append("action","uip_update_user"),t.append("security",this.AjaxSecurity),t.append("user",JSON.stringify(this.user.editData));const e=await this.sendServerRequest(this.AjaxUrl,t);if(e.error){this.uipApp.notifications.notify(e.message,"","error",!0);return}this.uipApp.notifications.notify(e.message,"","success",!0)},returnFormattedRoles(t){return t.map(e=>this.isObject(e)?e:{name:e})}}},zf={key:0,class:"uip-flex uip-flex-grow uip-flex-column uip-max-h-100p uip-row-gap-s uip-padding-m uip-h-100p"},Kf={class:"uip-flex uip-flex-column uip-row-gap-xs"},Gf={class:"uip-flex uip-flex-center uip-gap-s"},Wf={class:"uip-flex uip-flex-column uip-flex-grow"},Zf={class:"uip-text-bold uip-text-l uip-text-emphasis"},Jf={class:"uip-text-muted uip-max-w-250 uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},Xf={class:"uip-flex uip-text-l uip-self-flex-start"},Yf=p("div",null,null,-1),Qf={class:"uip-flex-grow"},eg={class:"uip-grid-col-1-3 uip-padding-left-s"},tg={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},sg={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},ig={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},ng={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},rg={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},og={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs uip-flex-start uip-padding-top-xxs"},lg={class:"uip-flex uip-flex-between uip-gap-s"};function ag(t,e,s,i,n,r){const o=P("AppIcon"),l=P("InlineImageSelect"),a=P("UserRoleSelect"),u=P("router-link"),d=P("FloatingPanel");return A(),me(d,{startOpen:!0,closer:()=>t.$router.push("/")},{default:F(()=>[n.userFetched?(A(),k("div",zf,[p("div",Kf,[p("div",Gf,[p("div",Wf,[p("div",Zf,_(n.strings.editUser),1),p("div",Jf,_(n.panelData.user.username),1)]),p("div",Xf,[p("a",{onClick:e[0]||(e[0]=g=>{t.$router.push("/"),t.$refs.userPanel.close()}),class:"uip-link-muted hover:uip-background-muted uip-border-rounder uip-padding-xxs"},[C(o,{icon:"close"})])])])]),Yf,p("div",Qf,[p("div",eg,[p("div",tg,[p("span",null,_(n.strings.profileImage),1)]),C(l,{value:{url:n.user.editData.uip_profile_image},returnData:g=>{n.user.editData.uip_profile_image=g.url},args:{hasPositioning:!1}},null,8,["value","returnData"]),p("div",sg,[p("span",null,_(n.strings.firstName),1)]),X(p("input",{type:"text",class:"uip-input uip-w-100p","onUpdate:modelValue":e[1]||(e[1]=g=>n.user.editData.first_name=g)},null,512),[[re,n.user.editData.first_name]]),p("div",ig,[p("span",null,_(n.strings.lastName),1)]),X(p("input",{type:"text",class:"uip-input uip-w-100p","onUpdate:modelValue":e[2]||(e[2]=g=>n.user.editData.last_name=g)},null,512),[[re,n.user.editData.last_name]]),p("div",ng,[p("span",null,_(n.strings.email),1)]),X(p("input",{type:"text",class:"uip-input uip-w-100p","onUpdate:modelValue":e[3]||(e[3]=g=>n.user.editData.user_email=g)},null,512),[[re,n.user.editData.user_email]]),p("div",rg,[p("span",null,_(n.strings.roles),1)]),C(a,{selected:this.user.editData.roles,roleOnly:!0,placeHolder:n.strings.assignRoles,searchPlaceHolder:n.strings.searchRoles,updateSelected:g=>{n.user.editData.roles=g}},null,8,["selected","placeHolder","searchPlaceHolder","updateSelected"]),p("div",og,[p("span",null,_(n.strings.userNotes),1)]),X(p("textarea",{type:"text",class:"uip-input uip-w-100p",rows:"4","onUpdate:modelValue":e[4]||(e[4]=g=>n.user.editData.notes=g)},null,512),[[re,n.user.editData.notes]])])]),p("div",lg,[C(u,{to:"/",class:"uip-button-default uip-no-underline uip-flex-grow uip-text-center"},{default:F(()=>[Me(_(n.strings.cancel),1)]),_:1}),p("button",{class:"uip-button-primary uip-flex-grow",onClick:e[5]||(e[5]=g=>r.updateUser())},_(n.strings.updateUser),1)])])):z("",!0)]),_:1},8,["closer"])}const ug=Ce(Vf,[["render",ag]]),{__:qe,_x:tk,_n:sk,_nx:ik}=wp.i18n,cg={data(){return{userID:this.$route.params.id,user:{editData:{username:"",first_name:"",last_name:"",roles:[],user_email:"",userNotes:"",passWord:"",uip_profile_image:"",uip_user_group:[]}},userFetched:!1,strings:{viewUserProfile:qe("Profile image","uipress-lite"),profileImage:qe("Profile image","uipress-lite"),imageURL:qe("Image URL","uipress-lite"),changeImage:qe("Change image","uipress-lite"),firstName:qe("First name","uipress-lite"),lastName:qe("Last name","uipress-lite"),email:qe("Email","uipress-lite"),roles:qe("Roles","uipress-lite"),assignRoles:qe("Assign roles","uipress-lite"),searchRoles:qe("Search roles","uipress-lite"),userNotes:qe("User notes","uipress-lite"),cancel:qe("Cancel","uipress-lite"),saveUser:qe("Save user","uipress-lite"),newUser:qe("New user","uipress-lite"),username:qe("Username","uipress-lite"),password:qe("Password","uipress-lite")}}},methods:{async saveUser(){let t=new FormData;t.append("action","uip_add_new_user"),t.append("security",this.AjaxSecurity),t.append("user",JSON.stringify(this.user.editData));const e=await this.sendServerRequest(this.AjaxUrl,t);if(e.error){this.uipApp.notifications.notify(e.message,"","error",!0);return}this.uipApp.notifications.notify(e.message,"","success",!0),this.uipApp.refreshTable(),this.$router.push("/users/"+e.userID)}}},pg={class:"uip-flex uip-flex-grow uip-flex-column uip-max-h-100p uip-row-gap-s uip-padding-m uip-h-100p"},dg={class:"uip-flex uip-flex-column uip-row-gap-xs"},hg={class:"uip-flex uip-flex-center uip-gap-s"},fg={class:"uip-flex uip-flex-column uip-flex-grow"},gg={class:"uip-text-bold uip-text-l uip-text-emphasis"},mg={class:"uip-flex uip-text-l uip-self-flex-start"},bg=p("div",null,null,-1),xg={class:"uip-flex-grow"},yg={class:"uip-grid-col-1-3 uip-padding-left-s"},_g={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},vg={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},wg={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},Ag={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},Eg={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},Sg={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},Tg={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},Ng={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs uip-flex-start uip-padding-top-xxs"},kg={class:"uip-flex uip-flex-between uip-gap-s"};function Cg(t,e,s,i,n,r){const o=P("InlineImageSelect"),l=P("UserRoleSelect"),a=P("router-link"),u=P("FloatingPanel");return A(),me(u,{startOpen:!0,closer:()=>t.$router.push("/")},{default:F(()=>[p("div",pg,[p("div",dg,[p("div",hg,[p("div",fg,[p("div",gg,_(n.strings.newUser),1)]),p("div",mg,[p("a",{onClick:e[0]||(e[0]=d=>{t.$router.push("/"),t.$refs.userPanel.close()}),class:"uip-link-muted hover:uip-background-muted uip-border-rounder uip-padding-xxs"},"close")])])]),bg,p("div",xg,[p("div",yg,[p("div",_g,[p("span",null,_(n.strings.profileImage),1)]),C(o,{value:{url:n.user.editData.uip_profile_image},returnData:d=>{n.user.editData.uip_profile_image=d.url},args:{hasPositioning:!1}},null,8,["value","returnData"]),p("div",vg,[p("span",null,_(n.strings.username),1)]),X(p("input",{type:"text",class:"uip-input uip-w-100p","onUpdate:modelValue":e[1]||(e[1]=d=>n.user.editData.username=d)},null,512),[[re,n.user.editData.username]]),p("div",wg,[p("span",null,_(n.strings.password),1)]),X(p("input",{type:"password",class:"uip-input uip-w-100p","onUpdate:modelValue":e[2]||(e[2]=d=>n.user.editData.password=d)},null,512),[[re,n.user.editData.password]]),p("div",Ag,[p("span",null,_(n.strings.firstName),1)]),X(p("input",{type:"text",class:"uip-input uip-w-100p","onUpdate:modelValue":e[3]||(e[3]=d=>n.user.editData.first_name=d)},null,512),[[re,n.user.editData.first_name]]),p("div",Eg,[p("span",null,_(n.strings.lastName),1)]),X(p("input",{type:"text",class:"uip-input uip-w-100p","onUpdate:modelValue":e[4]||(e[4]=d=>n.user.editData.last_name=d)},null,512),[[re,n.user.editData.last_name]]),p("div",Sg,[p("span",null,_(n.strings.email),1)]),X(p("input",{type:"text",class:"uip-input uip-w-100p","onUpdate:modelValue":e[5]||(e[5]=d=>n.user.editData.user_email=d)},null,512),[[re,n.user.editData.user_email]]),p("div",Tg,[p("span",null,_(n.strings.roles),1)]),C(l,{selected:n.user.editData.roles,roleOnly:!0,placeHolder:n.strings.assignRoles,searchPlaceHolder:n.strings.searchRoles,updateSelected:d=>{n.user.editData.roles=d}},null,8,["selected","placeHolder","searchPlaceHolder","updateSelected"]),p("div",Ng,[p("span",null,_(n.strings.userNotes),1)]),X(p("textarea",{type:"text",class:"uip-input uip-w-100p",rows:"4","onUpdate:modelValue":e[6]||(e[6]=d=>n.user.editData.notes=d)},null,512),[[re,n.user.editData.notes]])])]),p("div",kg,[C(a,{to:"/",class:"uip-button-default uip-no-underline uip-flex-grow uip-text-center"},{default:F(()=>[Me(_(n.strings.cancel),1)]),_:1}),p("button",{class:"uip-button-primary uip-flex-grow",onClick:e[7]||(e[7]=d=>r.saveUser())},_(n.strings.saveUser),1)])])]),_:1},8,["closer"])}const Og=Ce(cg,[["render",Cg]]),{__:Ne,_x:nk,_n:rk,_nx:ok}=wp.i18n,Rg={props:{refreshTable:Function,closePanel:Function},data(){return{activeroleName:"",toggleState:!1,currentRole:this.$route.params.role,creatingNewRole:!1,role:{editData:[]},strings:{editRole:Ne("Edit role","uipress-lite"),details:Ne("Details","uipress-lite"),label:Ne("Label","uipress-lite"),loginRedirect:Ne("Login redirect","uipress-lite"),capabilities:Ne("Capabilities","uipress-lite"),toggleAll:Ne("Toggle all","uipress-lite"),addCapability:Ne("Add capability","uipress-lite"),addCustomCapability:Ne("Custom capability name","uipress-lite"),searchCapabilities:Ne("Search capabilities","uipress-lite"),updateRole:Ne("Update role","uipress-lite"),cancel:Ne("Cancel","uipress-lite"),name:Ne("Name","uipress-lite"),adminWarning:Ne("You are currently editing the administrator role. This is usually the most important role on the site so please make sure not to remove nessecary capabilities.","uipress-lite")},capSeach:"",activeCat:"all",allcaps:this.capabilities,customcap:"",newCap:{name:""}}},mounted(){this.getRoleData()},watch:{"role.editData.name":{handler(t,e){t&&t.length&&(this.role.editData.name=this.formatCapName(t),this.activeroleName=this.role.editData.name)},deep:!0},"newCap.name":{handler(t,e){t&&t.length&&(this.newCap.name=this.formatCapName(t))},deep:!0}},computed:{returnCapabilityTitle(){let t=this.strings.capabilities,e=this.totalAvailableCaps,s=this.totalAssignedCaps;return`${t} <span class="uip-text-muted uip-text-weight-normal uip-text-s">(${s}/${e})</span>`},totalAvailableCaps(){return this.allcaps.all.caps.length},totalAssignedCaps(){const t=this.role.editData.caps;let e=0;for(var s in t)t[s]&&e++;return e},returnToggleCapsIcon(){return this.toggleState?"select_check_box":"indeterminate_check_box"},returnSearchedCaps(){const t=this.allcaps[this.activeCat].caps,e=this.capSeach.toLowerCase();return t.filter(s=>this.maybeLowerCase(s).includes(e))}},methods:{maybeLowerCase(t){return t?t.toLowerCase():""},formatCapName(t){return t=t.replace(" ","_"),t=t.replace("-","_"),t.toLowerCase()},async getRoleData(){if(this.currentRole==="new")return this.handleRoleCreate();this.creatingNewRole=!0;let t=new FormData;t.append("action","uip_get_singular_role"),t.append("security",this.AjaxSecurity),t.append("role",this.currentRole);const e=await this.sendServerRequest(this.AjaxUrl,t);if(e.error){this.uipApp.notifications.notify(e.message,"","error");return}this.role.editData=e.role,Array.isArray(this.role.editData.caps)&&(this.role.editData.caps={}),this.activeroleName=this.role.editData.name},handleRoleCreate(){this.creatingNewRole=!0,this.role.editData={name:"",label:"",redirect:"",caps:{}},this.uipApp.cloneRole&&(this.role.editData.caps={...this.uipApp.cloneRole.caps},this.role.editData.label=this.uipApp.cloneRole.label+" "+Ne("copy","uipress-lite"),this.uipApp.cloneRole=!1)},async updateRole(){let t=new FormData;t.append("action","uip_update_user_role"),t.append("security",this.AjaxSecurity),t.append("role",JSON.stringify(this.role.editData)),t.append("originalRoleName",this.activeroleName);const e=await this.sendServerRequest(this.AjaxUrl,t);if(e.error){this.uipApp.notifications.notify(e.message,"","error");return}this.uipApp.notifications.notify(e.message,"","success"),this.activeroleName=this.role.editData.name,this.uipApp.refreshTable(),this.$route.params.role=="new"&&this.$router.push("/roles/edit/"+this.role.editData.name)},async addCustomCap(){this.role.editData.caps[this.newCap.name]=!0;let t=new FormData;t.append("action","uip_add_custom_capability"),t.append("security",this.AjaxSecurity),t.append("role",JSON.stringify(this.role.editData)),t.append("customcap",this.newCap.name);const e=await this.sendServerRequest(this.AjaxUrl,t);if(e.error){this.uipApp.notifications.notify(e.message,"","error");return}this.uipApp.notifications.notify(e.message,"","success"),this.newCap.name="",this.allcaps=e.allcaps,this.$refs.newCapDrop.close(),this.uipApp.refreshTable()},toggleAllCaps(){this.allcaps.all.caps.map(t=>this.role.editData.caps[t]=this.toggleState),this.toggleState=!this.toggleState},isInCaps(t){const e=this.role.editData.caps;return!this.isObject(e)||!(t in e)?!1:!!e[t]},toggleCap(t){const e=this.role.editData.caps;this.isObject(e)||(this.role.editData.caps={}),this.role.editData.caps[t]=!e[t]},async removeCapability(t){if(!await this.$refs.Confirm.show({title:Ne("Delete capability","uipress-pro"),message:Ne("Are you sure you want to delete this capability? This will remove the capability sitewide. Please note not all capabilities can be deleted.","uipress-pro"),okButton:Ne("Delete","uipress-pro")}))return;let s=new FormData;s.append("action","uip_remove_custom_capability"),s.append("security",this.AjaxSecurity),s.append("role",JSON.stringify(this.role.editData)),s.append("customcap",t);const i=await this.sendServerRequest(this.AjaxUrl,s);if(i.error){this.uipApp.notifications.notify(i.message,"","error");return}this.uipApp.notifications.notify(i.message,"","success"),this.allcaps=i.allcaps,this.uipApp.refreshTable()}}},Lg={class:"uip-flex uip-flex-grow uip-flex-column uip-max-h-100p uip-row-gap-s uip-padding-m uip-h-100p"},qg={class:"uip-flex uip-flex-column uip-row-gap-xs"},Dg={class:"uip-flex uip-flex-center uip-gap-s"},Ig={class:"uip-flex uip-flex-column uip-flex-grow"},Pg={class:"uip-text-bold uip-text-l uip-text-emphasis"},$g={class:"uip-text-muted uip-max-w-250 uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},Ug={class:"uip-flex uip-text-l uip-self-flex-start"},Mg={key:0,class:"uip-background-orange-wash uip-padding-xs uip-border-rounder"},Bg=p("div",null,null,-1),jg={class:"uip-grid-col-1-3"},Fg={key:0,class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},Hg={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},Vg={class:"uip-text-muted uip-flex uip-flex-center uip-gap-xs"},zg=p("div",{class:"uip-border-top"},null,-1),Kg={class:"uip-grid-col-1-3"},Gg={class:"uip-flex uip-flex-column uip-row-gap-xs"},Wg=["onClick"],Zg={class:""},Jg={class:"uip-flex-grow uip-flex uip-flex-column uip-row-gap-xxs"},Xg={class:"uip-flex uip-gap-xxs uip-margin-bottom-xs"},Yg={class:"uip-background-muted uip-padding-xxs uip-border-rounder uip-flex uip-flex-center uip-gap-xxs uip-flex-grow"},Qg=["placeholder"],em=["title"],tm={class:"uip-flex uip-flex-row uip-gap-xxs uip-flex-center uip-border-rounder uip-button-default uip-text-s uip-padding-xs"},sm={class:"uip-flex uip-flex-column uip-row-gap-s uip-padding-s"},im=["placeholder"],nm={class:"uip-flex uip-flex-column uip-row-gap-xxs uip-max-h-300 uip-overflow-auto"},rm={class:"uip-flex uip-flex-center uip-gap-s uip-background-muted uip-border-rounder uip-cursor-pointer uip-padding-xxs"},om=["onClick"],lm={class:"uip-flex-grow uip-text-s uip-overflow-hidden uip-text-ellipsis uip-no-wrap"},am=p("div",{class:"uip-border-top"},null,-1),um={class:"uip-flex-grow uip-flex uip-flex-column",style:{"justify-content":"end"}},cm={class:"uip-flex uip-flex-between uip-gap-s"};function pm(t,e,s,i,n,r){const o=P("AppIcon"),l=P("ToggleSection"),a=P("dropdown"),u=P("router-link"),d=P("Confirm"),g=P("FloatingPanel");return A(),me(g,{ref:"rolePanel",startOpen:!0,closer:()=>t.$router.push("/")},{default:F(()=>[p("div",Lg,[p("div",qg,[p("div",Dg,[p("div",Ig,[p("div",Pg,_(n.strings.editRole),1),p("div",$g,_(n.role.editData.label),1)]),p("div",Ug,[p("a",{onClick:e[0]||(e[0]=h=>{t.$router.push("/"),t.$refs.rolePanel.close()}),class:"uip-link-muted hover:uip-background-muted uip-border-rounder uip-padding-xxs"},[C(o,{icon:"close"})])])])]),n.role.editData.name=="administrator"?(A(),k("div",Mg,_(n.strings.adminWarning),1)):z("",!0),Bg,C(l,{title:n.strings.details,startOpen:!0},{default:F(()=>[p("div",jg,[n.creatingNewRole?(A(),k("div",Fg,[p("span",null,_(n.strings.name),1)])):z("",!0),n.creatingNewRole?X((A(),k("input",{key:1,type:"text",class:"uip-input uip-w-100p","onUpdate:modelValue":e[1]||(e[1]=h=>n.role.editData.name=h)},null,512)),[[re,n.role.editData.name]]):z("",!0),p("div",Hg,[p("span",null,_(n.strings.label),1)]),X(p("input",{type:"text",class:"uip-input uip-w-100p","onUpdate:modelValue":e[2]||(e[2]=h=>n.role.editData.label=h)},null,512),[[re,n.role.editData.label]]),p("div",Vg,[p("span",null,_(n.strings.loginRedirect),1)]),X(p("input",{placeholder:"index.php",type:"text",class:"uip-input","onUpdate:modelValue":e[3]||(e[3]=h=>n.role.editData.redirect=h)},null,512),[[re,n.role.editData.redirect]])])]),_:1},8,["title"]),zg,C(l,{title:r.returnCapabilityTitle,startOpen:!0},{default:F(()=>[p("div",Kg,[p("div",Gg,[(A(!0),k(Z,null,pe(n.allcaps,h=>(A(),k("div",{class:dt(["uip-flex uip-flex-row uip-gap-xxs uip-flex-center uip-link-muted uip-text-s",{"uip-text-bold uip-text-emphasis":n.activeCat==h.shortname}]),onClick:f=>n.activeCat=h.shortname},[p("div",Zg,_(h.name),1)],10,Wg))),256))]),p("div",Jg,[p("div",Xg,[p("div",Yg,[C(o,{icon:"search"}),X(p("input",{class:"uip-blank-input uip-flex-grow uip-text-s",placeholder:n.strings.searchCapabilities,"onUpdate:modelValue":e[4]||(e[4]=h=>n.capSeach=h)},null,8,Qg),[[re,n.capSeach]])]),p("button",{onClick:e[5]||(e[5]=h=>r.toggleAllCaps()),title:n.strings.toggleAll,class:"uip-flex uip-flex-row uip-gap-xxs uip-flex-center uip-border-rounder uip-button-default uip-text-s uip-padding-xs"},[C(o,{icon:r.returnToggleCapsIcon},null,8,["icon"])],8,em),C(a,{pos:"bottom right",ref:"newCapDrop"},{trigger:F(()=>[p("button",tm,[C(o,{icon:"add"})])]),content:F(()=>[p("div",sm,[X(p("input",{placeholder:n.strings.addCustomCapability,class:"uip-input-small uip-w-100p",type:"text","onUpdate:modelValue":e[6]||(e[6]=h=>n.newCap.name=h)},null,8,im),[[re,n.newCap.name]]),p("button",{class:"uip-button-primary uip-border-rounder uip-text-s",onClick:e[7]||(e[7]=h=>r.addCustomCap())},_(n.strings.addCapability),1)])]),_:1},512)]),p("div",nm,[(A(!0),k(Z,null,pe(r.returnSearchedCaps,h=>(A(),k("div",rm,[p("div",{class:"uip-flex uip-flex-row uip-gap-xs uip-flex-center uip-border-round uip-cursor-pointer uip-flex-grow",onClick:f=>r.toggleCap(h)},[r.isInCaps(h)?(A(),me(o,{key:0,icon:"radio_button_checked",class:"uip-text-accent"})):z("",!0),r.isInCaps(h)?z("",!0):(A(),me(o,{key:1,icon:"radio_button_unchecked"})),p("div",lm,_(h),1)],8,om),C(o,{icon:"close",class:"uip-link-muted",onClick:f=>r.removeCapability(h)},null,8,["onClick"])]))),256))])])])]),_:1},8,["title"]),am,p("div",um,[p("div",cm,[C(u,{to:"/",class:"uip-button-default uip-no-underline uip-flex-grow uip-text-center"},{default:F(()=>[Me(_(n.strings.cancel),1)]),_:1}),p("button",{class:"uip-button-primary uip-flex-grow",onClick:e[8]||(e[8]=h=>r.updateRole())},_(n.strings.updateRole),1)])])]),C(d,{ref:"Confirm"},null,512)]),_:1},8,["closer"])}const dm=Ce(Rg,[["render",pm]]),{__:ue,_x:lk,_n:ak,_nx:uk}=wp.i18n,hm={data(){return{loading:!0,tableData:[],tablePage:1,selectAll:!1,queryRunning:!1,users:[],query:{totalPages:0,totalUsers:0},strings:{user:ue("User","uipress-pro"),name:ue("Name","uipress-pro"),role:ue("Role","uipress-pro"),registered:ue("Registered","uipress-pro"),search:ue("Search","uipress-pro"),roleFilter:ue("Role filter","uipress-pro"),created:ue("Created","uipress-pro"),date:ue("Date","uipress-pro"),order:ue("Order","uipress-pro"),ascending:ue("Ascending","uipress-pro"),descending:ue("Descending","uipress-pro"),perPage:ue("Per page","uipress-pro"),filters:ue("Filters","uipress-pro"),edit:ue("Edit","uipress-pro"),delete:ue("Delete","uipress-pro"),view:ue("View","uipress-pro"),passwordReset:ue("Password reset","uipress-pro"),message:ue("Message","uipress-pro"),previous:ue("Previous","uipress-pro"),next:ue("Next","uipress-pro"),results:ue("results","uipress-pro"),actions:ue("Actions","uipress-pro"),clearSelection:ue("Clear selection","uipress-lite")},tableFilters:{page:1,search:"",roles:[],dateCreated:{type:"on",date:""},activeGroup:"all"},tableOptions:{direction:"ASC",sortBy:"username",perPage:20},dateOptions:{on:{value:"on",label:ue("On","uipress-pro")},before:{value:"before",label:ue("Before","uipress-pro")},after:{value:"after",label:ue("After","uipress-pro")}},ui:{offcanvas:{userPanelOpen:!1,messagePanelOpen:!1,newUserOpen:!1,batchRolePanelOpen:!1}}}},mounted(){this.getUserData(),this.uipApp.refreshTable=this.getUserData},watch:{tableFilters:{handler(t,e){this.getUserData()},deep:!0},tableOptions:{handler(t,e){this.getUserData()},deep:!0},selectAll:{handler(t,e){if(t)return this.selectAllUsers();this.deSelectAllUsers()}}},computed:{returnUsers(){return this.users},getTotalSelectedUsers(){return this.users.filter(e=>e.selected===!0).length},returnSelectedIDs(){return this.users.map(t=>{if(t.selected===!0)return t.user_id})},returnSelectedUsers(){return this.users.map(t=>{if(t.selected===!0)return t})}},methods:{selectAllUsers(){this.users.map(t=>t.selected=!0),this.selectAll=!0},deSelectAllUsers(){this.users.map(t=>t.selected=!1),this.selectAll=!1},async getUserData(){if(this.queryRunning)return;this.queryRunning=!0;let t=new FormData;t.append("action","uip_get_user_table_data"),t.append("security",this.AjaxSecurity),t.append("tablePage",this.tablePage),t.append("filters",JSON.stringify(this.tableFilters)),t.append("options",JSON.stringify(this.tableOptions));const e=await this.sendServerRequest(this.AjaxUrl,t);this.queryRunning=!1,this.users=e.tableData.users,this.query.totalPages=e.tableData.totalPages,this.query.totalUsers=e.tableData.totalFound,this.selectAll=!1},async deleteUser(t){const e=Array.isArray(t)?t:[t];if(!await this.$refs.Confirm.show({title:ue("Delete user","uipress-pro"),message:ue("Deleted users can't be recovered","uipress-pro"),okButton:ue("Delete","uipress-pro")}))return;let i=new FormData;i.append("action","uip_delete_user"),i.append("security",this.AjaxSecurity),i.append("IDS",JSON.stringify(e));const n=await this.sendServerRequest(this.AjaxUrl,i);if(n.error){this.uipApp.notifications.notify(n.message,"","error",!0);return}this.uipApp.notifications.notify(n.message,"","success",!0),this.getUserData()},async sendPasswordReset(t){const e=Array.isArray(t)?t:[t];let s=new FormData;s.append("action","uip_reset_password"),s.append("security",this.AjaxSecurity),s.append("IDS",JSON.stringify(e));const i=await this.sendServerRequest(this.AjaxUrl,s);if(i.error){this.uipApp.notifications.notify(i.message,"","error",!0);return}this.uipApp.notifications.notify(i.message,"","success",!0)},returnUserFullName(t){let e=[];return t.first_name&&e.push(t.first_name),t.last_name&&e.push(t.last_name),e.join(" ")}}},fm={class:"uip-text-normal uip-flex uip-flex-column uip-row-gap-s"},gm={class:"uip-flex uip-gap-xs uip-flex-center uip-flex-between"},mm={class:"uip-background-muted uip-padding-xs uip-padding-top-xxs uip-padding-bottom-xxs uip-border-rounder uip-flex uip-flex-center uip-gap-xs"},bm=["placeholder"],xm={class:"uip-flex uip-gap-xs uip-flex-center"},ym=["disabled"],_m={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"},vm={class:""},wm=p("div",{class:"uip-border-top uip-margin-top-xs uip-margin-bottom-xs"},null,-1),Am={class:""},Em={class:""},Sm=p("div",{class:"uip-border-top uip-margin-top-xs uip-margin-bottom-xs"},null,-1),Tm={class:""},Nm={class:"uip-w-200"},km={class:"uip-link-default hover:uip-background-grey uip-background-muted uip-border-rounder uip-padding-xs"},Cm={class:"uip-padding-s uip-flex uip-flex-column uip-row-gap-s uip-w-260"},Om={class:"uip-flex uip-flex-between uip-flex-center"},Rm={class:"uip-text-emphasis uip-text-bold uip-text-s"},Lm={class:"uip-grid-col-1-3 uip-padding-left-s"},qm={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Dm={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Im=p("div",{class:"uip-border-top"},null,-1),Pm={class:"uip-grid-col-1-3 uip-padding-left-s"},$m={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Um={value:"ASC"},Mm={value:"DESC"},Bm={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},jm={class:"uip-background-transparent uip-template-table",style:{"border-collapse":"collapse","border-spacing":"0"}},Fm={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-left"},Hm={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-muted uip-text-weight-normal uip-text-left"},Vm={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-muted uip-text-weight-normal uip-text-left"},zm={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-muted uip-text-weight-normal uip-text-left"},Km={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-muted uip-text-weight-normal uip-text-left"},Gm=p("th",{class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top"},null,-1),Wm=["onContextmenu"],Zm={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom uip-text-left"},Jm=["data-id","onUpdate:modelValue"],Xm={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom uip-link-emphasis"},Ym=["onClick"],Qm=["src"],e1={class:"uip-flex uip-flex-column"},t1={class:"uip-text-bold uip-text-emphasis"},s1={class:"uip-text-muted uip-max-w-160 uip-overflow-hidden uip-text-ellipsis uip-no-wrap uip-text-s"},i1={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom"},n1={class:""},r1={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom"},o1={class:"uip-flex uip-flex-wrap uip-gap-xs uip-row-gap-xxs"},l1={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom"},a1={class:""},u1={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom uip-text-right"},c1=["onClick"],p1={class:"uip-link-default hover:uip-background-muted uip-border-rounder uip-padding-xxs"},d1={class:"uip-padding-bottom-s uip-border-bottom uip-flex uip-flex-between uip-flex-center"},h1={class:"uip-text-muted"},f1={class:"uip-flex uip-gap-xs uip-text-s"},g1=["disabled"],m1=["disabled"],b1={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"},x1={class:""},y1={class:""},_1=["onClick"],v1={class:""},w1=["onClick"],A1={class:""},E1=p("div",{class:"uip-border-top uip-margin-top-xs uip-margin-bottom-xs"},null,-1),S1=["onClick"],T1={class:""};function N1(t,e,s,i,n,r){const o=P("AppIcon"),l=P("dropdown"),a=P("UserRoleSelect"),u=P("switch-select"),d=P("router-link"),g=P("ContextMenu"),h=P("Confirm");return A(),k(Z,null,[p("div",fm,[p("div",gm,[p("div",mm,[C(o,{icon:"search",class:"uip-text-muted"}),X(p("input",{class:"uip-blank-input uip-flex-grow uip-text-s",placeholder:n.strings.search,"onUpdate:modelValue":e[0]||(e[0]=f=>n.tableFilters.search=f)},null,8,bm),[[re,n.tableFilters.search]])]),p("div",xm,[C(l,{pos:"bottom right",ref:"bulkActions"},{trigger:F(()=>[p("button",{disabled:!r.getTotalSelectedUsers,class:"uip-button-default uip-text-s"},_(n.strings.actions)+" ("+_(r.getTotalSelectedUsers)+")",9,ym)]),content:F(()=>[p("div",_m,[p("a",{onClick:e[1]||(e[1]=f=>{r.deSelectAllUsers(),t.$refs.bulkActions.close()}),class:"uip-link-default uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},[p("span",vm,_(n.strings.clearSelection),1),C(o,{icon:"backspace"})]),wm,p("a",{onClick:e[2]||(e[2]=f=>{r.sendPasswordReset(r.returnSelectedIDs),t.$refs.bulkActions.close()}),class:"uip-link-default uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},[p("span",Am,_(n.strings.passwordReset),1),C(o,{icon:"lock"})]),p("a",{onClick:e[3]||(e[3]=f=>{t.uipApp.messageUser.show(r.returnSelectedUsers),t.$refs.bulkActions.close()}),class:"uip-link-default uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},[p("span",Em,_(n.strings.message),1),C(o,{icon:"mail"})]),Sm,p("a",{class:"uip-link-danger uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder",onClick:e[4]||(e[4]=xe(f=>{r.deleteUser(r.returnSelectedIDs),t.$refs.bulkActions.close()},["prevent"]))},[p("span",Tm,_(n.strings.delete),1),C(o,{icon:"delete"})])])]),_:1},512),p("div",Nm,[C(a,{selected:n.tableFilters.roles,placeHolder:n.strings.roleFilter,roleOnly:!0,searchPlaceHolder:n.strings.searchUsersRoles,updateSelected:f=>{n.tableFilters.roles=f}},null,8,["selected","placeHolder","searchPlaceHolder","updateSelected"])]),C(l,{pos:"left top",ref:"filtersDrop"},{trigger:F(()=>[p("div",km,[C(o,{icon:"tune"})])]),content:F(()=>[p("div",Cm,[p("div",Om,[p("div",Rm,_(n.strings.filters),1),p("div",{onClick:e[5]||(e[5]=f=>t.$refs.filtersDrop.close()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[C(o,{icon:"close"})])]),p("div",Lm,[p("div",qm,[p("span",null,_(n.strings.created),1)]),C(u,{options:n.dateOptions,style:{width:"160px"},activeValue:n.tableFilters.dateCreated.type,returnValue:f=>n.tableFilters.dateCreated.type=f},null,8,["options","activeValue","returnValue"]),p("div",Dm,[p("span",null,_(n.strings.date),1)]),X(p("input",{class:"uip-input uip-w-160",type:"date","onUpdate:modelValue":e[6]||(e[6]=f=>n.tableFilters.dateCreated.date=f)},null,512),[[re,n.tableFilters.dateCreated.date]])]),Im,p("div",Pm,[p("div",$m,[p("span",null,_(n.strings.order),1)]),X(p("select",{"onUpdate:modelValue":e[7]||(e[7]=f=>n.tableOptions.direction=f),class:"uip-input uip-w-160"},[p("option",Um,_(n.strings.ascending),1),p("option",Mm,_(n.strings.descending),1)],512),[[il,n.tableOptions.direction]]),p("div",Bm,[p("span",null,_(n.strings.perPage),1)]),X(p("input",{"onUpdate:modelValue":e[8]||(e[8]=f=>n.tableOptions.perPage=f),class:"uip-input uip-w-160",type:"number"},null,512),[[re,n.tableOptions.perPage]])])])]),_:1},512)])]),p("table",jm,[p("thead",null,[p("tr",null,[p("th",Fm,[X(p("input",{type:"checkbox",class:"uip-checkbox","onUpdate:modelValue":e[9]||(e[9]=f=>n.selectAll=f)},null,512),[[ii,n.selectAll]])]),p("th",Hm,_(n.strings.user),1),p("th",Vm,_(n.strings.name),1),p("th",zm,_(n.strings.role),1),p("th",Km,_(n.strings.registered),1),Gm])]),C(Wn,{name:"list",tag:"tbody"},{default:F(()=>[(A(!0),k(Z,null,pe(r.returnUsers,(f,b)=>(A(),k("tr",{key:f.user_id,onContextmenu:xe(y=>t.$refs["userMenu-"+b][0].show(y),["prevent","stop"])},[p("td",Zm,[X(p("input",{class:"uip-checkbox","data-id":f.user_id,type:"checkbox","onUpdate:modelValue":y=>f.selected=y},null,8,Jm),[[ii,f.selected]])]),p("td",Xm,[p("div",{class:"uip-flex uip-flex-center uip-gap-s",onClick:y=>t.$router.push("/users/"+f.user_id+"/")},[f.image?(A(),k("img",{key:0,class:"uip-w-28 uip-ratio-1-1 uip-border-circle",src:f.image},null,8,Qm)):z("",!0),p("div",e1,[p("span",t1,_(f.username),1),p("span",s1,_(f.user_email),1)])],8,Ym)]),p("td",i1,[p("span",n1,_(r.returnUserFullName(f)),1)]),p("td",r1,[p("div",o1,[(A(!0),k(Z,null,pe(f.roles,y=>(A(),me(d,{to:"/roles/edit/"+y,class:"uip-background-primary-wash uip-border-round uip-padding-left-xxs uip-padding-right-xxs uip-text-bold uip-link-default uip-no-underline uip-text-s"},{default:F(()=>[Me(_(y),1)]),_:2},1032,["to"]))),256))])]),p("td",l1,[p("span",a1,_(f.user_registered),1)]),p("td",u1,[p("div",{class:"uip-inline-flex",onClick:xe(y=>t.$refs["userMenu-"+b][0].show(y),["prevent","stop"])},[p("a",p1,[C(o,{icon:"more_vert"})])],8,c1)])],40,Wm))),128))]),_:1})]),p("div",d1,[p("div",h1,_(n.query.totalUsers)+" "+_(n.strings.results),1),p("div",f1,[p("button",{disabled:n.tableFilters.page<2,class:"uip-button-default",onClick:e[10]||(e[10]=f=>n.tableFilters.page--)},_(n.strings.previous),9,g1),p("button",{disabled:n.tableFilters.page>=n.query.totalPages,class:"uip-button-default",onClick:e[11]||(e[11]=f=>n.tableFilters.page++)},_(n.strings.next),9,m1)])])]),(A(!0),k(Z,null,pe(r.returnUsers,(f,b)=>(A(),me(g,{ref_for:!0,ref:"userMenu-"+b},{default:F(()=>[p("div",b1,[C(d,{to:"/users/"+f.user_id+"/",onClick:y=>t.$refs["userMenu-"+b][0].close(),class:"uip-link-default uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},{default:F(()=>[p("span",x1,_(n.strings.view),1),C(o,{icon:"visibility"})]),_:2},1032,["to","onClick"]),C(d,{to:"/users/"+f.user_id+"/edit",onClick:y=>t.$refs["userMenu-"+b][0].close(),class:"uip-link-default uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},{default:F(()=>[p("span",y1,_(n.strings.edit),1),C(o,{icon:"edit"})]),_:2},1032,["to","onClick"]),p("a",{onClick:y=>{r.sendPasswordReset(f.user_id),t.$refs["userMenu-"+b][0].close()},class:"uip-link-default uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},[p("span",v1,_(n.strings.passwordReset),1),C(o,{icon:"lock"})],8,_1),p("a",{onClick:y=>{t.uipApp.messageUser.show(f),t.$refs["userMenu-"+b][0].close()},class:"uip-link-default uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},[p("span",A1,_(n.strings.message),1),C(o,{icon:"mail"})],8,w1),E1,p("a",{class:"uip-link-danger uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder",onClick:xe(y=>{r.deleteUser(f.user_id),t.$refs["userMenu-"+b][0].close()},["prevent"])},[p("span",T1,_(n.strings.delete),1),C(o,{icon:"delete"})],8,S1)])]),_:2},1536))),256)),C(h,{ref:"Confirm"},null,512)],64)}const k1=Ce(hm,[["render",N1]]),{__:Ue,_x:ck,_n:pk,_nx:dk}=wp.i18n,C1={data(){return{loading:!0,modData:this.data,tableData:[],tablePage:1,selectAll:!1,queryRunning:!1,roles:[],strings:{search:Ue("Search","uipress-lite"),actions:Ue("Actions","uipress-lite"),roleName:Ue("Role name","uipress-lite"),roleLabel:Ue("Role label","uipress-lite"),users:Ue("Users","uipress-lite"),permissionsGranted:Ue("Permissions granted","uipress-lite"),others:Ue("others","uipress-lite"),noUsersWithRole:Ue("No users with this role","uipress-lite"),clone:Ue("Clone","uipress-lite"),delete:Ue("Delete","uipress-lite"),edit:Ue("Edit","uipress-lite"),clearSelection:Ue("Clear selection","uipress-lite")},search:"",tableOptions:{direction:"ASC",sortBy:"username",perPage:20},ui:{rolePanelOpen:!1,activeRole:[],newRoleOpen:!1,cloneRole:{}}}},mounted(){this.getRoleData(),this.uipApp.refreshTable=this.getRoleData},watch:{modData:{handler(t,e){this.dataChange(t)},deep:!0},tableFilters:{handler(t,e){this.getRoleData()},deep:!0},tableOptions:{handler(t,e){this.getRoleData()},deep:!0},selectAll:{handler(t,e){if(t)return this.selectAllRoles();this.deSelectAllRoles()}}},computed:{getTotalSelectedRoles(){return this.roles.filter(e=>e.selected===!0).length},returnSelectedRoleNames(){return this.roles.map(e=>{if(e.selected)return e.name})},returnSearchedRoles(){const t=this.search.toLowerCase();return this.roles.filter(e=>e.name.toLowerCase().includes(t))}},methods:{selectAllRoles(){this.roles.map(t=>t.selected=!0),this.selectAll=!0},deSelectAllRoles(){this.roles.map(t=>t.selected=!1),this.selectAll=!1},async getRoleData(){if(this.queryRunning)return;this.queryRunning=!0;let t=new FormData;t.append("action","uip_get_role_table_data"),t.append("security",this.AjaxSecurity);const e=await this.sendServerRequest(this.AjaxUrl,t);if(this.queryRunning=!1,e.error){this.uipApp.notifications.notify(e.message,"","error");return}this.roles=e.roles},async deleteRoles(t){if(!await this.$refs.Confirm.show({title:Ue("Delete roles","uipress-pro"),message:Ue("Are you sure you want to delete these roles? This will remove the role sitewide","uipress-pro"),okButton:Ue("Delete","uipress-pro")}))return;const s=Array.isArray(t)?t:[t];let i=new FormData;i.append("action","uip_delete_roles"),i.append("security",this.AjaxSecurity),i.append("roles",JSON.stringify(s));const n=await this.sendServerRequest(this.AjaxUrl,i);if(n.error){this.uipApp.notifications.notify(n.message,"","error");return}this.uipApp.notifications.notify(n.message,"","success"),this.getRoleData()},cloneRole(t){this.uipApp.cloneRole={...t},this.$router.push("/roles/edit/new")}}},O1={class:"uip-text-normal uip-flex uip-flex-column uip-row-gap-s"},R1={class:"uip-flex uip-gap-xs uip-flex-center uip-flex-between"},L1={class:"uip-background-muted uip-padding-xs uip-padding-top-xxs uip-padding-bottom-xxs uip-border-rounder uip-flex uip-flex-center uip-gap-xs"},q1=["placeholder"],D1=["disabled"],I1={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"},P1={class:""},$1=p("div",{class:"uip-border-top uip-margin-top-xs uip-margin-bottom-xs"},null,-1),U1={class:""},M1={class:"uip-background-transparent uip-template-table",style:{"border-collapse":"collapse","border-spacing":"0"}},B1={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-left"},j1={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-muted uip-text-weight-normal uip-text-left"},F1={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-muted uip-text-weight-normal uip-text-left"},H1={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-muted uip-text-weight-normal uip-text-left"},V1={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-muted uip-text-weight-normal uip-text-left"},z1=p("th",{class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top"},null,-1),K1=["onContextmenu"],G1={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom uip-text-left"},W1=["data-id","onUpdate:modelValue"],Z1=["onClick"],J1={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom uip-text-left"},X1={class:"uip-background-primary-wash uip-border-round uip-padding-left-xxs uip-padding-right-xxs"},Y1={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom uip-text-left"},Q1={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom uip-text-left"},eb={class:"uip-flex uip-gap-xxs uip-flex-center"},tb={key:0,class:"uip-flex uip-flex-reverse uip-margin-left-xxs"},sb=["title"],ib={key:1,class:"uip-text-muted uip-text-s"},nb={key:2,class:"uip-text-muted uip-text-s"},rb={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom uip-text-right"},ob=["onClick"],lb={class:"uip-link-default hover:uip-background-muted uip-border-rounder uip-padding-xxs"},ab={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"},ub={class:""},cb=["onClick"],pb={class:""},db=p("div",{class:"uip-border-top uip-margin-top-xs uip-margin-bottom-xs"},null,-1),hb=["onClick"],fb={class:""};function gb(t,e,s,i,n,r){const o=P("AppIcon"),l=P("dropdown"),a=P("Confirm"),u=P("router-link"),d=P("ContextMenu");return A(),k(Z,null,[p("div",O1,[p("div",R1,[p("div",L1,[C(o,{icon:"search",class:"uip-text-muted"}),X(p("input",{class:"uip-blank-input uip-flex-grow uip-text-s",placeholder:n.strings.search,"onUpdate:modelValue":e[0]||(e[0]=g=>n.search=g)},null,8,q1),[[re,n.search]])]),C(l,{pos:"bottom right",ref:"bulkActions"},{trigger:F(()=>[p("button",{disabled:!r.getTotalSelectedRoles,class:"uip-button-default uip-text-s"},_(n.strings.actions)+" ("+_(r.getTotalSelectedRoles)+")",9,D1)]),content:F(()=>[p("div",I1,[p("a",{onClick:e[1]||(e[1]=g=>{r.deSelectAllRoles(),t.$refs.bulkActions.close()}),class:"uip-link-default uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},[p("span",P1,_(n.strings.clearSelection),1),C(o,{icon:"backspace"})]),$1,p("a",{class:"uip-link-danger uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder",onClick:e[2]||(e[2]=xe(g=>{r.deleteRoles(r.returnSelectedRoleNames),t.$refs.bulkActions.close()},["prevent"]))},[p("span",U1,_(n.strings.delete),1),C(o,{icon:"delete"})])])]),_:1},512)]),p("table",M1,[p("thead",null,[p("tr",null,[p("th",B1,[X(p("input",{type:"checkbox",class:"uip-checkbox","onUpdate:modelValue":e[3]||(e[3]=g=>n.selectAll=g)},null,512),[[ii,n.selectAll]])]),p("th",j1,_(n.strings.roleLabel),1),p("th",F1,_(n.strings.permissionsGranted),1),p("th",H1,_(n.strings.roleName),1),p("th",V1,_(n.strings.users),1),z1])]),C(Wn,{name:"list",tag:"tbody"},{default:F(()=>[(A(!0),k(Z,null,pe(r.returnSearchedRoles,(g,h)=>(A(),k("tr",{key:g.name,onContextmenu:xe(f=>t.$refs["roleMenu-"+h][0].show(f),["prevent","stop"])},[p("td",G1,[X(p("input",{class:"uip-checkbox","data-id":g.name,type:"checkbox","onUpdate:modelValue":f=>g.selected=f},null,8,W1),[[ii,g.selected]])]),p("td",{onClick:f=>t.$router.push("/roles/edit/"+g.name),class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom uip-text-left uip-text-bold uip-text-emphasis uip-link-emphasis"},_(g.label),9,Z1),p("td",J1,[p("span",X1,_(g.granted),1)]),p("td",Y1,_(g.name),1),p("td",Q1,[p("div",eb,[g.users.length>0?(A(),k("div",tb,[(A(!0),k(Z,null,pe(g.users,(f,b)=>(A(),k("div",{class:"uip-w-20 uip-ratio-1-1 uip-text-s uip-background-primary-wash uip-border-circle uip-border-match uip-text-capitalize uip-text-center uip-line-height-1 uip-text-center uip-flex uip-flex-center uip-flex-middle uip-margin-left--8",title:f},_(f[0]),9,sb))),256))])):z("",!0),g.usersCount>g.users.length?(A(),k("div",ib,"+"+_(g.usersCount-g.users.length)+" "+_(n.strings.others),1)):g.users.length==0?(A(),k("div",nb,_(n.strings.noUsersWithRole),1)):z("",!0)])]),p("td",rb,[p("div",{class:"uip-inline-flex",onClick:xe(f=>t.$refs["roleMenu-"+h][0].show(f),["prevent","stop"])},[p("a",lb,[C(o,{icon:"more_vert"})])],8,ob)])],40,K1))),128))]),_:1})])]),C(a,{ref:"Confirm"},null,512),(A(!0),k(Z,null,pe(r.returnSearchedRoles,(g,h)=>(A(),me(d,{ref_for:!0,ref:"roleMenu-"+h},{default:F(()=>[p("div",ab,[C(u,{to:"/roles/edit/"+g.name,onClick:f=>t.$refs["roleMenu-"+h][0].close(),class:"uip-link-default uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},{default:F(()=>[p("span",ub,_(n.strings.edit),1),C(o,{icon:"edit"})]),_:2},1032,["to","onClick"]),p("a",{onClick:f=>{r.cloneRole(g),t.$refs["roleMenu-"+h][0].close()},class:"uip-link-default uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},[p("span",pb,_(n.strings.clone),1),C(o,{icon:"content_copy"})],8,cb),db,p("a",{class:"uip-link-danger uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder",onClick:xe(f=>{r.deleteRoles(g.name),t.$refs["roleMenu-"+h][0].close()},["prevent"])},[p("span",fb,_(n.strings.delete),1),C(o,{icon:"delete"})],8,hb)])]),_:2},1536))),256))],64)}const mb=Ce(C1,[["render",gb]]),{__:ne,_x:hk,_n:fk,_nx:gk}=wp.i18n,bb={props:{data:Object,dataChange:Function},data(){return{loading:!0,strings:{search:ne("Search","uipress-lite"),clearSelection:ne("Clear selection","uipress-lite"),delete:ne("Delete","uipress-lite"),user:ne("User","uipress-lite"),IPaddress:ne("IP address","uipress-lite"),action:ne("Action","uipress-lite"),description:ne("Description","uipress-lite"),date:ne("Date","uipress-lite"),time:ne("Time","uipress-lite"),actions:ne("Actions","uipress-lite"),results:ne("results","uipress-lite"),next:ne("Next","uipress-lite"),previous:ne("Previous","uipress-lite"),roleFilter:ne("Role filter","uipress-lite"),filters:ne("Filters","uipress-lite"),created:ne("Created","uipress-lite"),order:ne("Order","uipress-lite"),perPage:ne("Per page","uipress-lite"),ascending:ne("Ascending","uipress-lite"),descending:ne("Descending","uipress-lite"),searchActions:ne("Search actions","uipress-lite"),actionFilter:ne("Action filter","uipress-lite")},tableData:{totalPages:1,activity:[]},selectAll:!1,queryRunning:!1,tableFilters:{search:"",roles:[],status:[],dateCreated:{type:"on",date:""},action:""},tableOptions:{direction:"DESC",sortBy:"username",perPage:20,page:1},dateOptions:{on:{value:"on",label:ne("On","uipress-pro")},before:{value:"before",label:ne("Before","uipress-pro")},after:{value:"after",label:ne("After","uipress-pro")}}}},mounted(){this.getActivityData()},watch:{tableFilters:{handler(t,e){this.getActivityData()},deep:!0},tableOptions:{handler(t,e){this.getActivityData()},deep:!0},selectAll:{handler(t,e){if(t)return this.selectAllActions();this.deSelectAllActions()}}},computed:{returnTotalSelectedActions(){return this.tableData.activity.filter(t=>t.selected===!0)},getTotalSelectedActions(){return this.returnTotalSelectedActions.length},returnSelectedActionIDS(){return this.tableData.activity.map(t=>{if(t.selected===!0)return t.id})}},methods:{async deleteHistoryActions(t){if(!await this.$refs.Confirm.show({title:ne("Delete history actions","uipress-pro"),message:ne("Deleted history actions can't be recovered","uipress-pro"),okButton:ne("Delete","uipress-pro")}))return;const s=Array.isArray(t)?t:[t];let i=new FormData;i.append("action","uip_delete_multiple_actions"),i.append("security",this.AjaxSecurity),i.append("allIDS",JSON.stringify(s));const n=await this.sendServerRequest(this.AjaxUrl,i);if(n.error){this.uipApp.notifications.notify(n.message,"","error");return}this.uipApp.notifications.notify(n.message,"","success"),this.deSelectAllActions(),this.getActivityData()},async delateAllHistoryItems(){if(!await this.$refs.Confirm.show({title:ne("Delete ALL history actions","uipress-pro"),message:ne("This action will remove all history actions from your database. Deleted history actions can't be recovered","uipress-pro"),okButton:ne("Delete all","uipress-pro")}))return;let e=new FormData;e.append("action","uip_delete_all_history"),e.append("security",this.AjaxSecurity);const s=await this.sendServerRequest(this.AjaxUrl,e);if(this.loading=!1,s.error){this.uipApp.notifications.notify(s.message,"","error");return}this.uipApp.notifications.notify(s.message,"","success"),this.deSelectAllActions(),this.getActivityData()},selectAllActions(){this.tableData.activity.map(t=>t.selected=!0),this.selectAll=!0},deSelectAllActions(){this.tableData.activity.map(t=>t.selected=!1),this.selectAll=!1},async getActivityData(){if(this.queryRunning)return;this.loading=!0,this.queryRunning=!0;let t=new FormData;t.append("action","uip_get_activity_table_data"),t.append("security",this.AjaxSecurity),t.append("filters",JSON.stringify(this.tableFilters)),t.append("options",JSON.stringify(this.tableOptions));const e=await this.sendServerRequest(this.AjaxUrl,t);if(this.queryRunning=!1,this.loading=!1,e.error){this.uipApp.notifications.notify(e.message,"","error");return}this.tableData.totalPages=e.tableData.totalPages,this.tableData.activity=e.tableData.activity,this.tableData.totalFound=e.tableData.totalFound,this.tableData.columns=e.tableData.columns,this.tableData.actions=e.tableData.actions,e.tableData.totalPages&&(this.tableOptions.page>e.tableData.totalPages&&(this.tableOptions.page=e.tableData.totalPages),this.tableOptions.page<1&&(this.tableOptions.page=1))},returnActionClass(t){switch(t){case"primary":return"uip-background-primary-wash";case"warning":return"uip-background-orange-wash";case"danger":return"uip-background-red-wash";default:return"uip-background-primary-wash"}},returnLimitedDescription(t){return t?t.length<260?t:t.substring(0,260)+"...":""}}},xb={class:"uip-text-normal uip-flex uip-flex-column uip-row-gap-s"},yb={class:"uip-flex uip-gap-xs uip-flex-center uip-flex-between"},_b={class:"uip-background-muted uip-padding-xs uip-padding-top-xxs uip-padding-bottom-xxs uip-border-rounder uip-flex uip-flex-center uip-gap-xs"},vb=["placeholder"],wb={class:"uip-flex uip-gap-xs uip-flex-center"},Ab=["disabled"],Eb={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"},Sb={class:""},Tb=p("div",{class:"uip-border-top uip-margin-top-xs uip-margin-bottom-xs"},null,-1),Nb={class:""},kb={class:"uip-w-160"},Cb={class:"uip-w-160"},Ob={class:"uip-link-default hover:uip-background-grey uip-background-muted uip-border-rounder uip-padding-xs"},Rb={class:"uip-padding-s uip-flex uip-flex-column uip-row-gap-s uip-w-260"},Lb={class:"uip-flex uip-flex-between uip-flex-center"},qb={class:"uip-text-emphasis uip-text-bold uip-text-s"},Db={class:"uip-grid-col-1-3 uip-padding-left-s"},Ib={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Pb={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},$b=p("div",{class:"uip-border-top"},null,-1),Ub={class:"uip-grid-col-1-3 uip-padding-left-s"},Mb={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Bb={value:"ASC"},jb={value:"DESC"},Fb={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Hb={class:"uip-background-transparent uip-template-table",style:{"border-collapse":"collapse","border-spacing":"0"}},Vb={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-left uip-padding-right-s"},zb={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-muted uip-text-weight-normal uip-text-left"},Kb={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-muted uip-text-weight-normal uip-text-left"},Gb={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-muted uip-text-weight-normal uip-text-left"},Wb={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-muted uip-text-weight-normal uip-text-left"},Zb={class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top uip-text-muted uip-text-weight-normal uip-text-left"},Jb=p("th",{class:"uip-padding-top-s uip-padding-bottom-s uip-border-bottom uip-border-top"},null,-1),Xb=["onContextmenu"],Yb={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom uip-text-left"},Qb=["data-id","onUpdate:modelValue"],ex={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom uip-text-left uip-text-bold uip-text-emphasis uip-link-emphasis"},tx=["onClick"],sx=["src"],ix={class:"uip-flex uip-flex-column"},nx={class:"uip-text-bold uip-text-emphasis"},rx={class:"uip-text-muted uip-max-w-160 uip-overflow-hidden uip-text-ellipsis uip-no-wrap uip-text-s"},ox={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom"},lx={class:""},ax={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom"},ux={class:"uip-flex"},cx={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom uip-text-s"},px=["innerHTML"],dx=["innerHTML"],hx={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom"},fx={class:"uip-flex uip-flex-column uip-text-s"},gx={class:""},mx={class:""},bx={class:"uip-padding-top-xs uip-padding-bottom-xs uip-border-bottom uip-text-right"},xx=["onClick"],yx={class:"uip-link-default hover:uip-background-muted uip-border-rounder uip-padding-xxs"},_x={class:"uip-padding-bottom-s uip-border-bottom uip-flex uip-flex-between uip-flex-center"},vx={class:"uip-text-muted"},wx={class:"uip-flex uip-gap-xs uip-text-s"},Ax=["disabled"],Ex=["disabled"],Sx={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"},Tx=["onClick"],Nx={class:""};function kx(t,e,s,i,n,r){const o=P("AppIcon"),l=P("dropdown"),a=P("MultiSelect"),u=P("UserRoleSelect"),d=P("switch-select"),g=P("ContextMenu"),h=P("Confirm");return A(),k(Z,null,[p("div",xb,[p("div",yb,[p("div",_b,[C(o,{icon:"search",class:"uip-text-muted"}),X(p("input",{class:"uip-blank-input uip-text-s uip-flex-grow",placeholder:n.strings.search,"onUpdate:modelValue":e[0]||(e[0]=f=>n.tableFilters.search=f)},null,8,vb),[[re,n.tableFilters.search]])]),p("div",wb,[C(l,{pos:"bottom right",ref:"bulkActions"},{trigger:F(()=>[p("button",{disabled:!r.getTotalSelectedActions,class:"uip-button-default uip-text-s"},_(n.strings.actions)+" ("+_(r.getTotalSelectedActions)+")",9,Ab)]),content:F(()=>[p("div",Eb,[p("a",{onClick:e[1]||(e[1]=f=>{r.deSelectAllActions(),t.$refs.bulkActions.close()}),class:"uip-link-default uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-no-underline"},[p("span",Sb,_(n.strings.clearSelection),1),C(o,{icon:"backspace"})]),Tb,p("a",{class:"uip-link-danger uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder",onClick:e[2]||(e[2]=xe(f=>{r.deleteHistoryActions(r.returnSelectedActionIDS),t.$refs.bulkActions.close()},["prevent"]))},[p("span",Nb,_(n.strings.delete),1),C(o,{icon:"delete"})])])]),_:1},512),p("div",kb,[C(a,{selected:n.tableFilters.status,placeHolder:n.strings.actionFilter,availableOptions:n.tableData.actions,searchPlaceHolder:n.strings.searchActions,updateSelected:f=>{n.tableFilters.status=f}},null,8,["selected","placeHolder","availableOptions","searchPlaceHolder","updateSelected"])]),p("div",Cb,[C(u,{selected:n.tableFilters.roles,placeHolder:n.strings.roleFilter,roleOnly:!0,searchPlaceHolder:n.strings.searchUsersRoles,updateSelected:f=>{n.tableFilters.roles=f}},null,8,["selected","placeHolder","searchPlaceHolder","updateSelected"])]),C(l,{pos:"left top",ref:"filtersDrop"},{trigger:F(()=>[p("div",Ob,[C(o,{icon:"tune"})])]),content:F(()=>[p("div",Rb,[p("div",Lb,[p("div",qb,_(n.strings.filters),1),p("div",{onClick:e[3]||(e[3]=f=>t.$refs.filtersDrop.close()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[C(o,{icon:"close"})])]),p("div",Db,[p("div",Ib,[p("span",null,_(n.strings.created),1)]),C(d,{options:n.dateOptions,style:{width:"160px"},activeValue:n.tableFilters.dateCreated.type,returnValue:f=>n.tableFilters.dateCreated.type=f},null,8,["options","activeValue","returnValue"]),p("div",Pb,[p("span",null,_(n.strings.date),1)]),X(p("input",{class:"uip-input uip-w-160",type:"date","onUpdate:modelValue":e[4]||(e[4]=f=>n.tableFilters.dateCreated.date=f)},null,512),[[re,n.tableFilters.dateCreated.date]])]),$b,p("div",Ub,[p("div",Mb,[p("span",null,_(n.strings.order),1)]),X(p("select",{"onUpdate:modelValue":e[5]||(e[5]=f=>n.tableOptions.direction=f),class:"uip-input uip-w-160"},[p("option",Bb,_(n.strings.ascending),1),p("option",jb,_(n.strings.descending),1)],512),[[il,n.tableOptions.direction]]),p("div",Fb,[p("span",null,_(n.strings.perPage),1)]),X(p("input",{"onUpdate:modelValue":e[6]||(e[6]=f=>n.tableOptions.perPage=f),class:"uip-input uip-w-160",type:"number"},null,512),[[re,n.tableOptions.perPage]])])])]),_:1},512)])]),p("table",Hb,[p("thead",null,[p("tr",null,[p("th",Vb,[X(p("input",{type:"checkbox",class:"uip-checkbox","onUpdate:modelValue":e[7]||(e[7]=f=>n.selectAll=f)},null,512),[[ii,n.selectAll]])]),p("th",zb,_(n.strings.user),1),p("th",Kb,_(n.strings.IPaddress),1),p("th",Gb,_(n.strings.action),1),p("th",Wb,_(n.strings.description),1),p("th",Zb,_(n.strings.date),1),Jb])]),C(Wn,{name:"list",tag:"tbody"},{default:F(()=>[(A(!0),k(Z,null,pe(n.tableData.activity,(f,b)=>(A(),k("tr",{key:f.id,onContextmenu:xe(y=>t.$refs["activityMenu-"+b][0].show(y),["prevent","stop"])},[p("td",Yb,[X(p("input",{class:"uip-checkbox","data-id":f.id,type:"checkbox","onUpdate:modelValue":y=>f.selected=y},null,8,Qb),[[ii,f.selected]])]),p("td",ex,[p("div",{class:"uip-flex uip-flex-center uip-gap-s",onClick:y=>t.$router.push("/users/"+f.user_id+"/")},[f.image?(A(),k("img",{key:0,class:"uip-w-28 uip-ratio-1-1 uip-border-circle",src:f.image},null,8,sx)):z("",!0),p("div",ix,[p("span",nx,_(f.user),1),p("span",rx,_(f.user_email),1)])],8,tx)]),p("td",ox,[p("span",lx,_(f.ip_address),1)]),p("td",ax,[p("div",ux,[p("div",{class:dt([r.returnActionClass(f.type),"uip-border-round uip-padding-left-xxs uip-padding-right-xxs uip-text-bold uip-link-default uip-no-underline uip-text-s"])},_(f.action),3)])]),p("td",cx,[C(l,{hover:!0,pos:"bottom left"},Np({trigger:F(()=>[p("div",{class:"uip-max-h-80 uip-overflow-auto uip-max-w-350 uip-break-word",innerHTML:r.returnLimitedDescription(f.description)},null,8,px)]),_:2},[f.description.length>260?{name:"content",fn:F(()=>[p("div",{class:"uip-padding-s uip-w-300 uip-max-w-350 uip-break-word",innerHTML:f.description},null,8,dx)]),key:"0"}:void 0]),1024)]),p("td",hx,[p("div",fx,[p("span",gx,_(f.time),1),p("span",mx,_(f.date),1)])]),p("td",bx,[p("div",{class:"uip-inline-flex",onClick:xe(y=>t.$refs["activityMenu-"+b][0].show(y),["prevent","stop"])},[p("a",yx,[C(o,{icon:"more_vert"})])],8,xx)])],40,Xb))),128))]),_:1})]),p("div",_x,[p("div",vx,_(n.tableData.totalFound)+" "+_(n.strings.results),1),p("div",wx,[p("button",{disabled:n.tableOptions.page<2,class:"uip-button-default",onClick:e[8]||(e[8]=f=>n.tableOptions.page--)},_(n.strings.previous),9,Ax),p("button",{disabled:n.tableOptions.page>=n.tableData.totalPages,class:"uip-button-default",onClick:e[9]||(e[9]=f=>n.tableOptions.page++)},_(n.strings.next),9,Ex)])]),(A(!0),k(Z,null,pe(n.tableData.activity,(f,b)=>(A(),me(g,{ref_for:!0,ref:"activityMenu-"+b},{default:F(()=>[p("div",Sx,[p("a",{class:"uip-link-danger uip-flex uip-flex-center uip-flex-between uip-gap-m uip-padding-xxs hover:uip-background-muted uip-border-rounder",onClick:xe(y=>{r.deleteHistoryActions(f.id),t.$refs["activityMenu-"+b][0].close()},["prevent"])},[p("span",Nx,_(n.strings.delete),1),C(o,{icon:"delete"})],8,Tx)])]),_:2},1536))),256))]),C(h,{ref:"Confirm"},null,512)],64)}const Cx=Ce(bb,[["render",kx]]),Ox={props:{selected:Array,placeHolder:String,searchPlaceHolder:String,single:Boolean,updateSelected:Function,availableOptions:Array},data(){return{thisSearchInput:"",options:this.availableOptions,loading:!1,selectedOptions:this.selected}},watch:{selected:{handler(t,e){this.injectValue()},deep:!0,immediate:!0},selectedOptions:{handler(t,e){this.updateSelected(this.selectedOptions)},deep:!0}},computed:{formattedOptions(){return this.options},returnLoading(){return this.loading}},methods:{injectValue(){Array.isArray(this.selected)&&(this.selectedOptions=this.selected)},addSelected(t){if(this.ifSelected(t)){this.removeSelected(t);return}this.single==!0?this.selectedOptions[0]=t:this.selectedOptions.push(t)},removeSelected(t){let e=this.selectedOptions.indexOf(t);e>-1&&this.selectedOptions.splice(e,1)},ifSelected(t){return this.selectedOptions.indexOf(t)>-1},ifInSearch(t){let e=t.toLowerCase(),s=this.thisSearchInput.toLowerCase();return!!e.includes(s)}}},Rx={class:"uip-flex uip-flex-column uip-row-gap-s"},Lx={class:"uip-flex uip-background-muted uip-border-rounder uip-flex-center uip-padding-xxs uip-gap-xs"},qx=["placeholder"],Dx={key:1,class:"uip-max-h-280 uip-flex uip-flex-column uip-row-gap-xxs",style:{overflow:"auto"}},Ix=["onClick"],Px={class:"uip-flex uip-flex-center uip-flex-middle uip-margin-right-xs"},$x=["name","value","checked"],Ux={class:"uip-flex-grow uip-text-s uip-flex uip-gap-xxs"},Mx={class:"uip-text-bold uip-text-emphasis"},Bx={class:"uip-text-muted"};function jx(t,e,s,i,n,r){const o=P("AppIcon"),l=P("loading-chart");return A(),k("div",Rx,[p("div",Lx,[C(o,{icon:"search",class:"uip-text-muted"}),X(p("input",{class:"uip-blank-input uip-flex-grow uip-text-s",type:"search",placeholder:s.searchPlaceHolder,"onUpdate:modelValue":e[0]||(e[0]=a=>n.thisSearchInput=a),autofocus:""},null,8,qx),[[re,n.thisSearchInput]])]),r.returnLoading?(A(),k("div",{class:"uip-w-100p uip-flex uip-flex-center uip-flex-middle uip-h-200",key:r.returnLoading},[C(l)])):(A(),k("div",Dx,[(A(!0),k(Z,null,pe(r.formattedOptions,a=>(A(),k(Z,null,[r.ifInSearch(a.name)?(A(),k("div",{key:0,class:"uip-background-default uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-flex uip-flex-row uip-flex-center",onClick:u=>r.addSelected(a.name,n.selectedOptions),style:{cursor:"pointer"}},[p("div",Px,[p("input",{type:"checkbox",name:a.name,value:a.name,class:"uip-checkbox uip-margin-remove",checked:r.ifSelected(a.name,n.selectedOptions)},null,8,$x)]),p("div",Ux,[p("div",Mx,_(a.label),1),p("div",Bx,_(a.name),1)])],8,Ix)):z("",!0)],64))),256))]))])}const qu=Ce(Ox,[["render",jx]]),{__:Fx,_x:mk,_n:bk,_nx:xk}=wp.i18n,Hx={components:{PostTypeSelect:qu},props:{selected:Array,placeHolder:String,searchPlaceHolder:String,single:Boolean,updateSelected:Function},data(){return{thisSearchInput:"",options:[],loading:!1,selectedOptions:[],strings:{postTypeSelect:Fx("Post type select","uipress-lite")}}},watch:{selectedOptions:{handler(t,e){if(this.updateSelected(this.selectedOptions),this.selectedOptions.length<1){if(!this.$refs.showList)return;this.$refs.showList.close()}},deep:!0},selected:{handler(t,e){this.injectValue()},deep:!0,immediate:!0}},computed:{returnSelectPosition(){const t=this.$refs.multiselect.getBoundingClientRect();return{clientX:t.left,clientY:t.bottom+8}},returnDropWidth(){return{width:this.$refs.multiselect.getBoundingClientRect().width+"px"}}},methods:{injectValue(){Array.isArray(this.selected)&&(this.selectedOptions=this.selected)},removeByIndex(t){this.selectedOptions.splice(t,1)},showSelected(t){this.$refs.showList.show(t,this.returnSelectPosition),clearTimeout(this.hoverTimeout)},dispatchClose(){const t=()=>{this.$refs.showList.close()};this.hoverTimeout=setTimeout(t,1e3)}}},Vx={ref:"multiselect",class:"uip-padding-xxxs uip-background-muted uip-border-rounder uip-w-100p uip-max-w-400 uip-cursor-pointer uip-border-box uip-padding-right-xs"},zx={class:"uip-flex uip-flex-center"},Kx={key:0,class:"uip-flex-grow uip-padding-xs uip-padding-top-xxxs uip-padding-bottom-xxxs uip-flex uip-gap-xxs uip-flex-center uip-link-default uip-text-s uip-border",style:{"border-color":"transparent"}},Gx={class:"uip-text-muted"},Wx={key:1,class:"uip-padding-xs uip-padding-top-xxxs uip-padding-bottom-xxxs uip-background-highlight uip-border-rounder uip-border uip-flex uip-gap-xxs uip-flex-center uip-link-default uip-text-s"},Zx={class:"uip-text-emphasis"},Jx={class:"uip-text-emphasis uip-max-w-60 uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},Xx={key:0,class:"uip-text-muted uip-text-s"},Yx={key:1,class:"uip-text-muted uip-text-s"},Qx={class:"uip-flex-grow uip-flex uip-flex-right"},e0={class:"uip-text-emphasis"};function t0(t,e,s,i,n,r){const o=P("AppIcon"),l=P("contextmenu");return A(),k("div",Vx,[p("div",zx,[n.selectedOptions.length<1?(A(),k("div",Kx,[p("span",Gx,_(s.placeHolder)+"...",1)])):z("",!0),n.selectedOptions.length===1?(A(),k("div",Wx,[p("span",Zx,_(n.selectedOptions[0]),1),C(o,{onClick:e[0]||(e[0]=xe(a=>r.removeByIndex(0),["prevent","stop"])),icon:"close",class:"uip-link-muted uip-no-underline"})])):z("",!0),n.selectedOptions.length>1?(A(),k("div",{key:2,class:"uip-padding-xs uip-padding-top-xxxs uip-padding-bottom-xxxs uip-background-highlight uip-border-rounder uip-border uip-flex uip-gap-xxs uip-flex-center uip-link-default uip-text-s",onMouseenter:e[2]||(e[2]=a=>r.showSelected(a)),onMouseleave:e[3]||(e[3]=a=>r.dispatchClose())},[p("span",Jx,_(n.selectedOptions[0]),1),n.selectedOptions.length<3?(A(),k("span",Xx," + "+_(n.selectedOptions.length-1)+" "+_(n.strings.other),1)):z("",!0),n.selectedOptions.length>2?(A(),k("span",Yx," + "+_(n.selectedOptions.length-1)+" "+_(n.strings.others),1)):z("",!0),C(o,{onClick:e[1]||(e[1]=xe(a=>n.selectedOptions.length=0,["prevent","stop"])),icon:"close",class:"uip-link-muted uip-no-underline"})],32)):z("",!0),p("div",Qx,[C(o,{icon:"expand_more",class:"uip-link-muted uip-no-underline"})])]),(A(),me(nl("style"),null,{default:F(()=>[Me(" .selected-enter-active, .selected-leave-active { transition: all 0.3s ease; } .selected-enter-from, .selected-leave-to { opacity: 0; transform: translateX(-30px); } ")]),_:1})),C(l,{ref:"showList",disableTeleport:!0},{default:F(()=>[p("div",{class:"uip-flex uip-gap-xxs uip-flex-wrap uip-padding-xs",style:pt(r.returnDropWidth),onMouseenter:e[4]||(e[4]=a=>r.showSelected(a)),onMouseleave:e[5]||(e[5]=a=>t.$refs.showList.close())},[C(Wn,{name:"selected"},{default:F(()=>[(A(!0),k(Z,null,pe(n.selectedOptions,(a,u)=>(A(),k("div",{key:a,class:"uip-padding-xxs uip-padding-top-xxxs uip-padding-bottom-xxxs uip-background-muted uip-border-rounder uip-border uip-flex uip-gap-xxs uip-flex-center uip-link-default uip-text-xs"},[p("span",e0,_(a),1),C(o,{onClick:xe(d=>r.removeByIndex(u),["prevent","stop"]),icon:"close",class:"uip-link-muted uip-no-underline"},null,8,["onClick"])]))),128))]),_:1})],36)]),_:1},512)],512)}const s0=Ce(Hx,[["render",t0]]);wp.i18n;const i0={components:{PostTypeSelect:qu,PostTypePreview:s0},props:{selected:Array,placeHolder:String,searchPlaceHolder:String,single:Boolean,updateSelected:Function,availableOptions:Array},data(){return{}}},n0={class:"uip-padding-s uip-w-260 uip-flex uip-flex-column uip-row-gap-s"},r0={class:"uip-flex uip-flex-between uip-flex-center"},o0={class:"uip-text-emphasis uip-text-bold uip-text-s"};function l0(t,e,s,i,n,r){const o=P("PostTypePreview"),l=P("AppIcon"),a=P("PostTypeSelect"),u=P("dropdown");return A(),me(u,{pos:"left center",class:"uip-w-100p",ref:"postselect",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:F(()=>[C(o,{selected:s.selected,placeHolder:s.placeHolder,searchPlaceHolder:s.searchPlaceHolder,single:s.single,updateSelected:s.updateSelected},null,8,["selected","placeHolder","searchPlaceHolder","single","updateSelected"])]),content:F(()=>[p("div",n0,[p("div",r0,[p("div",o0,_(s.placeHolder),1),p("div",{onClick:e[0]||(e[0]=d=>t.$refs.postselect.close()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[C(l,{icon:"close"})])]),C(a,{availableOptions:s.availableOptions,selected:s.selected,placeHolder:s.placeHolder,searchPlaceHolder:s.searchPlaceHolder,single:s.single,updateSelected:s.updateSelected},null,8,["availableOptions","selected","placeHolder","searchPlaceHolder","single","updateSelected"])])]),_:1},512)}const a0=Ce(i0,[["render",l0]]);function Du(t,e){return function(){return t.apply(e,arguments)}}const{toString:u0}=Object.prototype,{getPrototypeOf:ll}=Object,Jn=(t=>e=>{const s=u0.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),yt=t=>(t=t.toLowerCase(),e=>Jn(e)===t),Xn=t=>e=>typeof e===t,{isArray:pi}=Array,Ki=Xn("undefined");function c0(t){return t!==null&&!Ki(t)&&t.constructor!==null&&!Ki(t.constructor)&&it(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Iu=yt("ArrayBuffer");function p0(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Iu(t.buffer),e}const d0=Xn("string"),it=Xn("function"),Pu=Xn("number"),Yn=t=>t!==null&&typeof t=="object",h0=t=>t===!0||t===!1,In=t=>{if(Jn(t)!=="object")return!1;const e=ll(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},f0=yt("Date"),g0=yt("File"),m0=yt("Blob"),b0=yt("FileList"),x0=t=>Yn(t)&&it(t.pipe),y0=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||it(t.append)&&((e=Jn(t))==="formdata"||e==="object"&&it(t.toString)&&t.toString()==="[object FormData]"))},_0=yt("URLSearchParams"),[v0,w0,A0,E0]=["ReadableStream","Request","Response","Headers"].map(yt),S0=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tn(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let i,n;if(typeof t!="object"&&(t=[t]),pi(t))for(i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else{const r=s?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let l;for(i=0;i<o;i++)l=r[i],e.call(null,t[l],l,t)}}function $u(t,e){e=e.toLowerCase();const s=Object.keys(t);let i=s.length,n;for(;i-- >0;)if(n=s[i],e===n.toLowerCase())return n;return null}const Uu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mu=t=>!Ki(t)&&t!==Uu;function Eo(){const{caseless:t}=Mu(this)&&this||{},e={},s=(i,n)=>{const r=t&&$u(e,n)||n;In(e[r])&&In(i)?e[r]=Eo(e[r],i):In(i)?e[r]=Eo({},i):pi(i)?e[r]=i.slice():e[r]=i};for(let i=0,n=arguments.length;i<n;i++)arguments[i]&&tn(arguments[i],s);return e}const T0=(t,e,s,{allOwnKeys:i}={})=>(tn(e,(n,r)=>{s&&it(n)?t[r]=Du(n,s):t[r]=n},{allOwnKeys:i}),t),N0=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),k0=(t,e,s,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},C0=(t,e,s,i)=>{let n,r,o;const l={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),r=n.length;r-- >0;)o=n[r],(!i||i(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=s!==!1&&ll(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},O0=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const i=t.indexOf(e,s);return i!==-1&&i===s},R0=t=>{if(!t)return null;if(pi(t))return t;let e=t.length;if(!Pu(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},L0=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ll(Uint8Array)),q0=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=i.next())&&!n.done;){const r=n.value;e.call(t,r[0],r[1])}},D0=(t,e)=>{let s;const i=[];for(;(s=t.exec(e))!==null;)i.push(s);return i},I0=yt("HTMLFormElement"),P0=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,i,n){return i.toUpperCase()+n}),ta=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),$0=yt("RegExp"),Bu=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),i={};tn(s,(n,r)=>{let o;(o=e(n,r,t))!==!1&&(i[r]=o||n)}),Object.defineProperties(t,i)},U0=t=>{Bu(t,(e,s)=>{if(it(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const i=t[s];if(it(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},M0=(t,e)=>{const s={},i=n=>{n.forEach(r=>{s[r]=!0})};return pi(t)?i(t):i(String(t).split(e)),s},B0=()=>{},j0=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,io="abcdefghijklmnopqrstuvwxyz",sa="0123456789",ju={DIGIT:sa,ALPHA:io,ALPHA_DIGIT:io+io.toUpperCase()+sa},F0=(t=16,e=ju.ALPHA_DIGIT)=>{let s="";const{length:i}=e;for(;t--;)s+=e[Math.random()*i|0];return s};function H0(t){return!!(t&&it(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const V0=t=>{const e=new Array(10),s=(i,n)=>{if(Yn(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[n]=i;const r=pi(i)?[]:{};return tn(i,(o,l)=>{const a=s(o,n+1);!Ki(a)&&(r[l]=a)}),e[n]=void 0,r}}return i};return s(t,0)},z0=yt("AsyncFunction"),K0=t=>t&&(Yn(t)||it(t))&&it(t.then)&&it(t.catch),S={isArray:pi,isArrayBuffer:Iu,isBuffer:c0,isFormData:y0,isArrayBufferView:p0,isString:d0,isNumber:Pu,isBoolean:h0,isObject:Yn,isPlainObject:In,isReadableStream:v0,isRequest:w0,isResponse:A0,isHeaders:E0,isUndefined:Ki,isDate:f0,isFile:g0,isBlob:m0,isRegExp:$0,isFunction:it,isStream:x0,isURLSearchParams:_0,isTypedArray:L0,isFileList:b0,forEach:tn,merge:Eo,extend:T0,trim:S0,stripBOM:N0,inherits:k0,toFlatObject:C0,kindOf:Jn,kindOfTest:yt,endsWith:O0,toArray:R0,forEachEntry:q0,matchAll:D0,isHTMLForm:I0,hasOwnProperty:ta,hasOwnProp:ta,reduceDescriptors:Bu,freezeMethods:U0,toObjectSet:M0,toCamelCase:P0,noop:B0,toFiniteNumber:j0,findKey:$u,global:Uu,isContextDefined:Mu,ALPHABET:ju,generateString:F0,isSpecCompliantForm:H0,toJSONObject:V0,isAsyncFn:z0,isThenable:K0};function J(t,e,s,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),i&&(this.request=i),n&&(this.response=n)}S.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:S.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Fu=J.prototype,Hu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Hu[t]={value:t}});Object.defineProperties(J,Hu);Object.defineProperty(Fu,"isAxiosError",{value:!0});J.from=(t,e,s,i,n,r)=>{const o=Object.create(Fu);return S.toFlatObject(t,o,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),J.call(o,t.message,e,s,i,n),o.cause=t,o.name=t.name,r&&Object.assign(o,r),o};const G0=null;function So(t){return S.isPlainObject(t)||S.isArray(t)}function Vu(t){return S.endsWith(t,"[]")?t.slice(0,-2):t}function ia(t,e,s){return t?t.concat(e).map(function(n,r){return n=Vu(n),!s&&r?"["+n+"]":n}).join(s?".":""):e}function W0(t){return S.isArray(t)&&!t.some(So)}const Z0=S.toFlatObject(S,{},null,function(e){return/^is[A-Z]/.test(e)});function Qn(t,e,s){if(!S.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=S.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!S.isUndefined(w[y])});const i=s.metaTokens,n=s.visitor||d,r=s.dots,o=s.indexes,a=(s.Blob||typeof Blob<"u"&&Blob)&&S.isSpecCompliantForm(e);if(!S.isFunction(n))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(S.isDate(b))return b.toISOString();if(!a&&S.isBlob(b))throw new J("Blob is not supported. Use a Buffer instead.");return S.isArrayBuffer(b)||S.isTypedArray(b)?a&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function d(b,y,w){let v=b;if(b&&!w&&typeof b=="object"){if(S.endsWith(y,"{}"))y=i?y:y.slice(0,-2),b=JSON.stringify(b);else if(S.isArray(b)&&W0(b)||(S.isFileList(b)||S.endsWith(y,"[]"))&&(v=S.toArray(b)))return y=Vu(y),v.forEach(function(N,L){!(S.isUndefined(N)||N===null)&&e.append(o===!0?ia([y],L,r):o===null?y:y+"[]",u(N))}),!1}return So(b)?!0:(e.append(ia(w,y,r),u(b)),!1)}const g=[],h=Object.assign(Z0,{defaultVisitor:d,convertValue:u,isVisitable:So});function f(b,y){if(!S.isUndefined(b)){if(g.indexOf(b)!==-1)throw Error("Circular reference detected in "+y.join("."));g.push(b),S.forEach(b,function(v,E){(!(S.isUndefined(v)||v===null)&&n.call(e,v,S.isString(E)?E.trim():E,y,h))===!0&&f(v,y?y.concat(E):[E])}),g.pop()}}if(!S.isObject(t))throw new TypeError("data must be an object");return f(t),e}function na(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function al(t,e){this._pairs=[],t&&Qn(t,this,e)}const zu=al.prototype;zu.append=function(e,s){this._pairs.push([e,s])};zu.toString=function(e){const s=e?function(i){return e.call(this,i,na)}:na;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function J0(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ku(t,e,s){if(!e)return t;const i=s&&s.encode||J0,n=s&&s.serialize;let r;if(n?r=n(e,s):r=S.isURLSearchParams(e)?e.toString():new al(e,s).toString(i),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class ra{constructor(){this.handlers=[]}use(e,s,i){return this.handlers.push({fulfilled:e,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){S.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Gu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},X0=typeof URLSearchParams<"u"?URLSearchParams:al,Y0=typeof FormData<"u"?FormData:null,Q0=typeof Blob<"u"?Blob:null,ey={isBrowser:!0,classes:{URLSearchParams:X0,FormData:Y0,Blob:Q0},protocols:["http","https","file","blob","url","data"]},ul=typeof window<"u"&&typeof document<"u",ty=(t=>ul&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),sy=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iy=ul&&window.location.href||"http://localhost",ny=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ul,hasStandardBrowserEnv:ty,hasStandardBrowserWebWorkerEnv:sy,origin:iy},Symbol.toStringTag,{value:"Module"})),gt={...ny,...ey};function ry(t,e){return Qn(t,new gt.classes.URLSearchParams,Object.assign({visitor:function(s,i,n,r){return gt.isNode&&S.isBuffer(s)?(this.append(i,s.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function oy(t){return S.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ly(t){const e={},s=Object.keys(t);let i;const n=s.length;let r;for(i=0;i<n;i++)r=s[i],e[r]=t[r];return e}function Wu(t){function e(s,i,n,r){let o=s[r++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),a=r>=s.length;return o=!o&&S.isArray(n)?n.length:o,a?(S.hasOwnProp(n,o)?n[o]=[n[o],i]:n[o]=i,!l):((!n[o]||!S.isObject(n[o]))&&(n[o]=[]),e(s,i,n[o],r)&&S.isArray(n[o])&&(n[o]=ly(n[o])),!l)}if(S.isFormData(t)&&S.isFunction(t.entries)){const s={};return S.forEachEntry(t,(i,n)=>{e(oy(i),n,s,0)}),s}return null}function ay(t,e,s){if(S.isString(t))try{return(e||JSON.parse)(t),S.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(s||JSON.stringify)(t)}const sn={transitional:Gu,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const i=s.getContentType()||"",n=i.indexOf("application/json")>-1,r=S.isObject(e);if(r&&S.isHTMLForm(e)&&(e=new FormData(e)),S.isFormData(e))return n?JSON.stringify(Wu(e)):e;if(S.isArrayBuffer(e)||S.isBuffer(e)||S.isStream(e)||S.isFile(e)||S.isBlob(e)||S.isReadableStream(e))return e;if(S.isArrayBufferView(e))return e.buffer;if(S.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return ry(e,this.formSerializer).toString();if((l=S.isFileList(e))||i.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Qn(l?{"files[]":e}:e,a&&new a,this.formSerializer)}}return r||n?(s.setContentType("application/json",!1),ay(e)):e}],transformResponse:[function(e){const s=this.transitional||sn.transitional,i=s&&s.forcedJSONParsing,n=this.responseType==="json";if(S.isResponse(e)||S.isReadableStream(e))return e;if(e&&S.isString(e)&&(i&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?J.from(l,J.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gt.classes.FormData,Blob:gt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};S.forEach(["delete","get","head","post","put","patch"],t=>{sn.headers[t]={}});const uy=S.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cy=t=>{const e={};let s,i,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),i=o.substring(n+1).trim(),!(!s||e[s]&&uy[s])&&(s==="set-cookie"?e[s]?e[s].push(i):e[s]=[i]:e[s]=e[s]?e[s]+", "+i:i)}),e},oa=Symbol("internals");function Ri(t){return t&&String(t).trim().toLowerCase()}function Pn(t){return t===!1||t==null?t:S.isArray(t)?t.map(Pn):String(t)}function py(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(t);)e[i[1]]=i[2];return e}const dy=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function no(t,e,s,i,n){if(S.isFunction(i))return i.call(this,e,s);if(n&&(e=s),!!S.isString(e)){if(S.isString(i))return e.indexOf(i)!==-1;if(S.isRegExp(i))return i.test(e)}}function hy(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,i)=>s.toUpperCase()+i)}function fy(t,e){const s=S.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+s,{value:function(n,r,o){return this[i].call(this,e,n,r,o)},configurable:!0})})}class ze{constructor(e){e&&this.set(e)}set(e,s,i){const n=this;function r(l,a,u){const d=Ri(a);if(!d)throw new Error("header name must be a non-empty string");const g=S.findKey(n,d);(!g||n[g]===void 0||u===!0||u===void 0&&n[g]!==!1)&&(n[g||a]=Pn(l))}const o=(l,a)=>S.forEach(l,(u,d)=>r(u,d,a));if(S.isPlainObject(e)||e instanceof this.constructor)o(e,s);else if(S.isString(e)&&(e=e.trim())&&!dy(e))o(cy(e),s);else if(S.isHeaders(e))for(const[l,a]of e.entries())r(a,l,i);else e!=null&&r(s,e,i);return this}get(e,s){if(e=Ri(e),e){const i=S.findKey(this,e);if(i){const n=this[i];if(!s)return n;if(s===!0)return py(n);if(S.isFunction(s))return s.call(this,n,i);if(S.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Ri(e),e){const i=S.findKey(this,e);return!!(i&&this[i]!==void 0&&(!s||no(this,this[i],i,s)))}return!1}delete(e,s){const i=this;let n=!1;function r(o){if(o=Ri(o),o){const l=S.findKey(i,o);l&&(!s||no(i,i[l],l,s))&&(delete i[l],n=!0)}}return S.isArray(e)?e.forEach(r):r(e),n}clear(e){const s=Object.keys(this);let i=s.length,n=!1;for(;i--;){const r=s[i];(!e||no(this,this[r],r,e,!0))&&(delete this[r],n=!0)}return n}normalize(e){const s=this,i={};return S.forEach(this,(n,r)=>{const o=S.findKey(i,r);if(o){s[o]=Pn(n),delete s[r];return}const l=e?hy(r):String(r).trim();l!==r&&delete s[r],s[l]=Pn(n),i[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return S.forEach(this,(i,n)=>{i!=null&&i!==!1&&(s[n]=e&&S.isArray(i)?i.join(", "):i)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const i=new this(e);return s.forEach(n=>i.set(n)),i}static accessor(e){const i=(this[oa]=this[oa]={accessors:{}}).accessors,n=this.prototype;function r(o){const l=Ri(o);i[l]||(fy(n,o),i[l]=!0)}return S.isArray(e)?e.forEach(r):r(e),this}}ze.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);S.reduceDescriptors(ze.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[s]=i}}});S.freezeMethods(ze);function ro(t,e){const s=this||sn,i=e||s,n=ze.from(i.headers);let r=i.data;return S.forEach(t,function(l){r=l.call(s,r,n.normalize(),e?e.status:void 0)}),n.normalize(),r}function Zu(t){return!!(t&&t.__CANCEL__)}function di(t,e,s){J.call(this,t??"canceled",J.ERR_CANCELED,e,s),this.name="CanceledError"}S.inherits(di,J,{__CANCEL__:!0});function Ju(t,e,s){const i=s.config.validateStatus;!s.status||!i||i(s.status)?t(s):e(new J("Request failed with status code "+s.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function gy(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function my(t,e){t=t||10;const s=new Array(t),i=new Array(t);let n=0,r=0,o;return e=e!==void 0?e:1e3,function(a){const u=Date.now(),d=i[r];o||(o=u),s[n]=a,i[n]=u;let g=r,h=0;for(;g!==n;)h+=s[g++],g=g%t;if(n=(n+1)%t,n===r&&(r=(r+1)%t),u-o<e)return;const f=d&&u-d;return f?Math.round(h*1e3/f):void 0}}function by(t,e){let s=0;const i=1e3/e;let n=null;return function(){const o=this===!0,l=Date.now();if(o||l-s>i)return n&&(clearTimeout(n),n=null),s=l,t.apply(null,arguments);n||(n=setTimeout(()=>(n=null,s=Date.now(),t.apply(null,arguments)),i-(l-s)))}}const Bn=(t,e,s=3)=>{let i=0;const n=my(50,250);return by(r=>{const o=r.loaded,l=r.lengthComputable?r.total:void 0,a=o-i,u=n(a),d=o<=l;i=o;const g={loaded:o,total:l,progress:l?o/l:void 0,bytes:a,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:r,lengthComputable:l!=null};g[e?"download":"upload"]=!0,t(g)},s)},xy=gt.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let i;function n(r){let o=r;return e&&(s.setAttribute("href",o),o=s.href),s.setAttribute("href",o),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return i=n(window.location.href),function(o){const l=S.isString(o)?n(o):o;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),yy=gt.hasStandardBrowserEnv?{write(t,e,s,i,n,r){const o=[t+"="+encodeURIComponent(e)];S.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),S.isString(i)&&o.push("path="+i),S.isString(n)&&o.push("domain="+n),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _y(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function vy(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Xu(t,e){return t&&!_y(e)?vy(t,e):e}const la=t=>t instanceof ze?{...t}:t;function As(t,e){e=e||{};const s={};function i(u,d,g){return S.isPlainObject(u)&&S.isPlainObject(d)?S.merge.call({caseless:g},u,d):S.isPlainObject(d)?S.merge({},d):S.isArray(d)?d.slice():d}function n(u,d,g){if(S.isUndefined(d)){if(!S.isUndefined(u))return i(void 0,u,g)}else return i(u,d,g)}function r(u,d){if(!S.isUndefined(d))return i(void 0,d)}function o(u,d){if(S.isUndefined(d)){if(!S.isUndefined(u))return i(void 0,u)}else return i(void 0,d)}function l(u,d,g){if(g in e)return i(u,d);if(g in t)return i(void 0,u)}const a={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d)=>n(la(u),la(d),!0)};return S.forEach(Object.keys(Object.assign({},t,e)),function(d){const g=a[d]||n,h=g(t[d],e[d],d);S.isUndefined(h)&&g!==l||(s[d]=h)}),s}const Yu=t=>{const e=As({},t);let{data:s,withXSRFToken:i,xsrfHeaderName:n,xsrfCookieName:r,headers:o,auth:l}=e;e.headers=o=ze.from(o),e.url=Ku(Xu(e.baseURL,e.url),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let a;if(S.isFormData(s)){if(gt.hasStandardBrowserEnv||gt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((a=o.getContentType())!==!1){const[u,...d]=a?a.split(";").map(g=>g.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(gt.hasStandardBrowserEnv&&(i&&S.isFunction(i)&&(i=i(e)),i||i!==!1&&xy(e.url))){const u=n&&r&&yy.read(r);u&&o.set(n,u)}return e},wy=typeof XMLHttpRequest<"u",Ay=wy&&function(t){return new Promise(function(s,i){const n=Yu(t);let r=n.data;const o=ze.from(n.headers).normalize();let{responseType:l}=n,a;function u(){n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}let d=new XMLHttpRequest;d.open(n.method.toUpperCase(),n.url,!0),d.timeout=n.timeout;function g(){if(!d)return;const f=ze.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),y={data:!l||l==="text"||l==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:f,config:t,request:d};Ju(function(v){s(v),u()},function(v){i(v),u()},y),d=null}"onloadend"in d?d.onloadend=g:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(g)},d.onabort=function(){d&&(i(new J("Request aborted",J.ECONNABORTED,n,d)),d=null)},d.onerror=function(){i(new J("Network Error",J.ERR_NETWORK,n,d)),d=null},d.ontimeout=function(){let b=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const y=n.transitional||Gu;n.timeoutErrorMessage&&(b=n.timeoutErrorMessage),i(new J(b,y.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,n,d)),d=null},r===void 0&&o.setContentType(null),"setRequestHeader"in d&&S.forEach(o.toJSON(),function(b,y){d.setRequestHeader(y,b)}),S.isUndefined(n.withCredentials)||(d.withCredentials=!!n.withCredentials),l&&l!=="json"&&(d.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&d.addEventListener("progress",Bn(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",Bn(n.onUploadProgress)),(n.cancelToken||n.signal)&&(a=f=>{d&&(i(!f||f.type?new di(null,t,d):f),d.abort(),d=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const h=gy(n.url);if(h&&gt.protocols.indexOf(h)===-1){i(new J("Unsupported protocol "+h+":",J.ERR_BAD_REQUEST,t));return}d.send(r||null)})},Ey=(t,e)=>{let s=new AbortController,i;const n=function(a){if(!i){i=!0,o();const u=a instanceof Error?a:this.reason;s.abort(u instanceof J?u:new di(u instanceof Error?u.message:u))}};let r=e&&setTimeout(()=>{n(new J(`timeout ${e} of ms exceeded`,J.ETIMEDOUT))},e);const o=()=>{t&&(r&&clearTimeout(r),r=null,t.forEach(a=>{a&&(a.removeEventListener?a.removeEventListener("abort",n):a.unsubscribe(n))}),t=null)};t.forEach(a=>a&&a.addEventListener&&a.addEventListener("abort",n));const{signal:l}=s;return l.unsubscribe=o,[l,()=>{r&&clearTimeout(r),r=null}]},Sy=function*(t,e){let s=t.byteLength;if(!e||s<e){yield t;return}let i=0,n;for(;i<s;)n=i+e,yield t.slice(i,n),i=n},Ty=async function*(t,e,s){for await(const i of t)yield*Sy(ArrayBuffer.isView(i)?i:await s(String(i)),e)},aa=(t,e,s,i,n)=>{const r=Ty(t,e,n);let o=0;return new ReadableStream({type:"bytes",async pull(l){const{done:a,value:u}=await r.next();if(a){l.close(),i();return}let d=u.byteLength;s&&s(o+=d),l.enqueue(new Uint8Array(u))},cancel(l){return i(l),r.return()}},{highWaterMark:2})},ua=(t,e)=>{const s=t!=null;return i=>setTimeout(()=>e({lengthComputable:s,total:t,loaded:i}))},er=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Qu=er&&typeof ReadableStream=="function",To=er&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Ny=Qu&&(()=>{let t=!1;const e=new Request(gt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),ca=64*1024,No=Qu&&!!(()=>{try{return S.isReadableStream(new Response("").body)}catch{}})(),jn={stream:No&&(t=>t.body)};er&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!jn[e]&&(jn[e]=S.isFunction(t[e])?s=>s[e]():(s,i)=>{throw new J(`Response type '${e}' is not supported`,J.ERR_NOT_SUPPORT,i)})})})(new Response);const ky=async t=>{if(t==null)return 0;if(S.isBlob(t))return t.size;if(S.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(S.isArrayBufferView(t))return t.byteLength;if(S.isURLSearchParams(t)&&(t=t+""),S.isString(t))return(await To(t)).byteLength},Cy=async(t,e)=>{const s=S.toFiniteNumber(t.getContentLength());return s??ky(e)},Oy=er&&(async t=>{let{url:e,method:s,data:i,signal:n,cancelToken:r,timeout:o,onDownloadProgress:l,onUploadProgress:a,responseType:u,headers:d,withCredentials:g="same-origin",fetchOptions:h}=Yu(t);u=u?(u+"").toLowerCase():"text";let[f,b]=n||r||o?Ey([n,r],o):[],y,w;const v=()=>{!y&&setTimeout(()=>{f&&f.unsubscribe()}),y=!0};let E;try{if(a&&Ny&&s!=="get"&&s!=="head"&&(E=await Cy(d,i))!==0){let U=new Request(e,{method:"POST",body:i,duplex:"half"}),K;S.isFormData(i)&&(K=U.headers.get("content-type"))&&d.setContentType(K),U.body&&(i=aa(U.body,ca,ua(E,Bn(a)),null,To))}S.isString(g)||(g=g?"cors":"omit"),w=new Request(e,{...h,signal:f,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",withCredentials:g});let N=await fetch(w);const L=No&&(u==="stream"||u==="response");if(No&&(l||L)){const U={};["status","statusText","headers"].forEach(oe=>{U[oe]=N[oe]});const K=S.toFiniteNumber(N.headers.get("content-length"));N=new Response(aa(N.body,ca,l&&ua(K,Bn(l,!0)),L&&v,To),U)}u=u||"text";let q=await jn[S.findKey(jn,u)||"text"](N,t);return!L&&v(),b&&b(),await new Promise((U,K)=>{Ju(U,K,{data:q,headers:ze.from(N.headers),status:N.status,statusText:N.statusText,config:t,request:w})})}catch(N){throw v(),N&&N.name==="TypeError"&&/fetch/i.test(N.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,t,w),{cause:N.cause||N}):J.from(N,N&&N.code,t,w)}}),ko={http:G0,xhr:Ay,fetch:Oy};S.forEach(ko,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const pa=t=>`- ${t}`,Ry=t=>S.isFunction(t)||t===null||t===!1,ec={getAdapter:t=>{t=S.isArray(t)?t:[t];const{length:e}=t;let s,i;const n={};for(let r=0;r<e;r++){s=t[r];let o;if(i=s,!Ry(s)&&(i=ko[(o=String(s)).toLowerCase()],i===void 0))throw new J(`Unknown adapter '${o}'`);if(i)break;n[o||"#"+r]=i}if(!i){const r=Object.entries(n).map(([l,a])=>`adapter ${l} `+(a===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(pa).join(`
`):" "+pa(r[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:ko};function oo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new di(null,t)}function da(t){return oo(t),t.headers=ze.from(t.headers),t.data=ro.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ec.getAdapter(t.adapter||sn.adapter)(t).then(function(i){return oo(t),i.data=ro.call(t,t.transformResponse,i),i.headers=ze.from(i.headers),i},function(i){return Zu(i)||(oo(t),i&&i.response&&(i.response.data=ro.call(t,t.transformResponse,i.response),i.response.headers=ze.from(i.response.headers))),Promise.reject(i)})}const tc="1.7.2",cl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{cl[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const ha={};cl.transitional=function(e,s,i){function n(r,o){return"[Axios v"+tc+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,l)=>{if(e===!1)throw new J(n(o," has been removed"+(s?" in "+s:"")),J.ERR_DEPRECATED);return s&&!ha[o]&&(ha[o]=!0,console.warn(n(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(r,o,l):!0}};function Ly(t,e,s){if(typeof t!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let n=i.length;for(;n-- >0;){const r=i[n],o=e[r];if(o){const l=t[r],a=l===void 0||o(l,r,t);if(a!==!0)throw new J("option "+r+" must be "+a,J.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new J("Unknown option "+r,J.ERR_BAD_OPTION)}}const Co={assertOptions:Ly,validators:cl},ss=Co.validators;class ws{constructor(e){this.defaults=e,this.interceptors={request:new ra,response:new ra}}async request(e,s){try{return await this._request(e,s)}catch(i){if(i instanceof Error){let n;Error.captureStackTrace?Error.captureStackTrace(n={}):n=new Error;const r=n.stack?n.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=As(this.defaults,s);const{transitional:i,paramsSerializer:n,headers:r}=s;i!==void 0&&Co.assertOptions(i,{silentJSONParsing:ss.transitional(ss.boolean),forcedJSONParsing:ss.transitional(ss.boolean),clarifyTimeoutError:ss.transitional(ss.boolean)},!1),n!=null&&(S.isFunction(n)?s.paramsSerializer={serialize:n}:Co.assertOptions(n,{encode:ss.function,serialize:ss.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=r&&S.merge(r.common,r[s.method]);r&&S.forEach(["delete","get","head","post","put","patch","common"],b=>{delete r[b]}),s.headers=ze.concat(o,r);const l=[];let a=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(s)===!1||(a=a&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,g=0,h;if(!a){const b=[da.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,u),h=b.length,d=Promise.resolve(s);g<h;)d=d.then(b[g++],b[g++]);return d}h=l.length;let f=s;for(g=0;g<h;){const b=l[g++],y=l[g++];try{f=b(f)}catch(w){y.call(this,w);break}}try{d=da.call(this,f)}catch(b){return Promise.reject(b)}for(g=0,h=u.length;g<h;)d=d.then(u[g++],u[g++]);return d}getUri(e){e=As(this.defaults,e);const s=Xu(e.baseURL,e.url);return Ku(s,e.params,e.paramsSerializer)}}S.forEach(["delete","get","head","options"],function(e){ws.prototype[e]=function(s,i){return this.request(As(i||{},{method:e,url:s,data:(i||{}).data}))}});S.forEach(["post","put","patch"],function(e){function s(i){return function(r,o,l){return this.request(As(l||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}ws.prototype[e]=s(),ws.prototype[e+"Form"]=s(!0)});class pl{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(r){s=r});const i=this;this.promise.then(n=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](n);i._listeners=null}),this.promise.then=n=>{let r;const o=new Promise(l=>{i.subscribe(l),r=l}).then(n);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,l){i.reason||(i.reason=new di(r,o,l),s(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}static source(){let e;return{token:new pl(function(n){e=n}),cancel:e}}}function qy(t){return function(s){return t.apply(null,s)}}function Dy(t){return S.isObject(t)&&t.isAxiosError===!0}const Oo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Oo).forEach(([t,e])=>{Oo[e]=t});function sc(t){const e=new ws(t),s=Du(ws.prototype.request,e);return S.extend(s,ws.prototype,e,{allOwnKeys:!0}),S.extend(s,e,null,{allOwnKeys:!0}),s.create=function(n){return sc(As(t,n))},s}const be=sc(sn);be.Axios=ws;be.CanceledError=di;be.CancelToken=pl;be.isCancel=Zu;be.VERSION=tc;be.toFormData=Qn;be.AxiosError=J;be.Cancel=be.CanceledError;be.all=function(e){return Promise.all(e)};be.spread=qy;be.isAxiosError=Dy;be.mergeConfig=As;be.AxiosHeaders=ze;be.formToJSON=t=>Wu(S.isHTMLForm(t)?new FormData(t):t);be.getAdapter=ec.getAdapter;be.HttpStatusCode=Oo;be.default=be;const{__:_e,_x:yk,_n:_k,_nx:vk}=wp.i18n,Iy={emits:["image-selected","cancel-select"],data(){return{loading:!0,strings:{mediaLibrary:_e("Media library","uipress-lite"),select:_e("Select","uipress-lite"),cancel:_e("Cancel","uipress-lite"),search:_e("Search","uipress-lite"),nothingFound:_e("Nothing found for search term","uipress-lite"),altText:_e("Alt text","uipress-lite"),caption:_e("Caption","uipress-lite"),aNicePhoto:_e("A nice image","uipress-lite"),aNicePhotoDescription:_e("A image caption","uipress-lite"),title:_e("Title","uipress-lite"),imageTitle:_e("Image title","uipress-lite"),photoBy:_e("Photo by","uipress-lite"),on:_e("on","uipress-lite"),size:_e("Size","uipress-lite")},returnSize:"full",activeTab:"library",tabs:{library:{value:"library",label:_e("Library","uipress-lite")},unsplash:{value:"unsplash",label:_e("Unsplash","uipress-lite")},upload:{value:"upload",label:_e("Upload","uipress-lite")}},media:[],unsplashMedia:[],restUrl:uip_ajax.rest_url,search:"",total:0,perPage:20,selected:!1,validDrop:!1}},watch:{activeTab:{handler(t,e){this.maybeGetMedia()},deep:!0},selected:{handler(t,e){t&&"caption"in this.selected&&(this.selected.caption.rendered=this.stripHTML(this.selected.caption.rendered))},deep:!0}},mounted(){this.maybeGetMedia()},computed:{ifDisabled(){return!this.selected}},methods:{maybeGetMedia(t){this.activeTab=="unsplash"&&this.getUnsplashMedia(t),this.activeTab=="library"&&this.getMedia(t)},async getUnsplashMedia(t){let e="https://api.uipress.co/unsplash/?key=0e49uptg-aw[e0ifjhiljsoevjhbsoe8gilplhirlvi";this.perPage,this.search&&(e+=`&s=${this.search}`),t||(this.loading=!0),await be({method:"get",url:e}).then(s=>{this.unsplashMedia=s.data,this.loading=!1}).catch(s=>{this.media=[{error:!0,message:s.message,code:s.error}],this.total=0,this.loading=!1})},async getMedia(t){let e=this.restUrl+"wp/v2/media",s={status:"inherit",per_page:this.perPage,media_type:"image"};this.search&&(s.search=this.search),t||(this.loading=!0),await be({method:"get",url:e,headers:uip_ajax.rest_headers,params:s}).then(i=>{this.media=i.data,this.total=i.headers["x-wp-total"],this.loading=!1}).catch(i=>{this.media=[{error:!0,message:i.message,code:i.error}],this.total=0,this.loading=!1})},async updateMedia(){let t=this.restUrl+`wp/v2/media/${this.selected.id}`,e={alt_text:this.selected.alt_text,title:this.selected.title.rendered,caption:this.selected.caption.rendered};be({method:"post",url:t,headers:uip_ajax.rest_headers,data:e}).then(s=>{this.uipApp.notifications.notify(_e("Image saved","uipress-lite"),"","success",!0)}).catch(s=>{this.uipApp.notifications.notify(s.message,"","error",!0)})},async uploadImages(t,e){this.validDrop=!1;let s=this.restUrl+"wp/v2/media/",i=this.uipApp.notifications.notify(_e("Uploading images","uipress-lite"),"","default",!0,!0),n;e&&(n=Array.from(t.dataTransfer.files)),e||(n=Array.from(event.target.files));for(const r of n){const o=new FormData;o.append("file",r,r.name);try{await be({method:"post",url:s,headers:{...uip_ajax.rest_headers,"Content-Disposition":`attachment; filename="${r.name}"`,"Content-Type":r.type},data:o})}catch{this.uipApp.notifications.notify(_e("Failed to upload","uipress-lite")+" "+r.name,"","error",!0)}}this.uipApp.notifications.remove(i),this.uipApp.notifications.notify(_e("uploaded complete","uipress-lite"),"","success",!0),this.activeTab="library",this.getMedia()},importFromUnsplash(){let t=this.selected.urls.regular,e=this.restUrl+"wp/v2/media/",s=this.uipApp.notifications.notify(_e("Importing image to library","uipress-lite"),"","default",!0,!0);be.get(t,{responseType:"blob"}).then(i=>{const n=i.data,r=new FormData;return r.append("file",n,this.selected.user.username+".jpg"),be({method:"post",url:e,headers:{...uip_ajax.rest_headers,"Content-Disposition":`attachment; filename="${this.selected.user.username}.jpg"`,"Content-Type":n.type},data:r})}).then(i=>{this.$emit("image-selected",i.data),this.uipApp.notifications.remove(s)}).catch(i=>{this.uipApp.notifications.notify(_e("Failed to import image","uipress-lite"),"","error",!0)})},returnColumnItems(t,e=0){return t.filter((s,i)=>(i-e)%3===0)},confirm(){this.selected.color?this.importFromUnsplash():this.$emit("image-selected",this.returnImage())},returnImage(){return{id:this.selected.id,caption:this.selected.caption.rendered,alt:this.selected.alt_text,height:this.selected.media_details.sizes[this.returnSize].height,width:this.selected.media_details.sizes[this.returnSize].width,source_url:this.selected.media_details.sizes[this.returnSize].source_url}},onScrollMedia({target:{scrollTop:t,clientHeight:e,scrollHeight:s}}){t+e>=s-1&&this.total>this.media.length&&(this.perPage+=20,this.getMedia(!0))},stripHTML(t){if(t)return t=t.replace(/(<([^>]+)>)/gi,""),t},returnRatio(t){return`aspect-ratio: ${t.width} / ${t.height}`},returnImagePreview(t){if(!("sizes"in t.media_details))return t.source_url;if("medium"in t.media_details.sizes)return t.media_details.sizes.medium.source_url;if("small"in t.media_details.sizes)return t.media_details.sizes.small.source_url;if("thumbnail"in t.media_details.sizes)return t.media_details.sizes.thumbnail.source_url;if("large"in t.media_details.sizes)return t.media_details.sizes.large.source_url;if("full"in t.media_details.sizes)return t.media_details.sizes.full.source_url}}},Py={class:"uip-flex uip-flex-column uip-row-gap-s uip-flex-grow",style:{overflow:"hidden"}},$y={key:0,class:"uip-padding-s uip-flex uip-flex-middle uip-flex-center uip-flex-grow"},Uy={key:1,class:"uip-flex-grow"},My={key:2,class:"uip-flex uip-flex-column uip-row-gap-s uip-flex-grow uip-max-h-100p uip-overflow-hidden"},By={class:"uip-background-muted uip-border-rounder uip-padding-xs uip-flex uip-flex-gap-s uip-flex-center"},jy=["placeholder"],Fy={key:0,class:"uip-text-muted"},Hy={key:1,class:"uip-text-muted"},Vy={key:0,class:"uip-border-rounder uip-padding-xs uip-padding-left-xs uip-background-orange-wash uip-text-s"},zy={class:"uip-grid-col-3 uip-grid-gap-s uip-overflow-auto uip-max-w-100p uip-flex-grow uip-max-h-100p"},Ky={class:"uip-flex uip-flex-column uip-row-gap-s"},Gy=["onClick"],Wy=["src","alt"],Zy={key:0,class:"uip-position-absolute uip-padding-xs"},Jy={class:"uip-border-circle uip-padding-xxxs uip-background-primary uip-active-outline uip-text-xs"},Xy={class:"uip-text-s uip-text-muted uip-max-w-100p uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},Yy={class:"uip-flex uip-flex-column uip-row-gap-s"},Qy=["onClick"],e_=["src","alt"],t_={key:0,class:"uip-position-absolute uip-padding-xs"},s_={class:"uip-border-circle uip-padding-xxxs uip-background-primary uip-active-outline uip-text-xs"},i_={class:"uip-text-s uip-text-muted uip-max-w-100p uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},n_={class:"uip-flex uip-flex-column uip-row-gap-s"},r_=["onClick"],o_=["src","alt"],l_={key:0,class:"uip-position-absolute uip-padding-xs"},a_={class:"uip-border-circle uip-padding-xxxs uip-background-primary uip-active-outline uip-text-xs"},u_={class:"uip-text-s uip-text-muted uip-max-w-100p uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},c_={key:3,class:"uip-flex uip-flex-column uip-row-gap-s uip-flex-grow uip-max-h-100p uip-overflow-hidden"},p_={class:"uip-background-muted uip-border-rounder uip-padding-xs uip-flex uip-flex-gap-s uip-flex-center"},d_=["placeholder"],h_={key:0,class:"uip-text-muted"},f_={key:0,class:"uip-border-rounder uip-padding-xs uip-padding-left-xs uip-background-orange-wash uip-text-s"},g_={class:"uip-flex uip-flex-column uip-row-gap-s"},m_=["onClick"],b_=["src","alt"],x_={key:0,class:"uip-position-absolute uip-padding-xs"},y_={class:"uip-border-circle uip-padding-xxxs uip-background-primary uip-active-outline uip-text-xs"},__={class:"uip-text-s uip-text-muted uip-max-w-100p uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},v_={class:"uip-flex uip-flex-column uip-row-gap-s"},w_=["onClick"],A_=["src","alt"],E_={key:0,class:"uip-position-absolute uip-padding-xs"},S_={class:"uip-border-circle uip-padding-xxxs uip-background-primary uip-active-outline uip-text-xs"},T_={class:"uip-text-s uip-text-muted uip-max-w-100p uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},N_={class:"uip-flex uip-flex-column uip-row-gap-s"},k_=["onClick"],C_=["src","alt"],O_={key:0,class:"uip-position-absolute uip-padding-xs"},R_={class:"uip-border-circle uip-padding-xxxs uip-background-primary uip-active-outline uip-text-xs"},L_={class:"uip-text-s uip-text-muted uip-max-w-100p uip-overflow-hidden uip-no-wrap uip-text-ellipsis"},q_={key:4,class:"uip-border-box uip-flex uip-gap-m uip-padding-top-xs uip-scale-in-bottom"},D_={key:0,class:"uip-max-w-50p uip-flex uip-flex-middle"},I_=["src","alt"],P_={key:1,class:"uip-flex uip-flex-column uip-row-gap-xs uip-flex-grow uip-flex-middle"},$_={class:"uip-grid-col-1-3"},U_={class:"uip-text-muted uip-flex uip-flex-center"},M_=["placeholder"],B_={class:"uip-grid-col-1-3"},j_={class:"uip-text-muted uip-flex uip-flex-center"},F_=["placeholder"],H_={class:"uip-grid-col-1-3"},V_={class:"uip-text-muted uip-flex uip-flex-center"},z_=["innerHTML","placeholder"],K_={class:"uip-grid-col-1-3"},G_={class:"uip-text-muted uip-flex uip-flex-center"},W_=["value"],Z_={key:2,class:"uip-max-w-50p uip-flex uip-flex-middle"},J_=["src","alt"],X_={key:3,class:"uip-flex uip-flex-column uip-row-gap-xs uip-flex-grow uip-flex-middle"},Y_=["href"],Q_=p("a",{class:"uip-link-primary",href:"https://unsplash.com/?utm_source=uipress&utm_medium=referral",target:"_BLANK"},"Unsplash",-1),ev={class:"uip-flex uip-gap-s uip-flex-between"},tv=p("div",{class:"uip-background-grey uip-padding-left-xxs uip-padding-right-xxs uip-border-rounder uip-flex uip-flex-middle"},[p("span",{class:"uip-text-muted uip-text-s"},"esc")],-1),sv=["disabled"];function iv(t,e,s,i,n,r){const o=P("toggle-switch"),l=P("loading-chart"),a=P("AppIcon");return A(),k("div",Py,[C(o,{activeValue:n.activeTab,options:n.tabs,returnValue:u=>{n.activeTab=u}},null,8,["activeValue","options","returnValue"]),n.loading?(A(),k("div",$y,[C(l)])):n.activeTab=="upload"?(A(),k("div",Uy,[p("label",{onDrop:e[1]||(e[1]=xe(u=>r.uploadImages(u,!0),["prevent"])),onDragenter:e[2]||(e[2]=xe(u=>n.validDrop=!0,["prevent"])),onDragleave:e[3]||(e[3]=xe(u=>n.validDrop=!1,["prevent"])),onDragover:e[4]||(e[4]=xe(u=>n.validDrop=!0,["prevent"])),class:dt([{"uip-background-primary-wash":n.validDrop,"uip-background-muted":!n.validDrop},"uip-background-muted uip-border uip-border-rounder uip-padding-m uip-flex uip-flex-middle uip-flex-center uip-transition-all uip-link-muted"])},[C(a,{icon:"file_upload",class:"uip-text-xl"}),p("input",{hidden:"",accept:"image/*",type:"file",multiple:"",id:"uip-import-layout",onChange:e[0]||(e[0]=u=>r.uploadImages(u))},null,32)],34)])):n.activeTab=="unsplash"?(A(),k("div",My,[p("div",By,[X(p("input",{class:"uip-blank-input uip-flex-grow uip-text-s",type:"text","onUpdate:modelValue":e[5]||(e[5]=u=>n.search=u),onInput:e[6]||(e[6]=u=>r.maybeGetMedia(!0)),placeholder:n.strings.search},null,40,jy),[[re,n.search]]),C(a,{icon:"search",class:"uip-text-muted uip-text-s"})]),n.media.length<1&&n.search!=""&&n.activeTab=="library"?(A(),k("div",Fy,[Me(_(n.strings.nothingFound)+" ",1),p("strong",null,_(n.search),1)])):z("",!0),n.unsplashMedia.length<1&&n.search!=""&&n.activeTab=="unsplash"?(A(),k("div",Hy,[Me(_(n.strings.nothingFound)+" ",1),p("strong",null,_(n.search),1)])):z("",!0),(A(!0),k(Z,null,pe(n.media,(u,d)=>(A(),k(Z,null,[u.error?(A(),k("div",Vy,_(u.message),1)):z("",!0)],64))),256)),p("div",zy,[p("div",Ky,[(A(!0),k(Z,null,pe(r.returnColumnItems(n.unsplashMedia,0),(u,d)=>(A(),k(Z,null,[u.error?z("",!0):(A(),k("div",{key:0,onClick:g=>n.selected=u,class:"uip-flex uip-flex-column uip-flex-no-wrap uip-row-gap-xxs uip-cursor-pointer uip-position-relative"},[p("img",{key:"image",src:u.urls.small,style:pt(r.returnRatio(u)),class:dt(["uip-w-100p uip-max-w-100p uip-border-rounder",{"uip-brightness-05":u.id==n.selected.id}]),alt:u.alt_description},null,14,Wy),u.id==n.selected.id?(A(),k("div",Zy,[p("div",Jy,[C(a,{icon:"done",class:"uip-text-inverse"})])])):z("",!0),p("span",Xy,_(u.user.name),1)],8,Gy))],64))),256))]),p("div",Yy,[(A(!0),k(Z,null,pe(r.returnColumnItems(n.unsplashMedia,1),(u,d)=>(A(),k(Z,null,[u.error?z("",!0):(A(),k("div",{key:0,onClick:g=>n.selected=u,class:"uip-flex uip-flex-column uip-flex-no-wrap uip-row-gap-xxs uip-cursor-pointer uip-position-relative"},[p("img",{key:"image",src:u.urls.small,style:pt(r.returnRatio(u)),class:dt(["uip-w-100p uip-max-w-100p uip-border-rounder",{"uip-brightness-05":u.id==n.selected.id}]),alt:u.alt_description},null,14,e_),u.id==n.selected.id?(A(),k("div",t_,[p("div",s_,[C(a,{icon:"done",class:"uip-text-inverse"})])])):z("",!0),p("span",i_,_(u.user.name),1)],8,Qy))],64))),256))]),p("div",n_,[(A(!0),k(Z,null,pe(r.returnColumnItems(n.unsplashMedia,2),(u,d)=>(A(),k(Z,null,[u.error?z("",!0):(A(),k("div",{key:0,onClick:g=>n.selected=u,class:"uip-flex uip-flex-column uip-flex-no-wrap uip-row-gap-xxs uip-cursor-pointer uip-position-relative"},[p("img",{key:"image",src:u.urls.small,style:pt(r.returnRatio(u)),class:dt(["uip-w-100p uip-max-w-100p uip-border-rounder",{"uip-brightness-05":u.id==n.selected.id}]),alt:u.alt_description},null,14,o_),u.id==n.selected.id?(A(),k("div",l_,[p("div",a_,[C(a,{icon:"done",class:"uip-text-inverse"})])])):z("",!0),p("span",u_,_(u.user.name),1)],8,r_))],64))),256))])])])):n.activeTab=="library"?(A(),k("div",c_,[p("div",p_,[X(p("input",{class:"uip-blank-input uip-flex-grow",type:"text","onUpdate:modelValue":e[7]||(e[7]=u=>n.search=u),onInput:e[8]||(e[8]=u=>r.getMedia(!0)),placeholder:n.strings.search},null,40,d_),[[re,n.search]]),C(a,{icon:"search",class:"uip-text-muted uip-text-s"})]),n.media.length<1&&n.search!=""?(A(),k("div",h_,[Me(_(n.strings.nothingFound)+" ",1),p("strong",null,_(n.search),1)])):z("",!0),(A(!0),k(Z,null,pe(n.media,(u,d)=>(A(),k(Z,null,[u.error?(A(),k("div",f_,_(u.message),1)):z("",!0)],64))),256)),p("div",{class:"uip-grid-col-3 uip-grid-gap-s uip-overflow-auto uip-max-w-100p uip-flex-grow uip-max-h-100p",onScroll:e[9]||(e[9]=(...u)=>r.onScrollMedia&&r.onScrollMedia(...u))},[p("div",g_,[(A(!0),k(Z,null,pe(r.returnColumnItems(n.media,0),(u,d)=>(A(),k(Z,null,[u.error?z("",!0):(A(),k("div",{key:0,onClick:g=>n.selected=u,class:"uip-flex uip-flex-column uip-flex-no-wrap uip-row-gap-xxs uip-cursor-pointer uip-position-relative"},[p("img",{key:"image",src:r.returnImagePreview(u),style:pt("ratio:"+u.media_details.width/u.media_details.height),class:dt(["uip-w-100p uip-max-w-100p uip-border-rounder uip-translate-all",{"uip-brightness-05":u.id==n.selected.id}]),alt:u.alt_text},null,14,b_),u.id==n.selected.id?(A(),k("div",x_,[p("div",y_,[C(a,{icon:"done",class:"uip-text-inverse"})])])):z("",!0),p("span",__,_(u.title.rendered),1)],8,m_))],64))),256))]),p("div",v_,[(A(!0),k(Z,null,pe(r.returnColumnItems(n.media,1),(u,d)=>(A(),k(Z,null,[u.error?z("",!0):(A(),k("div",{key:0,onClick:g=>n.selected=u,class:"uip-flex uip-flex-column uip-flex-no-wrap uip-row-gap-xxs uip-cursor-pointer uip-position-relative"},[p("img",{key:"image",src:r.returnImagePreview(u),style:pt("ratio:"+u.media_details.width/u.media_details.height),class:dt(["uip-w-100p uip-max-w-100p uip-border-rounder uip-translate-all",{"uip-brightness-05":u.id==n.selected.id}]),alt:u.alt_text},null,14,A_),u.id==n.selected.id?(A(),k("div",E_,[p("div",S_,[C(a,{icon:"done",class:"uip-text-inverse uip-text-s"})])])):z("",!0),p("span",T_,_(u.title.rendered),1)],8,w_))],64))),256))]),p("div",N_,[(A(!0),k(Z,null,pe(r.returnColumnItems(n.media,2),(u,d)=>(A(),k(Z,null,[u.error?z("",!0):(A(),k("div",{key:0,onClick:g=>n.selected=u,class:"uip-flex uip-flex-column uip-flex-no-wrap uip-row-gap-xxs uip-cursor-pointer uip-position-relative"},[p("img",{key:"image",src:r.returnImagePreview(u),style:pt("ratio:"+u.media_details.width/u.media_details.height),class:dt(["uip-w-100p uip-max-w-100p uip-border-rounder uip-translate-all",{"uip-brightness-05":u.id==n.selected.id}]),alt:u.alt_text},null,14,C_),u.id==n.selected.id?(A(),k("div",O_,[p("div",R_,[C(a,{icon:"done",class:"uip-text-inverse"})])])):z("",!0),p("span",L_,_(u.title.rendered),1)],8,k_))],64))),256))])],32)])):z("",!0),n.selected?(A(),k("div",q_,[n.selected.color?z("",!0):(A(),k("div",D_,[p("img",{key:"image",src:r.returnImagePreview(n.selected),style:pt("ratio:"+n.selected.media_details.width/n.selected.media_details.height),class:"uip-max-w-100p uip-border-rounder uip-max-h-200",alt:n.selected.alt_text},null,12,I_)])),n.selected.color?z("",!0):(A(),k("div",P_,[p("form",{onChange:e[13]||(e[13]=(...u)=>r.updateMedia&&r.updateMedia(...u)),class:"uip-flex uip-flex-column uip-row-gap-xs uip-flex-grow uip-flex-middle"},[p("div",$_,[p("div",U_,[p("span",null,_(n.strings.title),1)]),X(p("input",{class:"uip-input uip-flex-grow",type:"text","onUpdate:modelValue":e[10]||(e[10]=u=>n.selected.title.rendered=u),placeholder:n.strings.imageTitle},null,8,M_),[[re,n.selected.title.rendered]])]),p("div",B_,[p("div",j_,[p("span",null,_(n.strings.altText),1)]),X(p("input",{class:"uip-input uip-flex-grow",type:"text","onUpdate:modelValue":e[11]||(e[11]=u=>n.selected.alt_text=u),placeholder:n.strings.aNicePhoto},null,8,F_),[[re,n.selected.alt_text]])]),p("div",H_,[p("div",V_,[p("span",null,_(n.strings.caption),1)]),X(p("textarea",{class:"uip-input uip-min-h-100","onUpdate:modelValue":e[12]||(e[12]=u=>n.selected.caption.rendered=u),innerHTML:n.selected.caption.rendered,placeholder:n.strings.aNicePhotoDescription},null,8,z_),[[re,n.selected.caption.rendered]])])],32),p("div",K_,[p("div",G_,[p("span",null,_(n.strings.size),1)]),X(p("select",{class:"uip-input","onUpdate:modelValue":e[14]||(e[14]=u=>n.returnSize=u)},[(A(!0),k(Z,null,pe(n.selected.media_details.sizes,(u,d)=>(A(),k("option",{value:d},_(d),9,W_))),256))],512),[[il,n.returnSize]])])])),n.selected.color?(A(),k("div",Z_,[p("img",{key:"image",src:n.selected.urls.small,style:pt("ratio:"+n.selected.width/n.selected.height),class:"uip-max-w-100p uip-border-rounder uip-max-h-200",alt:n.selected.alt_description},null,12,J_)])):z("",!0),n.selected.color?(A(),k("div",X_,[p("span",null,[Me(_(n.strings.photoBy)+" ",1),p("a",{class:"uip-link-primary",href:n.selected.user.links.html+"?utm_source=uipress&utm_medium=referral",target:"_BLANK"},_(n.selected.user.username),9,Y_)]),p("span",null,[Me(_(n.strings.on)+" ",1),Q_])])):z("",!0)])):z("",!0),p("div",ev,[p("button",{class:"uip-button-default uip-flex uip-gap-xs uip-flex-center",onClick:e[15]||(e[15]=u=>t.$emit("cancel-select"))},[p("span",null,_(n.strings.cancel),1),tv]),p("button",{class:"uip-button-primary uip-flex uip-gap-s uip-flex-center",onClick:e[16]||(e[16]=(...u)=>r.confirm&&r.confirm(...u)),disabled:r.ifDisabled},[p("span",null,_(n.strings.select),1)],8,sv)])])}const nv=Ce(Iy,[["render",iv]]),{__:rv,_x:wk,_n:Ak,_nx:Ek}=wp.i18n,ov={components:{MediaLibrary:nv},data(){return{resolvePromise:void 0,rejectPromise:void 0,strings:{mediaLibrary:rv("Media library","uipress-lite")}}},methods:{cancel(){this.$emit("cancel-select"),this.$refs.popup.close(),this.resolvePromise(!1)},show(t={}){return this.selected=!1,this.$refs.popup.show(),this.resolvePromise=void 0,this.rejectPromise=void 0,requestAnimationFrame(()=>{this.$refs.confirmBody&&this.$refs.confirmBody.focus()}),new Promise((e,s)=>{this.resolvePromise=e,this.rejectPromise=s})}}},lv={class:"uip-flex uip-gap-xs uip-flex-start uip-flex-no-wrap uip-max-h-100p"},av={class:"uip-margin-remove uip-flex-grow"};function uv(t,e,s,i,n,r){const o=P("AppIcon"),l=P("MediaLibrary"),a=P("Modal");return A(),k(Z,null,[(A(),me(nl("style"),null,{default:F(()=>[Me(" .imageload-enter-active, .imageload-leave-active { transition: all 0.5s ease; } .imageload-enter-from, .imageload-leave-to { opacity: 0; } ")]),_:1})),C(a,{ref:"popup",hideCloser:!0,removeMaxHeight:!0},{content:F(()=>[p("div",{ref:"confirmBody",onKeydown:e[3]||(e[3]=kp(u=>r.cancel(),["escape"])),onClick:e[4]||(e[4]=xe(()=>{},["stop"])),class:"uip-w-500 uip-flex uip-flex-column uip-row-gap-s uip-overflow-auto",tabindex:"1",style:{"max-height":"600px",height:"600px"},autofocus:""},[p("div",lv,[p("h2",av,_(n.strings.mediaLibrary),1),p("div",{onClick:e[0]||(e[0]=u=>r.cancel()),class:"uip-padding-xxs uip-border-rounder hover:uip-background-muted uip-cursor-pointer"},[C(o,{icon:"close",class:"uip-link-muted"})])]),C(l,{onImageSelected:e[1]||(e[1]=u=>{n.resolvePromise(u),t.$refs.popup.close()}),onCancelSelect:e[2]||(e[2]=u=>{t.$refs.popup.close(),n.resolvePromise(!1)})})],544)]),_:1},512)],64)}const ic=Ce(ov,[["render",uv]]),{__:Ve,_x:Sk,_n:Tk,_nx:Nk}=wp.i18n,cv={components:{mediaLibrary:ic},props:{returnData:Function,value:Object,args:Object},data(){return{open:!1,loading:!0,hasPositioning:!0,img:{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}},fileType:"",manualURL:"",uploading:!1,updating:!1,strings:{dynamicData:Ve("Dynamic data","uipress-lite"),currentValue:Ve("Current value","uipress-lite"),select:Ve("select","uipress-lite"),dataPos:Ve("Dynamic data position","uipress-lite"),replace:Ve("Replace","uipress-lite"),edit:Ve("Edit","uipress-lite"),upload:Ve("Upload","uipress-lite"),uploading:Ve("Uploading","uipress-lite"),library:Ve("Library","uipress-lite"),dynamic:Ve("Dynamic","uipress-lite"),chooseImage:Ve("Add image","uipress-lite"),backgroundImage:Ve("Image","uipress-lite"),addImage:Ve("Add image","uipress-lite"),url:Ve("URL","uipress-lite")}}},watch:{value:{handler(t,e){this.updating||this.formatInput()},deep:!0,immediate:!0},img:{handler(t,e){this.updating||this.returnData(this.img)},deep:!0},manualURL:{handler(t,e){t!=""&&(this.removeDynamicItem(),this.img.url=t)}}},mounted(){this.args&&this.isObject(this.args)&&"hasPositioning"in this.args&&(this.hasPositioning=this.args.hasPositioning)},computed:{imgReset(){return{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}}}},methods:{formatInput(){this.img=this.isObject(this.value)?this.value:this.imgReset},async chooseImage(){const t=await this.$refs.mediaLibrary.show();t&&(this.img.url=t.source_url)},removeDynamicItem(){this.img.dynamic=!1,this.img.dynamicKey="",this.img.url="",this.returnData({url:this.img.value,dynamic:this.img.dynamic,dynamicKey:this.img.dynamicKey,dynamicPos:this.img.dynamicPos})},returnBackgroundImage(){let t=this.img.url;return t?`background-image: url(${t})`:""}}},pv={class:"uip-flex uip-flex-column uip-row-gap-s"},dv={key:0,class:"uip-text-bold"},hv={key:1,class:"uip-flex uip-gap-xxs uip-flex-center"},fv={class:"uip-text-bold"},gv={class:"uip-padding-left-xs uip-flex uip-flex-column uip-row-gap-xs"},mv={class:"uip-grid-col-1-3"},bv={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"};function xv(t,e,s,i,n,r){const o=P("AppIcon"),l=P("background-position"),a=P("mediaLibrary");return A(),k("div",pv,[p("div",{class:"uip-background-muted uip-border-rounder uip-flex uip-flex-center uip-flex-middle uip-position-relative uip-scale-in-center uip-h-120 uip-w-240 uip-background-contain uip-background-no-repeat uip-background-center",style:pt(r.returnBackgroundImage())},[p("button",{onClick:e[0]||(e[0]=u=>r.chooseImage()),class:"uip-button-primary uip-text-s"},[n.img.url?(A(),k("div",dv,_(n.strings.replace),1)):z("",!0),n.img.url?z("",!0):(A(),k("div",hv,[C(o,{icon:"add",class:""}),p("div",fv,_(n.strings.chooseImage),1)]))])],4),p("div",gv,[p("div",mv,[p("div",bv,[p("span",null,_(n.strings.url),1)]),X(p("input",{class:"uip-input uip-input-small",type:"text","onUpdate:modelValue":e[1]||(e[1]=u=>n.img.url=u)},null,512),[[re,n.img.url]])]),n.hasPositioning?(A(),me(l,{key:0,value:n.img.sizing,returnData:function(u){n.img.sizing=u}},null,8,["value","returnData"])):z("",!0)]),C(a,{ref:"mediaLibrary"},null,512)])}const yv=Ce(cv,[["render",xv]]),{__:_v,_x:kk,_n:Ck,_nx:Ok}=wp.i18n,vv={components:{imageSelect:yv,colorBox:Hp},props:{returnData:Function,value:Object,args:Object},data(){return{img:{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}},strings:{imageSelect:_v("Image select","seql")}}},watch:{value:{handler(t,e){this.updating||this.formatInput()},deep:!0,immediate:!0},img:{handler(t,e){this.updating||this.returnData(this.img)},deep:!0}},computed:{returnBackgroundImage(){if(this.img.url)return`background-size:contain;background-image: url(${this.img.url})`},imgReset(){return{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}}},returnDefault(){return{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}}}},methods:{formatInput(){this.img=this.isObject(this.value)?this.value:this.returnDefault}}},wv={class:"uip-flex uip-flex-column uip-row-gap-s uip-padding-s uip-w-240"},Av={class:"uip-flex uip-flex-between uip-flex-center"},Ev={class:"uip-text-emphasis uip-text-bold uip-text-s"};function Sv(t,e,s,i,n,r){const o=P("colorBox"),l=P("AppIcon"),a=P("imageSelect"),u=P("dropdown");return A(),me(u,{pos:"left center",class:"uip-w-100p",ref:"imageDropdown",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:F(()=>[C(o,{backgroundStyle:r.returnBackgroundImage,text:n.img.url,remove:()=>{n.img=r.imgReset}},null,8,["backgroundStyle","text","remove"])]),content:F(()=>[p("div",wv,[p("div",Av,[p("div",Ev,_(n.strings.imageSelect),1),p("div",{onClick:e[0]||(e[0]=d=>t.$refs.imageDropdown.close()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[C(l,{icon:"close"})])]),C(a,{value:n.img,returnData:d=>{n.img=d},args:s.args},null,8,["value","returnData","args"])])]),_:1},512)}const Tv=Ce(vv,[["render",Sv]]);var nc=typeof global=="object"&&global&&global.Object===Object&&global,Nv=typeof self=="object"&&self&&self.Object===Object&&self,Pt=nc||Nv||Function("return this")(),us=Pt.Symbol,rc=Object.prototype,kv=rc.hasOwnProperty,Cv=rc.toString,Li=us?us.toStringTag:void 0;function Ov(t){var e=kv.call(t,Li),s=t[Li];try{t[Li]=void 0;var i=!0}catch{}var n=Cv.call(t);return i&&(e?t[Li]=s:delete t[Li]),n}var Rv=Object.prototype,Lv=Rv.toString;function qv(t){return Lv.call(t)}var Dv="[object Null]",Iv="[object Undefined]",fa=us?us.toStringTag:void 0;function hi(t){return t==null?t===void 0?Iv:Dv:fa&&fa in Object(t)?Ov(t):qv(t)}function Vt(t){return t!=null&&typeof t=="object"}var Es=Array.isArray;function ps(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function oc(t){return t}var Pv="[object AsyncFunction]",$v="[object Function]",Uv="[object GeneratorFunction]",Mv="[object Proxy]";function dl(t){if(!ps(t))return!1;var e=hi(t);return e==$v||e==Uv||e==Pv||e==Mv}var lo=Pt["__core-js_shared__"],ga=function(){var t=/[^.]+$/.exec(lo&&lo.keys&&lo.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Bv(t){return!!ga&&ga in t}var jv=Function.prototype,Fv=jv.toString;function Ns(t){if(t!=null){try{return Fv.call(t)}catch{}try{return t+""}catch{}}return""}var Hv=/[\\^$.*+?()[\]{}|]/g,Vv=/^\[object .+?Constructor\]$/,zv=Function.prototype,Kv=Object.prototype,Gv=zv.toString,Wv=Kv.hasOwnProperty,Zv=RegExp("^"+Gv.call(Wv).replace(Hv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jv(t){if(!ps(t)||Bv(t))return!1;var e=dl(t)?Zv:Vv;return e.test(Ns(t))}function Xv(t,e){return t==null?void 0:t[e]}function ks(t,e){var s=Xv(t,e);return Jv(s)?s:void 0}var Ro=ks(Pt,"WeakMap"),ma=Object.create,Yv=function(){function t(){}return function(e){if(!ps(e))return{};if(ma)return ma(e);t.prototype=e;var s=new t;return t.prototype=void 0,s}}();function Qv(t,e,s){switch(s.length){case 0:return t.call(e);case 1:return t.call(e,s[0]);case 2:return t.call(e,s[0],s[1]);case 3:return t.call(e,s[0],s[1],s[2])}return t.apply(e,s)}function lc(t,e){var s=-1,i=t.length;for(e||(e=Array(i));++s<i;)e[s]=t[s];return e}var ew=800,tw=16,sw=Date.now;function iw(t){var e=0,s=0;return function(){var i=sw(),n=tw-(i-s);if(s=i,n>0){if(++e>=ew)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function nw(t){return function(){return t}}var Fn=function(){try{var t=ks(Object,"defineProperty");return t({},"",{}),t}catch{}}(),rw=Fn?function(t,e){return Fn(t,"toString",{configurable:!0,enumerable:!1,value:nw(e),writable:!0})}:oc,ow=iw(rw);function lw(t,e){for(var s=-1,i=t==null?0:t.length;++s<i&&e(t[s],s,t)!==!1;);return t}var aw=9007199254740991,uw=/^(?:0|[1-9]\d*)$/;function ac(t,e){var s=typeof t;return e=e??aw,!!e&&(s=="number"||s!="symbol"&&uw.test(t))&&t>-1&&t%1==0&&t<e}function hl(t,e,s){e=="__proto__"&&Fn?Fn(t,e,{configurable:!0,enumerable:!0,value:s,writable:!0}):t[e]=s}function nn(t,e){return t===e||t!==t&&e!==e}var cw=Object.prototype,pw=cw.hasOwnProperty;function uc(t,e,s){var i=t[e];(!(pw.call(t,e)&&nn(i,s))||s===void 0&&!(e in t))&&hl(t,e,s)}function rn(t,e,s,i){var n=!s;s||(s={});for(var r=-1,o=e.length;++r<o;){var l=e[r],a=void 0;a===void 0&&(a=t[l]),n?hl(s,l,a):uc(s,l,a)}return s}var ba=Math.max;function dw(t,e,s){return e=ba(e===void 0?t.length-1:e,0),function(){for(var i=arguments,n=-1,r=ba(i.length-e,0),o=Array(r);++n<r;)o[n]=i[e+n];n=-1;for(var l=Array(e+1);++n<e;)l[n]=i[n];return l[e]=s(o),Qv(t,this,l)}}function hw(t,e){return ow(dw(t,e,oc),t+"")}var fw=9007199254740991;function cc(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fw}function tr(t){return t!=null&&cc(t.length)&&!dl(t)}function gw(t,e,s){if(!ps(s))return!1;var i=typeof e;return(i=="number"?tr(s)&&ac(e,s.length):i=="string"&&e in s)?nn(s[e],t):!1}function mw(t){return hw(function(e,s){var i=-1,n=s.length,r=n>1?s[n-1]:void 0,o=n>2?s[2]:void 0;for(r=t.length>3&&typeof r=="function"?(n--,r):void 0,o&&gw(s[0],s[1],o)&&(r=n<3?void 0:r,n=1),e=Object(e);++i<n;){var l=s[i];l&&t(e,l,i,r)}return e})}var bw=Object.prototype;function fl(t){var e=t&&t.constructor,s=typeof e=="function"&&e.prototype||bw;return t===s}function xw(t,e){for(var s=-1,i=Array(t);++s<t;)i[s]=e(s);return i}var yw="[object Arguments]";function xa(t){return Vt(t)&&hi(t)==yw}var pc=Object.prototype,_w=pc.hasOwnProperty,vw=pc.propertyIsEnumerable,Lo=xa(function(){return arguments}())?xa:function(t){return Vt(t)&&_w.call(t,"callee")&&!vw.call(t,"callee")};function ww(){return!1}var dc=typeof We=="object"&&We&&!We.nodeType&&We,ya=dc&&typeof Ze=="object"&&Ze&&!Ze.nodeType&&Ze,Aw=ya&&ya.exports===dc,_a=Aw?Pt.Buffer:void 0,Ew=_a?_a.isBuffer:void 0,Gi=Ew||ww,Sw="[object Arguments]",Tw="[object Array]",Nw="[object Boolean]",kw="[object Date]",Cw="[object Error]",Ow="[object Function]",Rw="[object Map]",Lw="[object Number]",qw="[object Object]",Dw="[object RegExp]",Iw="[object Set]",Pw="[object String]",$w="[object WeakMap]",Uw="[object ArrayBuffer]",Mw="[object DataView]",Bw="[object Float32Array]",jw="[object Float64Array]",Fw="[object Int8Array]",Hw="[object Int16Array]",Vw="[object Int32Array]",zw="[object Uint8Array]",Kw="[object Uint8ClampedArray]",Gw="[object Uint16Array]",Ww="[object Uint32Array]",ge={};ge[Bw]=ge[jw]=ge[Fw]=ge[Hw]=ge[Vw]=ge[zw]=ge[Kw]=ge[Gw]=ge[Ww]=!0;ge[Sw]=ge[Tw]=ge[Uw]=ge[Nw]=ge[Mw]=ge[kw]=ge[Cw]=ge[Ow]=ge[Rw]=ge[Lw]=ge[qw]=ge[Dw]=ge[Iw]=ge[Pw]=ge[$w]=!1;function Zw(t){return Vt(t)&&cc(t.length)&&!!ge[hi(t)]}function gl(t){return function(e){return t(e)}}var hc=typeof We=="object"&&We&&!We.nodeType&&We,Mi=hc&&typeof Ze=="object"&&Ze&&!Ze.nodeType&&Ze,Jw=Mi&&Mi.exports===hc,ao=Jw&&nc.process,oi=function(){try{var t=Mi&&Mi.require&&Mi.require("util").types;return t||ao&&ao.binding&&ao.binding("util")}catch{}}(),va=oi&&oi.isTypedArray,ml=va?gl(va):Zw,Xw=Object.prototype,Yw=Xw.hasOwnProperty;function fc(t,e){var s=Es(t),i=!s&&Lo(t),n=!s&&!i&&Gi(t),r=!s&&!i&&!n&&ml(t),o=s||i||n||r,l=o?xw(t.length,String):[],a=l.length;for(var u in t)(e||Yw.call(t,u))&&!(o&&(u=="length"||n&&(u=="offset"||u=="parent")||r&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ac(u,a)))&&l.push(u);return l}function gc(t,e){return function(s){return t(e(s))}}var Qw=gc(Object.keys,Object),eA=Object.prototype,tA=eA.hasOwnProperty;function sA(t){if(!fl(t))return Qw(t);var e=[];for(var s in Object(t))tA.call(t,s)&&s!="constructor"&&e.push(s);return e}function bl(t){return tr(t)?fc(t):sA(t)}function iA(t){var e=[];if(t!=null)for(var s in Object(t))e.push(s);return e}var nA=Object.prototype,rA=nA.hasOwnProperty;function oA(t){if(!ps(t))return iA(t);var e=fl(t),s=[];for(var i in t)i=="constructor"&&(e||!rA.call(t,i))||s.push(i);return s}function on(t){return tr(t)?fc(t,!0):oA(t)}var Wi=ks(Object,"create");function lA(){this.__data__=Wi?Wi(null):{},this.size=0}function aA(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var uA="__lodash_hash_undefined__",cA=Object.prototype,pA=cA.hasOwnProperty;function dA(t){var e=this.__data__;if(Wi){var s=e[t];return s===uA?void 0:s}return pA.call(e,t)?e[t]:void 0}var hA=Object.prototype,fA=hA.hasOwnProperty;function gA(t){var e=this.__data__;return Wi?e[t]!==void 0:fA.call(e,t)}var mA="__lodash_hash_undefined__";function bA(t,e){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=Wi&&e===void 0?mA:e,this}function Ss(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var i=t[e];this.set(i[0],i[1])}}Ss.prototype.clear=lA;Ss.prototype.delete=aA;Ss.prototype.get=dA;Ss.prototype.has=gA;Ss.prototype.set=bA;function xA(){this.__data__=[],this.size=0}function sr(t,e){for(var s=t.length;s--;)if(nn(t[s][0],e))return s;return-1}var yA=Array.prototype,_A=yA.splice;function vA(t){var e=this.__data__,s=sr(e,t);if(s<0)return!1;var i=e.length-1;return s==i?e.pop():_A.call(e,s,1),--this.size,!0}function wA(t){var e=this.__data__,s=sr(e,t);return s<0?void 0:e[s][1]}function AA(t){return sr(this.__data__,t)>-1}function EA(t,e){var s=this.__data__,i=sr(s,t);return i<0?(++this.size,s.push([t,e])):s[i][1]=e,this}function Gt(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var i=t[e];this.set(i[0],i[1])}}Gt.prototype.clear=xA;Gt.prototype.delete=vA;Gt.prototype.get=wA;Gt.prototype.has=AA;Gt.prototype.set=EA;var Zi=ks(Pt,"Map");function SA(){this.size=0,this.__data__={hash:new Ss,map:new(Zi||Gt),string:new Ss}}function TA(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function ir(t,e){var s=t.__data__;return TA(e)?s[typeof e=="string"?"string":"hash"]:s.map}function NA(t){var e=ir(this,t).delete(t);return this.size-=e?1:0,e}function kA(t){return ir(this,t).get(t)}function CA(t){return ir(this,t).has(t)}function OA(t,e){var s=ir(this,t),i=s.size;return s.set(t,e),this.size+=s.size==i?0:1,this}function Cs(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var i=t[e];this.set(i[0],i[1])}}Cs.prototype.clear=SA;Cs.prototype.delete=NA;Cs.prototype.get=kA;Cs.prototype.has=CA;Cs.prototype.set=OA;function mc(t,e){for(var s=-1,i=e.length,n=t.length;++s<i;)t[n+s]=e[s];return t}var xl=gc(Object.getPrototypeOf,Object),RA="[object Object]",LA=Function.prototype,qA=Object.prototype,bc=LA.toString,DA=qA.hasOwnProperty,IA=bc.call(Object);function PA(t){if(!Vt(t)||hi(t)!=RA)return!1;var e=xl(t);if(e===null)return!0;var s=DA.call(e,"constructor")&&e.constructor;return typeof s=="function"&&s instanceof s&&bc.call(s)==IA}function $A(){this.__data__=new Gt,this.size=0}function UA(t){var e=this.__data__,s=e.delete(t);return this.size=e.size,s}function MA(t){return this.__data__.get(t)}function BA(t){return this.__data__.has(t)}var jA=200;function FA(t,e){var s=this.__data__;if(s instanceof Gt){var i=s.__data__;if(!Zi||i.length<jA-1)return i.push([t,e]),this.size=++s.size,this;s=this.__data__=new Cs(i)}return s.set(t,e),this.size=s.size,this}function Lt(t){var e=this.__data__=new Gt(t);this.size=e.size}Lt.prototype.clear=$A;Lt.prototype.delete=UA;Lt.prototype.get=MA;Lt.prototype.has=BA;Lt.prototype.set=FA;function HA(t,e){return t&&rn(e,bl(e),t)}function VA(t,e){return t&&rn(e,on(e),t)}var xc=typeof We=="object"&&We&&!We.nodeType&&We,wa=xc&&typeof Ze=="object"&&Ze&&!Ze.nodeType&&Ze,zA=wa&&wa.exports===xc,Aa=zA?Pt.Buffer:void 0,Ea=Aa?Aa.allocUnsafe:void 0;function yc(t,e){if(e)return t.slice();var s=t.length,i=Ea?Ea(s):new t.constructor(s);return t.copy(i),i}function KA(t,e){for(var s=-1,i=t==null?0:t.length,n=0,r=[];++s<i;){var o=t[s];e(o,s,t)&&(r[n++]=o)}return r}function _c(){return[]}var GA=Object.prototype,WA=GA.propertyIsEnumerable,Sa=Object.getOwnPropertySymbols,yl=Sa?function(t){return t==null?[]:(t=Object(t),KA(Sa(t),function(e){return WA.call(t,e)}))}:_c;function ZA(t,e){return rn(t,yl(t),e)}var JA=Object.getOwnPropertySymbols,vc=JA?function(t){for(var e=[];t;)mc(e,yl(t)),t=xl(t);return e}:_c;function XA(t,e){return rn(t,vc(t),e)}function wc(t,e,s){var i=e(t);return Es(t)?i:mc(i,s(t))}function qo(t){return wc(t,bl,yl)}function YA(t){return wc(t,on,vc)}var Do=ks(Pt,"DataView"),Io=ks(Pt,"Promise"),Po=ks(Pt,"Set"),Ta="[object Map]",QA="[object Object]",Na="[object Promise]",ka="[object Set]",Ca="[object WeakMap]",Oa="[object DataView]",eE=Ns(Do),tE=Ns(Zi),sE=Ns(Io),iE=Ns(Po),nE=Ns(Ro),ht=hi;(Do&&ht(new Do(new ArrayBuffer(1)))!=Oa||Zi&&ht(new Zi)!=Ta||Io&&ht(Io.resolve())!=Na||Po&&ht(new Po)!=ka||Ro&&ht(new Ro)!=Ca)&&(ht=function(t){var e=hi(t),s=e==QA?t.constructor:void 0,i=s?Ns(s):"";if(i)switch(i){case eE:return Oa;case tE:return Ta;case sE:return Na;case iE:return ka;case nE:return Ca}return e});var rE=Object.prototype,oE=rE.hasOwnProperty;function lE(t){var e=t.length,s=new t.constructor(e);return e&&typeof t[0]=="string"&&oE.call(t,"index")&&(s.index=t.index,s.input=t.input),s}var Hn=Pt.Uint8Array;function _l(t){var e=new t.constructor(t.byteLength);return new Hn(e).set(new Hn(t)),e}function aE(t,e){var s=e?_l(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.byteLength)}var uE=/\w*$/;function cE(t){var e=new t.constructor(t.source,uE.exec(t));return e.lastIndex=t.lastIndex,e}var Ra=us?us.prototype:void 0,La=Ra?Ra.valueOf:void 0;function pE(t){return La?Object(La.call(t)):{}}function Ac(t,e){var s=e?_l(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.length)}var dE="[object Boolean]",hE="[object Date]",fE="[object Map]",gE="[object Number]",mE="[object RegExp]",bE="[object Set]",xE="[object String]",yE="[object Symbol]",_E="[object ArrayBuffer]",vE="[object DataView]",wE="[object Float32Array]",AE="[object Float64Array]",EE="[object Int8Array]",SE="[object Int16Array]",TE="[object Int32Array]",NE="[object Uint8Array]",kE="[object Uint8ClampedArray]",CE="[object Uint16Array]",OE="[object Uint32Array]";function RE(t,e,s){var i=t.constructor;switch(e){case _E:return _l(t);case dE:case hE:return new i(+t);case vE:return aE(t,s);case wE:case AE:case EE:case SE:case TE:case NE:case kE:case CE:case OE:return Ac(t,s);case fE:return new i;case gE:case xE:return new i(t);case mE:return cE(t);case bE:return new i;case yE:return pE(t)}}function Ec(t){return typeof t.constructor=="function"&&!fl(t)?Yv(xl(t)):{}}var LE="[object Map]";function qE(t){return Vt(t)&&ht(t)==LE}var qa=oi&&oi.isMap,DE=qa?gl(qa):qE,IE="[object Set]";function PE(t){return Vt(t)&&ht(t)==IE}var Da=oi&&oi.isSet,$E=Da?gl(Da):PE,UE=1,ME=2,BE=4,Sc="[object Arguments]",jE="[object Array]",FE="[object Boolean]",HE="[object Date]",VE="[object Error]",Tc="[object Function]",zE="[object GeneratorFunction]",KE="[object Map]",GE="[object Number]",Nc="[object Object]",WE="[object RegExp]",ZE="[object Set]",JE="[object String]",XE="[object Symbol]",YE="[object WeakMap]",QE="[object ArrayBuffer]",e2="[object DataView]",t2="[object Float32Array]",s2="[object Float64Array]",i2="[object Int8Array]",n2="[object Int16Array]",r2="[object Int32Array]",o2="[object Uint8Array]",l2="[object Uint8ClampedArray]",a2="[object Uint16Array]",u2="[object Uint32Array]",he={};he[Sc]=he[jE]=he[QE]=he[e2]=he[FE]=he[HE]=he[t2]=he[s2]=he[i2]=he[n2]=he[r2]=he[KE]=he[GE]=he[Nc]=he[WE]=he[ZE]=he[JE]=he[XE]=he[o2]=he[l2]=he[a2]=he[u2]=!0;he[VE]=he[Tc]=he[YE]=!1;function $n(t,e,s,i,n,r){var o,l=e&UE,a=e&ME,u=e&BE;if(o!==void 0)return o;if(!ps(t))return t;var d=Es(t);if(d){if(o=lE(t),!l)return lc(t,o)}else{var g=ht(t),h=g==Tc||g==zE;if(Gi(t))return yc(t,l);if(g==Nc||g==Sc||h&&!n){if(o=a||h?{}:Ec(t),!l)return a?XA(t,VA(o,t)):ZA(t,HA(o,t))}else{if(!he[g])return n?t:{};o=RE(t,g,l)}}r||(r=new Lt);var f=r.get(t);if(f)return f;r.set(t,o),$E(t)?t.forEach(function(w){o.add($n(w,e,s,w,t,r))}):DE(t)&&t.forEach(function(w,v){o.set(v,$n(w,e,s,v,t,r))});var b=u?a?YA:qo:a?on:bl,y=d?void 0:b(t);return lw(y||t,function(w,v){y&&(v=w,w=t[v]),uc(o,v,$n(w,e,s,v,t,r))}),o}var c2=1,p2=4;function ei(t){return $n(t,c2|p2)}var d2="__lodash_hash_undefined__";function h2(t){return this.__data__.set(t,d2),this}function f2(t){return this.__data__.has(t)}function Vn(t){var e=-1,s=t==null?0:t.length;for(this.__data__=new Cs;++e<s;)this.add(t[e])}Vn.prototype.add=Vn.prototype.push=h2;Vn.prototype.has=f2;function g2(t,e){for(var s=-1,i=t==null?0:t.length;++s<i;)if(e(t[s],s,t))return!0;return!1}function m2(t,e){return t.has(e)}var b2=1,x2=2;function kc(t,e,s,i,n,r){var o=s&b2,l=t.length,a=e.length;if(l!=a&&!(o&&a>l))return!1;var u=r.get(t),d=r.get(e);if(u&&d)return u==e&&d==t;var g=-1,h=!0,f=s&x2?new Vn:void 0;for(r.set(t,e),r.set(e,t);++g<l;){var b=t[g],y=e[g];if(i)var w=o?i(y,b,g,e,t,r):i(b,y,g,t,e,r);if(w!==void 0){if(w)continue;h=!1;break}if(f){if(!g2(e,function(v,E){if(!m2(f,E)&&(b===v||n(b,v,s,i,r)))return f.push(E)})){h=!1;break}}else if(!(b===y||n(b,y,s,i,r))){h=!1;break}}return r.delete(t),r.delete(e),h}function y2(t){var e=-1,s=Array(t.size);return t.forEach(function(i,n){s[++e]=[n,i]}),s}function _2(t){var e=-1,s=Array(t.size);return t.forEach(function(i){s[++e]=i}),s}var v2=1,w2=2,A2="[object Boolean]",E2="[object Date]",S2="[object Error]",T2="[object Map]",N2="[object Number]",k2="[object RegExp]",C2="[object Set]",O2="[object String]",R2="[object Symbol]",L2="[object ArrayBuffer]",q2="[object DataView]",Ia=us?us.prototype:void 0,uo=Ia?Ia.valueOf:void 0;function D2(t,e,s,i,n,r,o){switch(s){case q2:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case L2:return!(t.byteLength!=e.byteLength||!r(new Hn(t),new Hn(e)));case A2:case E2:case N2:return nn(+t,+e);case S2:return t.name==e.name&&t.message==e.message;case k2:case O2:return t==e+"";case T2:var l=y2;case C2:var a=i&v2;if(l||(l=_2),t.size!=e.size&&!a)return!1;var u=o.get(t);if(u)return u==e;i|=w2,o.set(t,e);var d=kc(l(t),l(e),i,n,r,o);return o.delete(t),d;case R2:if(uo)return uo.call(t)==uo.call(e)}return!1}var I2=1,P2=Object.prototype,$2=P2.hasOwnProperty;function U2(t,e,s,i,n,r){var o=s&I2,l=qo(t),a=l.length,u=qo(e),d=u.length;if(a!=d&&!o)return!1;for(var g=a;g--;){var h=l[g];if(!(o?h in e:$2.call(e,h)))return!1}var f=r.get(t),b=r.get(e);if(f&&b)return f==e&&b==t;var y=!0;r.set(t,e),r.set(e,t);for(var w=o;++g<a;){h=l[g];var v=t[h],E=e[h];if(i)var N=o?i(E,v,h,e,t,r):i(v,E,h,t,e,r);if(!(N===void 0?v===E||n(v,E,s,i,r):N)){y=!1;break}w||(w=h=="constructor")}if(y&&!w){var L=t.constructor,q=e.constructor;L!=q&&"constructor"in t&&"constructor"in e&&!(typeof L=="function"&&L instanceof L&&typeof q=="function"&&q instanceof q)&&(y=!1)}return r.delete(t),r.delete(e),y}var M2=1,Pa="[object Arguments]",$a="[object Array]",Cn="[object Object]",B2=Object.prototype,Ua=B2.hasOwnProperty;function j2(t,e,s,i,n,r){var o=Es(t),l=Es(e),a=o?$a:ht(t),u=l?$a:ht(e);a=a==Pa?Cn:a,u=u==Pa?Cn:u;var d=a==Cn,g=u==Cn,h=a==u;if(h&&Gi(t)){if(!Gi(e))return!1;o=!0,d=!1}if(h&&!d)return r||(r=new Lt),o||ml(t)?kc(t,e,s,i,n,r):D2(t,e,a,s,i,n,r);if(!(s&M2)){var f=d&&Ua.call(t,"__wrapped__"),b=g&&Ua.call(e,"__wrapped__");if(f||b){var y=f?t.value():t,w=b?e.value():e;return r||(r=new Lt),n(y,w,s,i,r)}}return h?(r||(r=new Lt),U2(t,e,s,i,n,r)):!1}function Cc(t,e,s,i,n){return t===e?!0:t==null||e==null||!Vt(t)&&!Vt(e)?t!==t&&e!==e:j2(t,e,s,i,Cc,n)}function F2(t){return function(e,s,i){for(var n=-1,r=Object(e),o=i(e),l=o.length;l--;){var a=o[++n];if(s(r[a],a,r)===!1)break}return e}}var H2=F2();function $o(t,e,s){(s!==void 0&&!nn(t[e],s)||s===void 0&&!(e in t))&&hl(t,e,s)}function V2(t){return Vt(t)&&tr(t)}function Uo(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function z2(t){return rn(t,on(t))}function K2(t,e,s,i,n,r,o){var l=Uo(t,s),a=Uo(e,s),u=o.get(a);if(u){$o(t,s,u);return}var d=r?r(l,a,s+"",t,e,o):void 0,g=d===void 0;if(g){var h=Es(a),f=!h&&Gi(a),b=!h&&!f&&ml(a);d=a,h||f||b?Es(l)?d=l:V2(l)?d=lc(l):f?(g=!1,d=yc(a,!0)):b?(g=!1,d=Ac(a,!0)):d=[]:PA(a)||Lo(a)?(d=l,Lo(l)?d=z2(l):(!ps(l)||dl(l))&&(d=Ec(a))):g=!1}g&&(o.set(a,d),n(d,a,i,r,o),o.delete(a)),$o(t,s,d)}function Oc(t,e,s,i,n){t!==e&&H2(e,function(r,o){if(n||(n=new Lt),ps(r))K2(t,e,o,s,Oc,i,n);else{var l=i?i(Uo(t,o),r,o+"",t,e,n):void 0;l===void 0&&(l=r),$o(t,o,l)}},on)}function vl(t,e){return Cc(t,e)}var as=mw(function(t,e,s){Oc(t,e,s)}),j=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(j||{});class Dt{constructor(e,s,i={}){this.attrName=e,this.keyName=s;const n=j.TYPE&j.ATTRIBUTE;this.scope=i.scope!=null?i.scope&j.LEVEL|n:j.ATTRIBUTE,i.whitelist!=null&&(this.whitelist=i.whitelist)}static keys(e){return Array.from(e.attributes).map(s=>s.name)}add(e,s){return this.canAdd(e,s)?(e.setAttribute(this.keyName,s),!0):!1}canAdd(e,s){return this.whitelist==null?!0:typeof s=="string"?this.whitelist.indexOf(s.replace(/["']/g,""))>-1:this.whitelist.indexOf(s)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const s=e.getAttribute(this.keyName);return this.canAdd(e,s)&&s?s:""}}class ti extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const Rc=class Mo{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,s=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(s){let i=null;try{i=e.parentNode}catch{return null}return this.find(i,s)}return null}create(e,s,i){const n=this.query(s);if(n==null)throw new ti(`Unable to create ${s} blot`);const r=n,o=s instanceof Node||s.nodeType===Node.TEXT_NODE?s:r.create(i),l=new r(e,o,i);return Mo.blots.set(l.domNode,l),l}find(e,s=!1){return Mo.find(e,s)}query(e,s=j.ANY){let i;return typeof e=="string"?i=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?i=this.types.text:typeof e=="number"?e&j.LEVEL&j.BLOCK?i=this.types.block:e&j.LEVEL&j.INLINE&&(i=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(n=>(i=this.classes[n],!!i)),i=i||this.tags[e.tagName]),i==null?null:"scope"in i&&s&j.LEVEL&i.scope&&s&j.TYPE&i.scope?i:null}register(...e){return e.map(s=>{const i="blotName"in s,n="attrName"in s;if(!i&&!n)throw new ti("Invalid definition");if(i&&s.blotName==="abstract")throw new ti("Cannot register abstract class");const r=i?s.blotName:n?s.attrName:void 0;return this.types[r]=s,n?typeof s.keyName=="string"&&(this.attributes[s.keyName]=s):i&&(s.className&&(this.classes[s.className]=s),s.tagName&&(Array.isArray(s.tagName)?s.tagName=s.tagName.map(o=>o.toUpperCase()):s.tagName=s.tagName.toUpperCase(),(Array.isArray(s.tagName)?s.tagName:[s.tagName]).forEach(o=>{(this.tags[o]==null||s.className==null)&&(this.tags[o]=s)}))),s})}};Rc.blots=new WeakMap;let li=Rc;function Ma(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(s=>s.indexOf(`${e}-`)===0)}class G2 extends Dt{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(s=>s.split("-").slice(0,-1).join("-"))}add(e,s){return this.canAdd(e,s)?(this.remove(e),e.classList.add(`${this.keyName}-${s}`),!0):!1}remove(e){Ma(e,this.keyName).forEach(s=>{e.classList.remove(s)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const s=(Ma(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,s)?s:""}}const _t=G2;function co(t){const e=t.split("-"),s=e.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("");return e[0]+s}class W2 extends Dt{static keys(e){return(e.getAttribute("style")||"").split(";").map(s=>s.split(":")[0].trim())}add(e,s){return this.canAdd(e,s)?(e.style[co(this.keyName)]=s,!0):!1}remove(e){e.style[co(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const s=e.style[co(this.keyName)];return this.canAdd(e,s)?s:""}}const ds=W2;class Z2{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,s){s?e.add(this.domNode,s)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=li.find(this.domNode);if(e==null)return;const s=Dt.keys(this.domNode),i=_t.keys(this.domNode),n=ds.keys(this.domNode);s.concat(i).concat(n).forEach(r=>{const o=e.scroll.query(r,j.ATTRIBUTE);o instanceof Dt&&(this.attributes[o.attrName]=o)})}copy(e){Object.keys(this.attributes).forEach(s=>{const i=this.attributes[s].value(this.domNode);e.format(s,i)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(s=>{this.attributes[s].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,s)=>(e[s]=this.attributes[s].value(this.domNode),e),{})}}const nr=Z2,Lc=class{constructor(e,s){this.scroll=e,this.domNode=s,li.blots.set(s,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new ti("Blot definition missing tagName");let s,i;return Array.isArray(this.tagName)?(typeof e=="string"?(i=e.toUpperCase(),parseInt(i,10).toString()===i&&(i=parseInt(i,10))):typeof e=="number"&&(i=e),typeof i=="number"?s=document.createElement(this.tagName[i-1]):i&&this.tagName.indexOf(i)>-1?s=document.createElement(i):s=document.createElement(this.tagName[0])):s=document.createElement(this.tagName),this.className&&s.classList.add(this.className),s}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),li.blots.delete(this.domNode)}deleteAt(e,s){this.isolate(e,s).remove()}formatAt(e,s,i,n){const r=this.isolate(e,s);if(this.scroll.query(i,j.BLOT)!=null&&n)r.wrap(i,n);else if(this.scroll.query(i,j.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);r.wrap(o),o.format(i,n)}}insertAt(e,s,i){const n=i==null?this.scroll.create("text",s):this.scroll.create(s,i),r=this.split(e);this.parent.insertBefore(n,r||void 0)}isolate(e,s){const i=this.split(e);if(i==null)throw new Error("Attempt to isolate at end");return i.split(s),i}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,s){const i=typeof e=="string"?this.scroll.create(e,s):e;return this.parent!=null&&(this.parent.insertBefore(i,this.next||void 0),this.remove()),i}split(e,s){return e===0?this:this.next}update(e,s){}wrap(e,s){const i=typeof e=="string"?this.scroll.create(e,s):e;if(this.parent!=null&&this.parent.insertBefore(i,this.next||void 0),typeof i.appendChild!="function")throw new ti(`Cannot wrap ${e}`);return i.appendChild(this),i}};Lc.blotName="abstract";let qc=Lc;const Dc=class extends qc{static value(e){return!0}index(e,s){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(s,1):-1}position(e,s){let i=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(i+=1),[this.parent.domNode,i]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Dc.scope=j.INLINE_BLOT;let J2=Dc;const De=J2;class X2{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const s=e.slice(1);this.append(...s)}}at(e){const s=this.iterator();let i=s();for(;i&&e>0;)e-=1,i=s();return i}contains(e){const s=this.iterator();let i=s();for(;i;){if(i===e)return!0;i=s()}return!1}indexOf(e){const s=this.iterator();let i=s(),n=0;for(;i;){if(i===e)return n;n+=1,i=s()}return-1}insertBefore(e,s){e!=null&&(this.remove(e),e.next=s,s!=null?(e.prev=s.prev,s.prev!=null&&(s.prev.next=e),s.prev=e,s===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let s=0,i=this.head;for(;i!=null;){if(i===e)return s;s+=i.length(),i=i.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const s=e;return e!=null&&(e=e.next),s}}find(e,s=!1){const i=this.iterator();let n=i();for(;n;){const r=n.length();if(e<r||s&&e===r&&(n.next==null||n.next.length()!==0))return[n,e];e-=r,n=i()}return[null,0]}forEach(e){const s=this.iterator();let i=s();for(;i;)e(i),i=s()}forEachAt(e,s,i){if(s<=0)return;const[n,r]=this.find(e);let o=e-r;const l=this.iterator(n);let a=l();for(;a&&o<e+s;){const u=a.length();e>o?i(a,e-o,Math.min(s,o+u-e)):i(a,0,Math.min(u,e+s-o)),o+=u,a=l()}}map(e){return this.reduce((s,i)=>(s.push(e(i)),s),[])}reduce(e,s){const i=this.iterator();let n=i();for(;n;)s=e(s,n),n=i();return s}}function Ba(t,e){const s=e.find(t);if(s)return s;try{return e.create(t)}catch{const i=e.create(j.INLINE);return Array.from(t.childNodes).forEach(n=>{i.domNode.appendChild(n)}),t.parentNode&&t.parentNode.replaceChild(i.domNode,t),i.attach(),i}}const Ic=class is extends qc{constructor(e,s){super(e,s),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,is.uiClass&&this.uiNode.classList.add(is.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new X2,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const s=Ba(e,this.scroll);this.insertBefore(s,this.children.head||void 0)}catch(s){if(s instanceof ti)return;throw s}})}deleteAt(e,s){if(e===0&&s===this.length())return this.remove();this.children.forEachAt(e,s,(i,n,r)=>{i.deleteAt(n,r)})}descendant(e,s=0){const[i,n]=this.children.find(s);return e.blotName==null&&e(i)||e.blotName!=null&&i instanceof e?[i,n]:i instanceof is?i.descendant(e,n):[null,-1]}descendants(e,s=0,i=Number.MAX_VALUE){let n=[],r=i;return this.children.forEachAt(s,i,(o,l,a)=>{(e.blotName==null&&e(o)||e.blotName!=null&&o instanceof e)&&n.push(o),o instanceof is&&(n=n.concat(o.descendants(e,l,r))),r-=a}),n}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(s=>{e||this.statics.allowedChildren.some(i=>s instanceof i)||(s.statics.scope===j.BLOCK_BLOT?(s.next!=null&&this.splitAfter(s),s.prev!=null&&this.splitAfter(s.prev),s.parent.unwrap(),e=!0):s instanceof is?s.unwrap():s.remove())})}formatAt(e,s,i,n){this.children.forEachAt(e,s,(r,o,l)=>{r.formatAt(o,l,i,n)})}insertAt(e,s,i){const[n,r]=this.children.find(e);if(n)n.insertAt(r,s,i);else{const o=i==null?this.scroll.create("text",s):this.scroll.create(s,i);this.appendChild(o)}}insertBefore(e,s){e.parent!=null&&e.parent.children.remove(e);let i=null;this.children.insertBefore(e,s||null),e.parent=this,s!=null&&(i=s.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==i)&&this.domNode.insertBefore(e.domNode,i),e.attach()}length(){return this.children.reduce((e,s)=>e+s.length(),0)}moveChildren(e,s){this.children.forEach(i=>{e.insertBefore(i,s)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s)}else this.remove()}path(e,s=!1){const[i,n]=this.children.find(e,s),r=[[this,e]];return i instanceof is?r.concat(i.path(n,s)):(i!=null&&r.push([i,n]),r)}removeChild(e){this.children.remove(e)}replaceWith(e,s){const i=typeof e=="string"?this.scroll.create(e,s):e;return i instanceof is&&this.moveChildren(i),super.replaceWith(i)}split(e,s=!1){if(!s){if(e===0)return this;if(e===this.length())return this.next}const i=this.clone();return this.parent&&this.parent.insertBefore(i,this.next||void 0),this.children.forEachAt(e,this.length(),(n,r,o)=>{const l=n.split(r,s);l!=null&&i.appendChild(l)}),i}splitAfter(e){const s=this.clone();for(;e.next!=null;)s.appendChild(e.next);return this.parent&&this.parent.insertBefore(s,this.next||void 0),s}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,s){const i=[],n=[];e.forEach(r=>{r.target===this.domNode&&r.type==="childList"&&(i.push(...r.addedNodes),n.push(...r.removedNodes))}),n.forEach(r=>{if(r.parentNode!=null&&r.tagName!=="IFRAME"&&document.body.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(r);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),i.filter(r=>r.parentNode===this.domNode&&r!==this.uiNode).sort((r,o)=>r===o?0:r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(r=>{let o=null;r.nextSibling!=null&&(o=this.scroll.find(r.nextSibling));const l=Ba(r,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};Ic.uiClass="";let Y2=Ic;const mt=Y2;function Q2(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}const Ws=class Zs extends mt{static create(e){return super.create(e)}static formats(e,s){const i=s.query(Zs.blotName);if(!(i!=null&&e.tagName===i.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,s){super(e,s),this.attributes=new nr(this.domNode)}format(e,s){if(e===this.statics.blotName&&!s)this.children.forEach(i=>{i instanceof Zs||(i=i.wrap(Zs.blotName,!0)),this.attributes.copy(i)}),this.unwrap();else{const i=this.scroll.query(e,j.INLINE);if(i==null)return;i instanceof Dt?this.attributes.attribute(i,s):s&&(e!==this.statics.blotName||this.formats()[e]!==s)&&this.replaceWith(e,s)}}formats(){const e=this.attributes.values(),s=this.statics.formats(this.domNode,this.scroll);return s!=null&&(e[this.statics.blotName]=s),e}formatAt(e,s,i,n){this.formats()[i]!=null||this.scroll.query(i,j.ATTRIBUTE)?this.isolate(e,s).format(i,n):super.formatAt(e,s,i,n)}optimize(e){super.optimize(e);const s=this.formats();if(Object.keys(s).length===0)return this.unwrap();const i=this.next;i instanceof Zs&&i.prev===this&&Q2(s,i.formats())&&(i.moveChildren(this),i.remove())}replaceWith(e,s){const i=super.replaceWith(e,s);return this.attributes.copy(i),i}update(e,s){super.update(e,s),e.some(i=>i.target===this.domNode&&i.type==="attributes")&&this.attributes.build()}wrap(e,s){const i=super.wrap(e,s);return i instanceof Zs&&this.attributes.move(i),i}};Ws.allowedChildren=[Ws,De],Ws.blotName="inline",Ws.scope=j.INLINE_BLOT,Ws.tagName="SPAN";let eS=Ws;const wl=eS,Js=class Bo extends mt{static create(e){return super.create(e)}static formats(e,s){const i=s.query(Bo.blotName);if(!(i!=null&&e.tagName===i.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,s){super(e,s),this.attributes=new nr(this.domNode)}format(e,s){const i=this.scroll.query(e,j.BLOCK);i!=null&&(i instanceof Dt?this.attributes.attribute(i,s):e===this.statics.blotName&&!s?this.replaceWith(Bo.blotName):s&&(e!==this.statics.blotName||this.formats()[e]!==s)&&this.replaceWith(e,s))}formats(){const e=this.attributes.values(),s=this.statics.formats(this.domNode,this.scroll);return s!=null&&(e[this.statics.blotName]=s),e}formatAt(e,s,i,n){this.scroll.query(i,j.BLOCK)!=null?this.format(i,n):super.formatAt(e,s,i,n)}insertAt(e,s,i){if(i==null||this.scroll.query(s,j.INLINE)!=null)super.insertAt(e,s,i);else{const n=this.split(e);if(n!=null){const r=this.scroll.create(s,i);n.parent.insertBefore(r,n)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,s){const i=super.replaceWith(e,s);return this.attributes.copy(i),i}update(e,s){super.update(e,s),e.some(i=>i.target===this.domNode&&i.type==="attributes")&&this.attributes.build()}};Js.blotName="block",Js.scope=j.BLOCK_BLOT,Js.tagName="P",Js.allowedChildren=[wl,Js,De];let tS=Js;const Ji=tS,jo=class extends mt{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,s){super.deleteAt(e,s),this.enforceAllowedChildren()}formatAt(e,s,i,n){super.formatAt(e,s,i,n),this.enforceAllowedChildren()}insertAt(e,s,i){super.insertAt(e,s,i),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};jo.blotName="container",jo.scope=j.BLOCK_BLOT;let sS=jo;const rr=sS;class iS extends De{static formats(e,s){}format(e,s){super.formatAt(0,this.length(),e,s)}formatAt(e,s,i,n){e===0&&s===this.length()?this.format(i,n):super.formatAt(e,s,i,n)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Je=iS,nS={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},rS=100,Xs=class extends mt{constructor(e,s){super(null,s),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(i=>{this.update(i)}),this.observer.observe(this.domNode,nS),this.attach()}create(e,s){return this.registry.create(this,e,s)}find(e,s=!1){const i=this.registry.find(e,s);return i?i.scroll===this?i:s?this.find(i.scroll.domNode.parentNode,!0):null:null}query(e,s=j.ANY){return this.registry.query(e,s)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,s){this.update(),e===0&&s===this.length()?this.children.forEach(i=>{i.remove()}):super.deleteAt(e,s)}formatAt(e,s,i,n){this.update(),super.formatAt(e,s,i,n)}insertAt(e,s,i){this.update(),super.insertAt(e,s,i)}optimize(e=[],s={}){super.optimize(s);const i=s.mutationsMap||new WeakMap;let n=Array.from(this.observer.takeRecords());for(;n.length>0;)e.push(n.pop());const r=(a,u=!0)=>{a==null||a===this||a.domNode.parentNode!=null&&(i.has(a.domNode)||i.set(a.domNode,[]),u&&r(a.parent))},o=a=>{i.has(a.domNode)&&(a instanceof mt&&a.children.forEach(o),i.delete(a.domNode),a.optimize(s))};let l=e;for(let a=0;l.length>0;a+=1){if(a>=rS)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(u=>{const d=this.find(u.target,!0);d!=null&&(d.domNode===u.target&&(u.type==="childList"?(r(this.find(u.previousSibling,!1)),Array.from(u.addedNodes).forEach(g=>{const h=this.find(g,!1);r(h,!1),h instanceof mt&&h.children.forEach(f=>{r(f,!1)})})):u.type==="attributes"&&r(d.prev)),r(d))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),n=l.slice();n.length>0;)e.push(n.pop())}}update(e,s={}){e=e||this.observer.takeRecords();const i=new WeakMap;e.map(n=>{const r=this.find(n.target,!0);return r==null?null:i.has(r.domNode)?(i.get(r.domNode).push(n),null):(i.set(r.domNode,[n]),r)}).forEach(n=>{n!=null&&n!==this&&i.has(n.domNode)&&n.update(i.get(n.domNode)||[],s)}),s.mutationsMap=i,i.has(this.domNode)&&super.update(i.get(this.domNode),s),this.optimize(e,s)}};Xs.blotName="scroll",Xs.defaultChild=Ji,Xs.allowedChildren=[Ji,rr],Xs.scope=j.BLOCK_BLOT,Xs.tagName="DIV";let oS=Xs;const Al=oS,Fo=class Pc extends De{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,s){super(e,s),this.text=this.statics.value(this.domNode)}deleteAt(e,s){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+s)}index(e,s){return this.domNode===e?s:-1}insertAt(e,s,i){i==null?(this.text=this.text.slice(0,e)+s+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,s,i)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Pc&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,s=!1){return[this.domNode,e]}split(e,s=!1){if(!s){if(e===0)return this;if(e===this.length())return this.next}const i=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(i,this.next||void 0),this.text=this.statics.value(this.domNode),i}update(e,s){e.some(i=>i.type==="characterData"&&i.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Fo.blotName="text",Fo.scope=j.INLINE_BLOT;let lS=Fo;const zn=lS,aS=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Dt,AttributorStore:nr,BlockBlot:Ji,ClassAttributor:_t,ContainerBlot:rr,EmbedBlot:Je,InlineBlot:wl,LeafBlot:De,ParentBlot:mt,Registry:li,Scope:j,ScrollBlot:Al,StyleAttributor:ds,TextBlot:zn},Symbol.toStringTag,{value:"Module"}));var Ho={exports:{}},Ge=-1,Be=1,Ee=0;function Xi(t,e,s,i,n){if(t===e)return t?[[Ee,t]]:[];if(s!=null){var r=bS(t,e,s);if(r)return r}var o=El(t,e),l=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=or(t,e);var a=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var u=uS(t,e);return l&&u.unshift([Ee,l]),a&&u.push([Ee,a]),Sl(u,n),i&&dS(u),u}function uS(t,e){var s;if(!t)return[[Be,e]];if(!e)return[[Ge,t]];var i=t.length>e.length?t:e,n=t.length>e.length?e:t,r=i.indexOf(n);if(r!==-1)return s=[[Be,i.substring(0,r)],[Ee,n],[Be,i.substring(r+n.length)]],t.length>e.length&&(s[0][0]=s[2][0]=Ge),s;if(n.length===1)return[[Ge,t],[Be,e]];var o=pS(t,e);if(o){var l=o[0],a=o[1],u=o[2],d=o[3],g=o[4],h=Xi(l,u),f=Xi(a,d);return h.concat([[Ee,g]],f)}return cS(t,e)}function cS(t,e){for(var s=t.length,i=e.length,n=Math.ceil((s+i)/2),r=n,o=2*n,l=new Array(o),a=new Array(o),u=0;u<o;u++)l[u]=-1,a[u]=-1;l[r+1]=0,a[r+1]=0;for(var d=s-i,g=d%2!==0,h=0,f=0,b=0,y=0,w=0;w<n;w++){for(var v=-w+h;v<=w-f;v+=2){var E=r+v,N;v===-w||v!==w&&l[E-1]<l[E+1]?N=l[E+1]:N=l[E-1]+1;for(var L=N-v;N<s&&L<i&&t.charAt(N)===e.charAt(L);)N++,L++;if(l[E]=N,N>s)f+=2;else if(L>i)h+=2;else if(g){var q=r+d-v;if(q>=0&&q<o&&a[q]!==-1){var U=s-a[q];if(N>=U)return ja(t,e,N,L)}}}for(var K=-w+b;K<=w-y;K+=2){var q=r+K,U;K===-w||K!==w&&a[q-1]<a[q+1]?U=a[q+1]:U=a[q-1]+1;for(var oe=U-K;U<s&&oe<i&&t.charAt(s-U-1)===e.charAt(i-oe-1);)U++,oe++;if(a[q]=U,U>s)y+=2;else if(oe>i)b+=2;else if(!g){var E=r+d-K;if(E>=0&&E<o&&l[E]!==-1){var N=l[E],L=r+N-E;if(U=s-U,N>=U)return ja(t,e,N,L)}}}}return[[Ge,t],[Be,e]]}function ja(t,e,s,i){var n=t.substring(0,s),r=e.substring(0,i),o=t.substring(s),l=e.substring(i),a=Xi(n,r),u=Xi(o,l);return a.concat(u)}function El(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var s=0,i=Math.min(t.length,e.length),n=i,r=0;s<n;)t.substring(r,n)==e.substring(r,n)?(s=n,r=s):i=n,n=Math.floor((i-s)/2+s);return $c(t.charCodeAt(n-1))&&n--,n}function Fa(t,e){var s=t.length,i=e.length;if(s==0||i==0)return 0;s>i?t=t.substring(s-i):s<i&&(e=e.substring(0,s));var n=Math.min(s,i);if(t==e)return n;for(var r=0,o=1;;){var l=t.substring(n-o),a=e.indexOf(l);if(a==-1)return r;o+=a,(a==0||t.substring(n-o)==e.substring(0,o))&&(r=o,o++)}}function or(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var s=0,i=Math.min(t.length,e.length),n=i,r=0;s<n;)t.substring(t.length-n,t.length-r)==e.substring(e.length-n,e.length-r)?(s=n,r=s):i=n,n=Math.floor((i-s)/2+s);return Uc(t.charCodeAt(t.length-n))&&n--,n}function pS(t,e){var s=t.length>e.length?t:e,i=t.length>e.length?e:t;if(s.length<4||i.length*2<s.length)return null;function n(f,b,y){for(var w=f.substring(y,y+Math.floor(f.length/4)),v=-1,E="",N,L,q,U;(v=b.indexOf(w,v+1))!==-1;){var K=El(f.substring(y),b.substring(v)),oe=or(f.substring(0,y),b.substring(0,v));E.length<oe+K&&(E=b.substring(v-oe,v)+b.substring(v,v+K),N=f.substring(0,y-oe),L=f.substring(y+K),q=b.substring(0,v-oe),U=b.substring(v+K))}return E.length*2>=f.length?[N,L,q,U,E]:null}var r=n(s,i,Math.ceil(s.length/4)),o=n(s,i,Math.ceil(s.length/2)),l;if(!r&&!o)return null;o?r?l=r[4].length>o[4].length?r:o:l=o:l=r;var a,u,d,g;t.length>e.length?(a=l[0],u=l[1],d=l[2],g=l[3]):(d=l[0],g=l[1],a=l[2],u=l[3]);var h=l[4];return[a,u,d,g,h]}function dS(t){for(var e=!1,s=[],i=0,n=null,r=0,o=0,l=0,a=0,u=0;r<t.length;)t[r][0]==Ee?(s[i++]=r,o=a,l=u,a=0,u=0,n=t[r][1]):(t[r][0]==Be?a+=t[r][1].length:u+=t[r][1].length,n&&n.length<=Math.max(o,l)&&n.length<=Math.max(a,u)&&(t.splice(s[i-1],0,[Ge,n]),t[s[i-1]+1][0]=Be,i--,i--,r=i>0?s[i-1]:-1,o=0,l=0,a=0,u=0,n=null,e=!0)),r++;for(e&&Sl(t),gS(t),r=1;r<t.length;){if(t[r-1][0]==Ge&&t[r][0]==Be){var d=t[r-1][1],g=t[r][1],h=Fa(d,g),f=Fa(g,d);h>=f?(h>=d.length/2||h>=g.length/2)&&(t.splice(r,0,[Ee,g.substring(0,h)]),t[r-1][1]=d.substring(0,d.length-h),t[r+1][1]=g.substring(h),r++):(f>=d.length/2||f>=g.length/2)&&(t.splice(r,0,[Ee,d.substring(0,f)]),t[r-1][0]=Be,t[r-1][1]=g.substring(0,g.length-f),t[r+1][0]=Ge,t[r+1][1]=d.substring(f),r++),r++}r++}}var Ha=/[^a-zA-Z0-9]/,Va=/\s/,za=/[\r\n]/,hS=/\n\r?\n$/,fS=/^\r?\n\r?\n/;function gS(t){function e(f,b){if(!f||!b)return 6;var y=f.charAt(f.length-1),w=b.charAt(0),v=y.match(Ha),E=w.match(Ha),N=v&&y.match(Va),L=E&&w.match(Va),q=N&&y.match(za),U=L&&w.match(za),K=q&&f.match(hS),oe=U&&b.match(fS);return K||oe?5:q||U?4:v&&!N&&L?3:N||L?2:v||E?1:0}for(var s=1;s<t.length-1;){if(t[s-1][0]==Ee&&t[s+1][0]==Ee){var i=t[s-1][1],n=t[s][1],r=t[s+1][1],o=or(i,n);if(o){var l=n.substring(n.length-o);i=i.substring(0,i.length-o),n=l+n.substring(0,n.length-o),r=l+r}for(var a=i,u=n,d=r,g=e(i,n)+e(n,r);n.charAt(0)===r.charAt(0);){i+=n.charAt(0),n=n.substring(1)+r.charAt(0),r=r.substring(1);var h=e(i,n)+e(n,r);h>=g&&(g=h,a=i,u=n,d=r)}t[s-1][1]!=a&&(a?t[s-1][1]=a:(t.splice(s-1,1),s--),t[s][1]=u,d?t[s+1][1]=d:(t.splice(s+1,1),s--))}s++}}function Sl(t,e){t.push([Ee,""]);for(var s=0,i=0,n=0,r="",o="",l;s<t.length;){if(s<t.length-1&&!t[s][1]){t.splice(s,1);continue}switch(t[s][0]){case Be:n++,o+=t[s][1],s++;break;case Ge:i++,r+=t[s][1],s++;break;case Ee:var a=s-n-i-1;if(e){if(a>=0&&Bc(t[a][1])){var u=t[a][1].slice(-1);if(t[a][1]=t[a][1].slice(0,-1),r=u+r,o=u+o,!t[a][1]){t.splice(a,1),s--;var d=a-1;t[d]&&t[d][0]===Be&&(n++,o=t[d][1]+o,d--),t[d]&&t[d][0]===Ge&&(i++,r=t[d][1]+r,d--),a=d}}if(Mc(t[s][1])){var u=t[s][1].charAt(0);t[s][1]=t[s][1].slice(1),r+=u,o+=u}}if(s<t.length-1&&!t[s][1]){t.splice(s,1);break}if(r.length>0||o.length>0){r.length>0&&o.length>0&&(l=El(o,r),l!==0&&(a>=0?t[a][1]+=o.substring(0,l):(t.splice(0,0,[Ee,o.substring(0,l)]),s++),o=o.substring(l),r=r.substring(l)),l=or(o,r),l!==0&&(t[s][1]=o.substring(o.length-l)+t[s][1],o=o.substring(0,o.length-l),r=r.substring(0,r.length-l)));var g=n+i;r.length===0&&o.length===0?(t.splice(s-g,g),s=s-g):r.length===0?(t.splice(s-g,g,[Be,o]),s=s-g+1):o.length===0?(t.splice(s-g,g,[Ge,r]),s=s-g+1):(t.splice(s-g,g,[Ge,r],[Be,o]),s=s-g+2)}s!==0&&t[s-1][0]===Ee?(t[s-1][1]+=t[s][1],t.splice(s,1)):s++,n=0,i=0,r="",o="";break}}t[t.length-1][1]===""&&t.pop();var h=!1;for(s=1;s<t.length-1;)t[s-1][0]===Ee&&t[s+1][0]===Ee&&(t[s][1].substring(t[s][1].length-t[s-1][1].length)===t[s-1][1]?(t[s][1]=t[s-1][1]+t[s][1].substring(0,t[s][1].length-t[s-1][1].length),t[s+1][1]=t[s-1][1]+t[s+1][1],t.splice(s-1,1),h=!0):t[s][1].substring(0,t[s+1][1].length)==t[s+1][1]&&(t[s-1][1]+=t[s+1][1],t[s][1]=t[s][1].substring(t[s+1][1].length)+t[s+1][1],t.splice(s+1,1),h=!0)),s++;h&&Sl(t,e)}function $c(t){return t>=55296&&t<=56319}function Uc(t){return t>=56320&&t<=57343}function Mc(t){return Uc(t.charCodeAt(0))}function Bc(t){return $c(t.charCodeAt(t.length-1))}function mS(t){for(var e=[],s=0;s<t.length;s++)t[s][1].length>0&&e.push(t[s]);return e}function po(t,e,s,i){return Bc(t)||Mc(i)?null:mS([[Ee,t],[Ge,e],[Be,s],[Ee,i]])}function bS(t,e,s){var i=typeof s=="number"?{index:s,length:0}:s.oldRange,n=typeof s=="number"?null:s.newRange,r=t.length,o=e.length;if(i.length===0&&(n===null||n.length===0)){var l=i.index,a=t.slice(0,l),u=t.slice(l),d=n?n.index:null;e:{var g=l+o-r;if(d!==null&&d!==g||g<0||g>o)break e;var h=e.slice(0,g),f=e.slice(g);if(f!==u)break e;var b=Math.min(l,g),y=a.slice(0,b),w=h.slice(0,b);if(y!==w)break e;var v=a.slice(b),E=h.slice(b);return po(y,v,E,u)}e:{if(d!==null&&d!==l)break e;var N=l,h=e.slice(0,N),f=e.slice(N);if(h!==a)break e;var L=Math.min(r-N,o-N),q=u.slice(u.length-L),U=f.slice(f.length-L);if(q!==U)break e;var v=u.slice(0,u.length-L),E=f.slice(0,f.length-L);return po(a,v,E,q)}}if(i.length>0&&n&&n.length===0)e:{var y=t.slice(0,i.index),q=t.slice(i.index+i.length),b=y.length,L=q.length;if(o<b+L)break e;var w=e.slice(0,b),U=e.slice(o-L);if(y!==w||q!==U)break e;var v=t.slice(b,r-L),E=e.slice(b,o-L);return po(y,v,E,q)}return null}function lr(t,e,s,i){return Xi(t,e,s,i,!0)}lr.INSERT=Be;lr.DELETE=Ge;lr.EQUAL=Ee;var xS=lr,Kn={exports:{}};Kn.exports;(function(t,e){var s=200,i="__lodash_hash_undefined__",n=9007199254740991,r="[object Arguments]",o="[object Array]",l="[object Boolean]",a="[object Date]",u="[object Error]",d="[object Function]",g="[object GeneratorFunction]",h="[object Map]",f="[object Number]",b="[object Object]",y="[object Promise]",w="[object RegExp]",v="[object Set]",E="[object String]",N="[object Symbol]",L="[object WeakMap]",q="[object ArrayBuffer]",U="[object DataView]",K="[object Float32Array]",oe="[object Float64Array]",Ke="[object Int8Array]",nt="[object Int16Array]",At="[object Int32Array]",Et="[object Uint8Array]",St="[object Uint8ClampedArray]",qs="[object Uint16Array]",Zt="[object Uint32Array]",Ds=/[\\^$.*+?()[\]{}|]/g,Jt=/\w*$/,hs=/^\[object .+?Constructor\]$/,fi=/^(?:0|[1-9]\d*)$/,ee={};ee[r]=ee[o]=ee[q]=ee[U]=ee[l]=ee[a]=ee[K]=ee[oe]=ee[Ke]=ee[nt]=ee[At]=ee[h]=ee[f]=ee[b]=ee[w]=ee[v]=ee[E]=ee[N]=ee[Et]=ee[St]=ee[qs]=ee[Zt]=!0,ee[u]=ee[d]=ee[L]=!1;var Is=typeof rs=="object"&&rs&&rs.Object===Object&&rs,fs=typeof self=="object"&&self&&self.Object===Object&&self,Pe=Is||fs||Function("return this")(),$t=e&&!e.nodeType&&e,ie=$t&&!0&&t&&!t.nodeType&&t,rt=ie&&ie.exports===$t;function R(c,m){return c.set(m[0],m[1]),c}function D(c,m){return c.add(m),c}function I(c,m){for(var x=-1,T=c?c.length:0;++x<T&&m(c[x],x,c)!==!1;);return c}function H(c,m){for(var x=-1,T=m.length,W=c.length;++x<T;)c[W+x]=m[x];return c}function te(c,m,x,T){for(var W=-1,V=c?c.length:0;++W<V;)x=m(x,c[W],W,c);return x}function de(c,m){for(var x=-1,T=Array(c);++x<c;)T[x]=m(x);return T}function Y(c,m){return c==null?void 0:c[m]}function G(c){var m=!1;if(c!=null&&typeof c.toString!="function")try{m=!!(c+"")}catch{}return m}function ye(c){var m=-1,x=Array(c.size);return c.forEach(function(T,W){x[++m]=[W,T]}),x}function ot(c,m){return function(x){return c(m(x))}}function we(c){var m=-1,x=Array(c.size);return c.forEach(function(T){x[++m]=T}),x}var dr=Array.prototype,hr=Function.prototype,Ps=Object.prototype,gi=Pe["__core-js_shared__"],pn=function(){var c=/[^.]+$/.exec(gi&&gi.keys&&gi.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),dn=hr.toString,Tt=Ps.hasOwnProperty,$s=Ps.toString,fr=RegExp("^"+dn.call(Tt).replace(Ds,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gs=rt?Pe.Buffer:void 0,Us=Pe.Symbol,mi=Pe.Uint8Array,Xe=ot(Object.getPrototypeOf,Object),hn=Object.create,fn=Ps.propertyIsEnumerable,gr=dr.splice,bi=Object.getOwnPropertySymbols,Ms=gs?gs.isBuffer:void 0,gn=ot(Object.keys,Object),Bs=at(Pe,"DataView"),ms=at(Pe,"Map"),lt=at(Pe,"Promise"),js=at(Pe,"Set"),xi=at(Pe,"WeakMap"),bs=at(Object,"create"),yi=$e(Bs),xs=$e(ms),_i=$e(lt),vi=$e(js),wi=$e(xi),Xt=Us?Us.prototype:void 0,mn=Xt?Xt.valueOf:void 0;function Ut(c){var m=-1,x=c?c.length:0;for(this.clear();++m<x;){var T=c[m];this.set(T[0],T[1])}}function mr(){this.__data__=bs?bs(null):{}}function br(c){return this.has(c)&&delete this.__data__[c]}function xr(c){var m=this.__data__;if(bs){var x=m[c];return x===i?void 0:x}return Tt.call(m,c)?m[c]:void 0}function bn(c){var m=this.__data__;return bs?m[c]!==void 0:Tt.call(m,c)}function Ai(c,m){var x=this.__data__;return x[c]=bs&&m===void 0?i:m,this}Ut.prototype.clear=mr,Ut.prototype.delete=br,Ut.prototype.get=xr,Ut.prototype.has=bn,Ut.prototype.set=Ai;function Se(c){var m=-1,x=c?c.length:0;for(this.clear();++m<x;){var T=c[m];this.set(T[0],T[1])}}function yr(){this.__data__=[]}function _r(c){var m=this.__data__,x=Hs(m,c);if(x<0)return!1;var T=m.length-1;return x==T?m.pop():gr.call(m,x,1),!0}function vr(c){var m=this.__data__,x=Hs(m,c);return x<0?void 0:m[x][1]}function wr(c){return Hs(this.__data__,c)>-1}function Ar(c,m){var x=this.__data__,T=Hs(x,c);return T<0?x.push([c,m]):x[T][1]=m,this}Se.prototype.clear=yr,Se.prototype.delete=_r,Se.prototype.get=vr,Se.prototype.has=wr,Se.prototype.set=Ar;function Oe(c){var m=-1,x=c?c.length:0;for(this.clear();++m<x;){var T=c[m];this.set(T[0],T[1])}}function Er(){this.__data__={hash:new Ut,map:new(ms||Se),string:new Ut}}function Sr(c){return _s(this,c).delete(c)}function Tr(c){return _s(this,c).get(c)}function Nr(c){return _s(this,c).has(c)}function kr(c,m){return _s(this,c).set(c,m),this}Oe.prototype.clear=Er,Oe.prototype.delete=Sr,Oe.prototype.get=Tr,Oe.prototype.has=Nr,Oe.prototype.set=kr;function je(c){this.__data__=new Se(c)}function Cr(){this.__data__=new Se}function Or(c){return this.__data__.delete(c)}function Rr(c){return this.__data__.get(c)}function Lr(c){return this.__data__.has(c)}function qr(c,m){var x=this.__data__;if(x instanceof Se){var T=x.__data__;if(!ms||T.length<s-1)return T.push([c,m]),this;x=this.__data__=new Oe(T)}return x.set(c,m),this}je.prototype.clear=Cr,je.prototype.delete=Or,je.prototype.get=Rr,je.prototype.has=Lr,je.prototype.set=qr;function Fs(c,m){var x=Ni(c)||zs(c)?de(c.length,String):[],T=x.length,W=!!T;for(var V in c)Tt.call(c,V)&&!(W&&(V=="length"||Gr(V,T)))&&x.push(V);return x}function xn(c,m,x){var T=c[m];(!(Tt.call(c,m)&&An(T,x))||x===void 0&&!(m in c))&&(c[m]=x)}function Hs(c,m){for(var x=c.length;x--;)if(An(c[x][0],m))return x;return-1}function Nt(c,m){return c&&Ti(m,Ci(m),c)}function Ei(c,m,x,T,W,V,se){var Q;if(T&&(Q=V?T(c,W,V,se):T(c)),Q!==void 0)return Q;if(!Ct(c))return c;var ve=Ni(c);if(ve){if(Q=zr(c),!m)return Fr(c,Q)}else{var le=Bt(c),Re=le==d||le==g;if(En(c))return Vs(c,m);if(le==b||le==r||Re&&!V){if(G(c))return V?c:{};if(Q=kt(Re?{}:c),!m)return Hr(c,Nt(Q,c))}else{if(!ee[le])return V?c:{};Q=Kr(c,le,Ei,m)}}se||(se=new je);var Fe=se.get(c);if(Fe)return Fe;if(se.set(c,Q),!ve)var Ae=x?Vr(c):Ci(c);return I(Ae||c,function(Le,Te){Ae&&(Te=Le,Le=c[Te]),xn(Q,Te,Ei(Le,m,x,T,Te,c,se))}),Q}function Dr(c){return Ct(c)?hn(c):{}}function Ir(c,m,x){var T=m(c);return Ni(c)?T:H(T,x(c))}function Pr(c){return $s.call(c)}function $r(c){if(!Ct(c)||Zr(c))return!1;var m=ki(c)||G(c)?fr:hs;return m.test($e(c))}function Ur(c){if(!vn(c))return gn(c);var m=[];for(var x in Object(c))Tt.call(c,x)&&x!="constructor"&&m.push(x);return m}function Vs(c,m){if(m)return c.slice();var x=new c.constructor(c.length);return c.copy(x),x}function Si(c){var m=new c.constructor(c.byteLength);return new mi(m).set(new mi(c)),m}function ys(c,m){var x=m?Si(c.buffer):c.buffer;return new c.constructor(x,c.byteOffset,c.byteLength)}function yn(c,m,x){var T=m?x(ye(c),!0):ye(c);return te(T,R,new c.constructor)}function _n(c){var m=new c.constructor(c.source,Jt.exec(c));return m.lastIndex=c.lastIndex,m}function Mr(c,m,x){var T=m?x(we(c),!0):we(c);return te(T,D,new c.constructor)}function Br(c){return mn?Object(mn.call(c)):{}}function jr(c,m){var x=m?Si(c.buffer):c.buffer;return new c.constructor(x,c.byteOffset,c.length)}function Fr(c,m){var x=-1,T=c.length;for(m||(m=Array(T));++x<T;)m[x]=c[x];return m}function Ti(c,m,x,T){x||(x={});for(var W=-1,V=m.length;++W<V;){var se=m[W],Q=void 0;xn(x,se,Q===void 0?c[se]:Q)}return x}function Hr(c,m){return Ti(c,Mt(c),m)}function Vr(c){return Ir(c,Ci,Mt)}function _s(c,m){var x=c.__data__;return Wr(m)?x[typeof m=="string"?"string":"hash"]:x.map}function at(c,m){var x=Y(c,m);return $r(x)?x:void 0}var Mt=bi?ot(bi,Object):Xr,Bt=Pr;(Bs&&Bt(new Bs(new ArrayBuffer(1)))!=U||ms&&Bt(new ms)!=h||lt&&Bt(lt.resolve())!=y||js&&Bt(new js)!=v||xi&&Bt(new xi)!=L)&&(Bt=function(c){var m=$s.call(c),x=m==b?c.constructor:void 0,T=x?$e(x):void 0;if(T)switch(T){case yi:return U;case xs:return h;case _i:return y;case vi:return v;case wi:return L}return m});function zr(c){var m=c.length,x=c.constructor(m);return m&&typeof c[0]=="string"&&Tt.call(c,"index")&&(x.index=c.index,x.input=c.input),x}function kt(c){return typeof c.constructor=="function"&&!vn(c)?Dr(Xe(c)):{}}function Kr(c,m,x,T){var W=c.constructor;switch(m){case q:return Si(c);case l:case a:return new W(+c);case U:return ys(c,T);case K:case oe:case Ke:case nt:case At:case Et:case St:case qs:case Zt:return jr(c,T);case h:return yn(c,T,x);case f:case E:return new W(c);case w:return _n(c);case v:return Mr(c,T,x);case N:return Br(c)}}function Gr(c,m){return m=m??n,!!m&&(typeof c=="number"||fi.test(c))&&c>-1&&c%1==0&&c<m}function Wr(c){var m=typeof c;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?c!=="__proto__":c===null}function Zr(c){return!!pn&&pn in c}function vn(c){var m=c&&c.constructor,x=typeof m=="function"&&m.prototype||Ps;return c===x}function $e(c){if(c!=null){try{return dn.call(c)}catch{}try{return c+""}catch{}}return""}function wn(c){return Ei(c,!0,!0)}function An(c,m){return c===m||c!==c&&m!==m}function zs(c){return Jr(c)&&Tt.call(c,"callee")&&(!fn.call(c,"callee")||$s.call(c)==r)}var Ni=Array.isArray;function Ks(c){return c!=null&&Sn(c.length)&&!ki(c)}function Jr(c){return Tn(c)&&Ks(c)}var En=Ms||Yr;function ki(c){var m=Ct(c)?$s.call(c):"";return m==d||m==g}function Sn(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=n}function Ct(c){var m=typeof c;return!!c&&(m=="object"||m=="function")}function Tn(c){return!!c&&typeof c=="object"}function Ci(c){return Ks(c)?Fs(c):Ur(c)}function Xr(){return[]}function Yr(){return!1}t.exports=wn})(Kn,Kn.exports);var jc=Kn.exports,Gn={exports:{}};Gn.exports;(function(t,e){var s=200,i="__lodash_hash_undefined__",n=1,r=2,o=9007199254740991,l="[object Arguments]",a="[object Array]",u="[object AsyncFunction]",d="[object Boolean]",g="[object Date]",h="[object Error]",f="[object Function]",b="[object GeneratorFunction]",y="[object Map]",w="[object Number]",v="[object Null]",E="[object Object]",N="[object Promise]",L="[object Proxy]",q="[object RegExp]",U="[object Set]",K="[object String]",oe="[object Symbol]",Ke="[object Undefined]",nt="[object WeakMap]",At="[object ArrayBuffer]",Et="[object DataView]",St="[object Float32Array]",qs="[object Float64Array]",Zt="[object Int8Array]",Ds="[object Int16Array]",Jt="[object Int32Array]",hs="[object Uint8Array]",fi="[object Uint8ClampedArray]",ee="[object Uint16Array]",Is="[object Uint32Array]",fs=/[\\^$.*+?()[\]{}|]/g,Pe=/^\[object .+?Constructor\]$/,$t=/^(?:0|[1-9]\d*)$/,ie={};ie[St]=ie[qs]=ie[Zt]=ie[Ds]=ie[Jt]=ie[hs]=ie[fi]=ie[ee]=ie[Is]=!0,ie[l]=ie[a]=ie[At]=ie[d]=ie[Et]=ie[g]=ie[h]=ie[f]=ie[y]=ie[w]=ie[E]=ie[q]=ie[U]=ie[K]=ie[nt]=!1;var rt=typeof rs=="object"&&rs&&rs.Object===Object&&rs,R=typeof self=="object"&&self&&self.Object===Object&&self,D=rt||R||Function("return this")(),I=e&&!e.nodeType&&e,H=I&&!0&&t&&!t.nodeType&&t,te=H&&H.exports===I,de=te&&rt.process,Y=function(){try{return de&&de.binding&&de.binding("util")}catch{}}(),G=Y&&Y.isTypedArray;function ye(c,m){for(var x=-1,T=c==null?0:c.length,W=0,V=[];++x<T;){var se=c[x];m(se,x,c)&&(V[W++]=se)}return V}function ot(c,m){for(var x=-1,T=m.length,W=c.length;++x<T;)c[W+x]=m[x];return c}function we(c,m){for(var x=-1,T=c==null?0:c.length;++x<T;)if(m(c[x],x,c))return!0;return!1}function dr(c,m){for(var x=-1,T=Array(c);++x<c;)T[x]=m(x);return T}function hr(c){return function(m){return c(m)}}function Ps(c,m){return c.has(m)}function gi(c,m){return c==null?void 0:c[m]}function pn(c){var m=-1,x=Array(c.size);return c.forEach(function(T,W){x[++m]=[W,T]}),x}function dn(c,m){return function(x){return c(m(x))}}function Tt(c){var m=-1,x=Array(c.size);return c.forEach(function(T){x[++m]=T}),x}var $s=Array.prototype,fr=Function.prototype,gs=Object.prototype,Us=D["__core-js_shared__"],mi=fr.toString,Xe=gs.hasOwnProperty,hn=function(){var c=/[^.]+$/.exec(Us&&Us.keys&&Us.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),fn=gs.toString,gr=RegExp("^"+mi.call(Xe).replace(fs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bi=te?D.Buffer:void 0,Ms=D.Symbol,gn=D.Uint8Array,Bs=gs.propertyIsEnumerable,ms=$s.splice,lt=Ms?Ms.toStringTag:void 0,js=Object.getOwnPropertySymbols,xi=bi?bi.isBuffer:void 0,bs=dn(Object.keys,Object),yi=Mt(D,"DataView"),xs=Mt(D,"Map"),_i=Mt(D,"Promise"),vi=Mt(D,"Set"),wi=Mt(D,"WeakMap"),Xt=Mt(Object,"create"),mn=$e(yi),Ut=$e(xs),mr=$e(_i),br=$e(vi),xr=$e(wi),bn=Ms?Ms.prototype:void 0,Ai=bn?bn.valueOf:void 0;function Se(c){var m=-1,x=c==null?0:c.length;for(this.clear();++m<x;){var T=c[m];this.set(T[0],T[1])}}function yr(){this.__data__=Xt?Xt(null):{},this.size=0}function _r(c){var m=this.has(c)&&delete this.__data__[c];return this.size-=m?1:0,m}function vr(c){var m=this.__data__;if(Xt){var x=m[c];return x===i?void 0:x}return Xe.call(m,c)?m[c]:void 0}function wr(c){var m=this.__data__;return Xt?m[c]!==void 0:Xe.call(m,c)}function Ar(c,m){var x=this.__data__;return this.size+=this.has(c)?0:1,x[c]=Xt&&m===void 0?i:m,this}Se.prototype.clear=yr,Se.prototype.delete=_r,Se.prototype.get=vr,Se.prototype.has=wr,Se.prototype.set=Ar;function Oe(c){var m=-1,x=c==null?0:c.length;for(this.clear();++m<x;){var T=c[m];this.set(T[0],T[1])}}function Er(){this.__data__=[],this.size=0}function Sr(c){var m=this.__data__,x=Vs(m,c);if(x<0)return!1;var T=m.length-1;return x==T?m.pop():ms.call(m,x,1),--this.size,!0}function Tr(c){var m=this.__data__,x=Vs(m,c);return x<0?void 0:m[x][1]}function Nr(c){return Vs(this.__data__,c)>-1}function kr(c,m){var x=this.__data__,T=Vs(x,c);return T<0?(++this.size,x.push([c,m])):x[T][1]=m,this}Oe.prototype.clear=Er,Oe.prototype.delete=Sr,Oe.prototype.get=Tr,Oe.prototype.has=Nr,Oe.prototype.set=kr;function je(c){var m=-1,x=c==null?0:c.length;for(this.clear();++m<x;){var T=c[m];this.set(T[0],T[1])}}function Cr(){this.size=0,this.__data__={hash:new Se,map:new(xs||Oe),string:new Se}}function Or(c){var m=at(this,c).delete(c);return this.size-=m?1:0,m}function Rr(c){return at(this,c).get(c)}function Lr(c){return at(this,c).has(c)}function qr(c,m){var x=at(this,c),T=x.size;return x.set(c,m),this.size+=x.size==T?0:1,this}je.prototype.clear=Cr,je.prototype.delete=Or,je.prototype.get=Rr,je.prototype.has=Lr,je.prototype.set=qr;function Fs(c){var m=-1,x=c==null?0:c.length;for(this.__data__=new je;++m<x;)this.add(c[m])}function xn(c){return this.__data__.set(c,i),this}function Hs(c){return this.__data__.has(c)}Fs.prototype.add=Fs.prototype.push=xn,Fs.prototype.has=Hs;function Nt(c){var m=this.__data__=new Oe(c);this.size=m.size}function Ei(){this.__data__=new Oe,this.size=0}function Dr(c){var m=this.__data__,x=m.delete(c);return this.size=m.size,x}function Ir(c){return this.__data__.get(c)}function Pr(c){return this.__data__.has(c)}function $r(c,m){var x=this.__data__;if(x instanceof Oe){var T=x.__data__;if(!xs||T.length<s-1)return T.push([c,m]),this.size=++x.size,this;x=this.__data__=new je(T)}return x.set(c,m),this.size=x.size,this}Nt.prototype.clear=Ei,Nt.prototype.delete=Dr,Nt.prototype.get=Ir,Nt.prototype.has=Pr,Nt.prototype.set=$r;function Ur(c,m){var x=zs(c),T=!x&&An(c),W=!x&&!T&&Ks(c),V=!x&&!T&&!W&&Tn(c),se=x||T||W||V,Q=se?dr(c.length,String):[],ve=Q.length;for(var le in c)Xe.call(c,le)&&!(se&&(le=="length"||W&&(le=="offset"||le=="parent")||V&&(le=="buffer"||le=="byteLength"||le=="byteOffset")||Kr(le,ve)))&&Q.push(le);return Q}function Vs(c,m){for(var x=c.length;x--;)if(wn(c[x][0],m))return x;return-1}function Si(c,m,x){var T=m(c);return zs(c)?T:ot(T,x(c))}function ys(c){return c==null?c===void 0?Ke:v:lt&&lt in Object(c)?Bt(c):vn(c)}function yn(c){return Ct(c)&&ys(c)==l}function _n(c,m,x,T,W){return c===m?!0:c==null||m==null||!Ct(c)&&!Ct(m)?c!==c&&m!==m:Mr(c,m,x,T,_n,W)}function Mr(c,m,x,T,W,V){var se=zs(c),Q=zs(m),ve=se?a:kt(c),le=Q?a:kt(m);ve=ve==l?E:ve,le=le==l?E:le;var Re=ve==E,Fe=le==E,Ae=ve==le;if(Ae&&Ks(c)){if(!Ks(m))return!1;se=!0,Re=!1}if(Ae&&!Re)return V||(V=new Nt),se||Tn(c)?Ti(c,m,x,T,W,V):Hr(c,m,ve,x,T,W,V);if(!(x&n)){var Le=Re&&Xe.call(c,"__wrapped__"),Te=Fe&&Xe.call(m,"__wrapped__");if(Le||Te){var Yt=Le?c.value():c,jt=Te?m.value():m;return V||(V=new Nt),W(Yt,jt,x,T,V)}}return Ae?(V||(V=new Nt),Vr(c,m,x,T,W,V)):!1}function Br(c){if(!Sn(c)||Wr(c))return!1;var m=En(c)?gr:Pe;return m.test($e(c))}function jr(c){return Ct(c)&&ki(c.length)&&!!ie[ys(c)]}function Fr(c){if(!Zr(c))return bs(c);var m=[];for(var x in Object(c))Xe.call(c,x)&&x!="constructor"&&m.push(x);return m}function Ti(c,m,x,T,W,V){var se=x&n,Q=c.length,ve=m.length;if(Q!=ve&&!(se&&ve>Q))return!1;var le=V.get(c);if(le&&V.get(m))return le==m;var Re=-1,Fe=!0,Ae=x&r?new Fs:void 0;for(V.set(c,m),V.set(m,c);++Re<Q;){var Le=c[Re],Te=m[Re];if(T)var Yt=se?T(Te,Le,Re,m,c,V):T(Le,Te,Re,c,m,V);if(Yt!==void 0){if(Yt)continue;Fe=!1;break}if(Ae){if(!we(m,function(jt,vs){if(!Ps(Ae,vs)&&(Le===jt||W(Le,jt,x,T,V)))return Ae.push(vs)})){Fe=!1;break}}else if(!(Le===Te||W(Le,Te,x,T,V))){Fe=!1;break}}return V.delete(c),V.delete(m),Fe}function Hr(c,m,x,T,W,V,se){switch(x){case Et:if(c.byteLength!=m.byteLength||c.byteOffset!=m.byteOffset)return!1;c=c.buffer,m=m.buffer;case At:return!(c.byteLength!=m.byteLength||!V(new gn(c),new gn(m)));case d:case g:case w:return wn(+c,+m);case h:return c.name==m.name&&c.message==m.message;case q:case K:return c==m+"";case y:var Q=pn;case U:var ve=T&n;if(Q||(Q=Tt),c.size!=m.size&&!ve)return!1;var le=se.get(c);if(le)return le==m;T|=r,se.set(c,m);var Re=Ti(Q(c),Q(m),T,W,V,se);return se.delete(c),Re;case oe:if(Ai)return Ai.call(c)==Ai.call(m)}return!1}function Vr(c,m,x,T,W,V){var se=x&n,Q=_s(c),ve=Q.length,le=_s(m),Re=le.length;if(ve!=Re&&!se)return!1;for(var Fe=ve;Fe--;){var Ae=Q[Fe];if(!(se?Ae in m:Xe.call(m,Ae)))return!1}var Le=V.get(c);if(Le&&V.get(m))return Le==m;var Te=!0;V.set(c,m),V.set(m,c);for(var Yt=se;++Fe<ve;){Ae=Q[Fe];var jt=c[Ae],vs=m[Ae];if(T)var Ul=se?T(vs,jt,Ae,m,c,V):T(jt,vs,Ae,c,m,V);if(!(Ul===void 0?jt===vs||W(jt,vs,x,T,V):Ul)){Te=!1;break}Yt||(Yt=Ae=="constructor")}if(Te&&!Yt){var Nn=c.constructor,kn=m.constructor;Nn!=kn&&"constructor"in c&&"constructor"in m&&!(typeof Nn=="function"&&Nn instanceof Nn&&typeof kn=="function"&&kn instanceof kn)&&(Te=!1)}return V.delete(c),V.delete(m),Te}function _s(c){return Si(c,Ci,zr)}function at(c,m){var x=c.__data__;return Gr(m)?x[typeof m=="string"?"string":"hash"]:x.map}function Mt(c,m){var x=gi(c,m);return Br(x)?x:void 0}function Bt(c){var m=Xe.call(c,lt),x=c[lt];try{c[lt]=void 0;var T=!0}catch{}var W=fn.call(c);return T&&(m?c[lt]=x:delete c[lt]),W}var zr=js?function(c){return c==null?[]:(c=Object(c),ye(js(c),function(m){return Bs.call(c,m)}))}:Xr,kt=ys;(yi&&kt(new yi(new ArrayBuffer(1)))!=Et||xs&&kt(new xs)!=y||_i&&kt(_i.resolve())!=N||vi&&kt(new vi)!=U||wi&&kt(new wi)!=nt)&&(kt=function(c){var m=ys(c),x=m==E?c.constructor:void 0,T=x?$e(x):"";if(T)switch(T){case mn:return Et;case Ut:return y;case mr:return N;case br:return U;case xr:return nt}return m});function Kr(c,m){return m=m??o,!!m&&(typeof c=="number"||$t.test(c))&&c>-1&&c%1==0&&c<m}function Gr(c){var m=typeof c;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?c!=="__proto__":c===null}function Wr(c){return!!hn&&hn in c}function Zr(c){var m=c&&c.constructor,x=typeof m=="function"&&m.prototype||gs;return c===x}function vn(c){return fn.call(c)}function $e(c){if(c!=null){try{return mi.call(c)}catch{}try{return c+""}catch{}}return""}function wn(c,m){return c===m||c!==c&&m!==m}var An=yn(function(){return arguments}())?yn:function(c){return Ct(c)&&Xe.call(c,"callee")&&!Bs.call(c,"callee")},zs=Array.isArray;function Ni(c){return c!=null&&ki(c.length)&&!En(c)}var Ks=xi||Yr;function Jr(c,m){return _n(c,m)}function En(c){if(!Sn(c))return!1;var m=ys(c);return m==f||m==b||m==u||m==L}function ki(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=o}function Sn(c){var m=typeof c;return c!=null&&(m=="object"||m=="function")}function Ct(c){return c!=null&&typeof c=="object"}var Tn=G?hr(G):jr;function Ci(c){return Ni(c)?Ur(c):Fr(c)}function Xr(){return[]}function Yr(){return!1}t.exports=Jr})(Gn,Gn.exports);var Fc=Gn.exports,Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});const yS=jc,_S=Fc;var Vo;(function(t){function e(r={},o={},l=!1){typeof r!="object"&&(r={}),typeof o!="object"&&(o={});let a=yS(o);l||(a=Object.keys(a).reduce((u,d)=>(a[d]!=null&&(u[d]=a[d]),u),{}));for(const u in r)r[u]!==void 0&&o[u]===void 0&&(a[u]=r[u]);return Object.keys(a).length>0?a:void 0}t.compose=e;function s(r={},o={}){typeof r!="object"&&(r={}),typeof o!="object"&&(o={});const l=Object.keys(r).concat(Object.keys(o)).reduce((a,u)=>(_S(r[u],o[u])||(a[u]=o[u]===void 0?null:o[u]),a),{});return Object.keys(l).length>0?l:void 0}t.diff=s;function i(r={},o={}){r=r||{};const l=Object.keys(o).reduce((a,u)=>(o[u]!==r[u]&&r[u]!==void 0&&(a[u]=o[u]),a),{});return Object.keys(r).reduce((a,u)=>(r[u]!==o[u]&&o[u]===void 0&&(a[u]=null),a),l)}t.invert=i;function n(r,o,l=!1){if(typeof r!="object")return o;if(typeof o!="object")return;if(!l)return o;const a=Object.keys(o).reduce((u,d)=>(r[d]===void 0&&(u[d]=o[d]),u),{});return Object.keys(a).length>0?a:void 0}t.transform=n})(Vo||(Vo={}));Tl.default=Vo;var ar={};Object.defineProperty(ar,"__esModule",{value:!0});var zo;(function(t){function e(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.retain=="object"&&s.retain!==null?1:typeof s.insert=="string"?s.insert.length:1}t.length=e})(zo||(zo={}));ar.default=zo;var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});const Ka=ar;class vS{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);const s=this.ops[this.index];if(s){const i=this.offset,n=Ka.default.length(s);if(e>=n-i?(e=n-i,this.index+=1,this.offset=0):this.offset+=e,typeof s.delete=="number")return{delete:e};{const r={};return s.attributes&&(r.attributes=s.attributes),typeof s.retain=="number"?r.retain=e:typeof s.retain=="object"&&s.retain!==null?r.retain=s.retain:typeof s.insert=="string"?r.insert=s.insert.substr(i,e):r.insert=s.insert,r}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?Ka.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const e=this.ops[this.index];return e?typeof e.delete=="number"?"delete":typeof e.retain=="number"||typeof e.retain=="object"&&e.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const e=this.offset,s=this.index,i=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=s,[i].concat(n)}}else return[]}}Nl.default=vS;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const s=xS,i=jc,n=Fc,r=Tl;e.AttributeMap=r.default;const o=ar;e.Op=o.default;const l=Nl;e.OpIterator=l.default;const a="\0",u=(g,h)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof h!="object"||h===null)throw new Error(`cannot retain a ${typeof h}`);const f=Object.keys(g)[0];if(!f||f!==Object.keys(h)[0])throw new Error(`embed types not matched: ${f} != ${Object.keys(h)[0]}`);return[f,g[f],h[f]]};class d{constructor(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]}static registerEmbed(h,f){this.handlers[h]=f}static unregisterEmbed(h){delete this.handlers[h]}static getHandler(h){const f=this.handlers[h];if(!f)throw new Error(`no handlers for embed type "${h}"`);return f}insert(h,f){const b={};return typeof h=="string"&&h.length===0?this:(b.insert=h,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(b.attributes=f),this.push(b))}delete(h){return h<=0?this:this.push({delete:h})}retain(h,f){if(typeof h=="number"&&h<=0)return this;const b={retain:h};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(b.attributes=f),this.push(b)}push(h){let f=this.ops.length,b=this.ops[f-1];if(h=i(h),typeof b=="object"){if(typeof h.delete=="number"&&typeof b.delete=="number")return this.ops[f-1]={delete:b.delete+h.delete},this;if(typeof b.delete=="number"&&h.insert!=null&&(f-=1,b=this.ops[f-1],typeof b!="object"))return this.ops.unshift(h),this;if(n(h.attributes,b.attributes)){if(typeof h.insert=="string"&&typeof b.insert=="string")return this.ops[f-1]={insert:b.insert+h.insert},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof b.retain=="number")return this.ops[f-1]={retain:b.retain+h.retain},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this}}return f===this.ops.length?this.ops.push(h):this.ops.splice(f,0,h),this}chop(){const h=this.ops[this.ops.length-1];return h&&typeof h.retain=="number"&&!h.attributes&&this.ops.pop(),this}filter(h){return this.ops.filter(h)}forEach(h){this.ops.forEach(h)}map(h){return this.ops.map(h)}partition(h){const f=[],b=[];return this.forEach(y=>{(h(y)?f:b).push(y)}),[f,b]}reduce(h,f){return this.ops.reduce(h,f)}changeLength(){return this.reduce((h,f)=>f.insert?h+o.default.length(f):f.delete?h-f.delete:h,0)}length(){return this.reduce((h,f)=>h+o.default.length(f),0)}slice(h=0,f=1/0){const b=[],y=new l.default(this.ops);let w=0;for(;w<f&&y.hasNext();){let v;w<h?v=y.next(h-w):(v=y.next(f-w),b.push(v)),w+=o.default.length(v)}return new d(b)}compose(h){const f=new l.default(this.ops),b=new l.default(h.ops),y=[],w=b.peek();if(w!=null&&typeof w.retain=="number"&&w.attributes==null){let E=w.retain;for(;f.peekType()==="insert"&&f.peekLength()<=E;)E-=f.peekLength(),y.push(f.next());w.retain-E>0&&b.next(w.retain-E)}const v=new d(y);for(;f.hasNext()||b.hasNext();)if(b.peekType()==="insert")v.push(b.next());else if(f.peekType()==="delete")v.push(f.next());else{const E=Math.min(f.peekLength(),b.peekLength()),N=f.next(E),L=b.next(E);if(L.retain){const q={};if(typeof N.retain=="number")q.retain=typeof L.retain=="number"?E:L.retain;else if(typeof L.retain=="number")N.retain==null?q.insert=N.insert:q.retain=N.retain;else{const K=N.retain==null?"insert":"retain",[oe,Ke,nt]=u(N[K],L.retain),At=d.getHandler(oe);q[K]={[oe]:At.compose(Ke,nt,K==="retain")}}const U=r.default.compose(N.attributes,L.attributes,typeof N.retain=="number");if(U&&(q.attributes=U),v.push(q),!b.hasNext()&&n(v.ops[v.ops.length-1],q)){const K=new d(f.rest());return v.concat(K).chop()}}else typeof L.delete=="number"&&(typeof N.retain=="number"||typeof N.retain=="object"&&N.retain!==null)&&v.push(L)}return v.chop()}concat(h){const f=new d(this.ops.slice());return h.ops.length>0&&(f.push(h.ops[0]),f.ops=f.ops.concat(h.ops.slice(1))),f}diff(h,f){if(this.ops===h.ops)return new d;const b=[this,h].map(N=>N.map(L=>{if(L.insert!=null)return typeof L.insert=="string"?L.insert:a;const q=N===h?"on":"with";throw new Error("diff() called "+q+" non-document")}).join("")),y=new d,w=s(b[0],b[1],f,!0),v=new l.default(this.ops),E=new l.default(h.ops);return w.forEach(N=>{let L=N[1].length;for(;L>0;){let q=0;switch(N[0]){case s.INSERT:q=Math.min(E.peekLength(),L),y.push(E.next(q));break;case s.DELETE:q=Math.min(L,v.peekLength()),v.next(q),y.delete(q);break;case s.EQUAL:q=Math.min(v.peekLength(),E.peekLength(),L);const U=v.next(q),K=E.next(q);n(U.insert,K.insert)?y.retain(q,r.default.diff(U.attributes,K.attributes)):y.push(K).delete(q);break}L-=q}}),y.chop()}eachLine(h,f=`
`){const b=new l.default(this.ops);let y=new d,w=0;for(;b.hasNext();){if(b.peekType()!=="insert")return;const v=b.peek(),E=o.default.length(v)-b.peekLength(),N=typeof v.insert=="string"?v.insert.indexOf(f,E)-E:-1;if(N<0)y.push(b.next());else if(N>0)y.push(b.next(N));else{if(h(y,b.next(1).attributes||{},w)===!1)return;w+=1,y=new d}}y.length()>0&&h(y,{},w)}invert(h){const f=new d;return this.reduce((b,y)=>{if(y.insert)f.delete(o.default.length(y));else{if(typeof y.retain=="number"&&y.attributes==null)return f.retain(y.retain),b+y.retain;if(y.delete||typeof y.retain=="number"){const w=y.delete||y.retain;return h.slice(b,b+w).forEach(E=>{y.delete?f.push(E):y.retain&&y.attributes&&f.retain(o.default.length(E),r.default.invert(y.attributes,E.attributes))}),b+w}else if(typeof y.retain=="object"&&y.retain!==null){const w=h.slice(b,b+1),v=new l.default(w.ops).next(),[E,N,L]=u(y.retain,v.insert),q=d.getHandler(E);return f.retain({[E]:q.invert(N,L)},r.default.invert(y.attributes,v.attributes)),b+1}}return b},0),f.chop()}transform(h,f=!1){if(f=!!f,typeof h=="number")return this.transformPosition(h,f);const b=h,y=new l.default(this.ops),w=new l.default(b.ops),v=new d;for(;y.hasNext()||w.hasNext();)if(y.peekType()==="insert"&&(f||w.peekType()!=="insert"))v.retain(o.default.length(y.next()));else if(w.peekType()==="insert")v.push(w.next());else{const E=Math.min(y.peekLength(),w.peekLength()),N=y.next(E),L=w.next(E);if(N.delete)continue;if(L.delete)v.push(L);else{const q=N.retain,U=L.retain;let K=typeof U=="object"&&U!==null?U:E;if(typeof q=="object"&&q!==null&&typeof U=="object"&&U!==null){const oe=Object.keys(q)[0];if(oe===Object.keys(U)[0]){const Ke=d.getHandler(oe);Ke&&(K={[oe]:Ke.transform(q[oe],U[oe],f)})}}v.retain(K,r.default.transform(N.attributes,L.attributes,f))}}return v.chop()}transformPosition(h,f=!1){f=!!f;const b=new l.default(this.ops);let y=0;for(;b.hasNext()&&y<=h;){const w=b.peekLength(),v=b.peekType();if(b.next(),v==="delete"){h-=Math.min(w,h-y);continue}else v==="insert"&&(y<h||!f)&&(h+=w);y+=w}return h}}d.Op=o.default,d.OpIterator=l.default,d.AttributeMap=r.default,d.handlers={},e.default=d,t.exports=d,t.exports.default=d})(Ho,Ho.exports);var st=Ho.exports;const B=_u(st);class vt extends Je{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}vt.blotName="break";vt.tagName="BR";let xt=class extends zn{};function ur(t){return t.replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e])}const Ot=class Ot extends wl{static compare(e,s){const i=Ot.order.indexOf(e),n=Ot.order.indexOf(s);return i>=0||n>=0?i-n:e===s?0:e<s?-1:1}formatAt(e,s,i,n){if(Ot.compare(this.statics.blotName,i)<0&&this.scroll.query(i,j.BLOT)){const r=this.isolate(e,s);n&&r.wrap(i,n)}else super.formatAt(e,s,i,n)}optimize(e){if(super.optimize(e),this.parent instanceof Ot&&Ot.compare(this.statics.blotName,this.parent.statics.blotName)>0){const s=this.parent.isolate(this.offset(),this.length());this.moveChildren(s),s.wrap(this)}}};$(Ot,"allowedChildren",[Ot,vt,Je,xt]),$(Ot,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let It=Ot;const Ga=1;class ke extends Ji{constructor(){super(...arguments);$(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=Hc(this)),this.cache.delta}deleteAt(s,i){super.deleteAt(s,i),this.cache={}}formatAt(s,i,n,r){i<=0||(this.scroll.query(n,j.BLOCK)?s+i===this.length()&&this.format(n,r):super.formatAt(s,Math.min(i,this.length()-s-1),n,r),this.cache={})}insertAt(s,i,n){if(n!=null){super.insertAt(s,i,n),this.cache={};return}if(i.length===0)return;const r=i.split(`
`),o=r.shift();o.length>0&&(s<this.length()-1||this.children.tail==null?super.insertAt(Math.min(s,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;r.reduce((a,u)=>(l=l.split(a,!0),l.insertAt(0,u),u.length),s+o.length)}insertBefore(s,i){const{head:n}=this.children;super.insertBefore(s,i),n instanceof vt&&n.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Ga),this.cache.length}moveChildren(s,i){super.moveChildren(s,i),this.cache={}}optimize(s){super.optimize(s),this.cache={}}path(s){return super.path(s,!0)}removeChild(s){super.removeChild(s),this.cache={}}split(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i&&(s===0||s>=this.length()-Ga)){const r=this.clone();return s===0?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}const n=super.split(s,i);return this.cache={},n}}ke.blotName="block";ke.tagName="P";ke.defaultChild=vt;ke.allowedChildren=[vt,It,Je,xt];class tt extends Je{attach(){super.attach(),this.attributes=new nr(this.domNode)}delta(){return new B().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,s){const i=this.scroll.query(e,j.BLOCK_ATTRIBUTE);i!=null&&this.attributes.attribute(i,s)}formatAt(e,s,i,n){this.format(i,n)}insertAt(e,s,i){if(i!=null){super.insertAt(e,s,i);return}const n=s.split(`
`),r=n.pop(),o=n.map(a=>{const u=this.scroll.create(ke.blotName);return u.insertAt(0,a),u}),l=this.split(e);o.forEach(a=>{this.parent.insertBefore(a,l)}),r&&this.parent.insertBefore(this.scroll.create("text",r),l)}}tt.scope=j.BLOCK_BLOT;function Hc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(De).reduce((s,i)=>i.length()===0?s:s.insert(i.value(),Qe(i,{},e)),new B).insert(`
`,Qe(t))}function Qe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},s&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:Qe(t.parent,e,s)}const Ye=class Ye extends Je{static value(){}constructor(e,s,i){super(e,s),this.selection=i,this.textNode=document.createTextNode(Ye.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,s){if(this.savedLength!==0){super.format(e,s);return}let i=this,n=0;for(;i!=null&&i.statics.scope!==j.BLOCK_BLOT;)n+=i.offset(i.parent),i=i.parent;i!=null&&(this.savedLength=Ye.CONTENTS.length,i.optimize(),i.formatAt(n,Ye.CONTENTS.length,e,s),this.savedLength=0)}index(e,s){return e===this.textNode?0:super.index(e,s)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const s=this.prev instanceof xt?this.prev:null,i=s?s.length():0,n=this.next instanceof xt?this.next:null,r=n?n.text:"",{textNode:o}=this,l=o.data.split(Ye.CONTENTS).join("");o.data=Ye.CONTENTS;let a;if(s)a=s,(l||n)&&(s.insertAt(s.length(),l+r),n&&n.remove());else if(n)a=n,n.insertAt(0,l);else{const u=document.createTextNode(l);a=this.scroll.create(u),this.parent.insertBefore(a,this)}if(this.remove(),e){const u=(h,f)=>s&&h===s.domNode?f:h===o?i+f-1:n&&h===n.domNode?i+l.length+f:null,d=u(e.start.node,e.start.offset),g=u(e.end.node,e.end.offset);if(d!==null&&g!==null)return{startNode:a.domNode,startOffset:d,endNode:a.domNode,endOffset:g}}return null}update(e,s){if(e.some(i=>i.type==="characterData"&&i.target===this.textNode)){const i=this.restore();i&&(s.range=i)}}optimize(e){super.optimize(e);let{parent:s}=this;for(;s;){if(s.domNode.tagName==="A"){this.savedLength=Ye.CONTENTS.length,s.isolate(this.offset(s),this.length()).unwrap(),this.savedLength=0;break}s=s.parent}}value(){return""}};$(Ye,"blotName","cursor"),$(Ye,"className","ql-cursor"),$(Ye,"tagName","span"),$(Ye,"CONTENTS","\uFEFF");let ai=Ye;var Vc={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,s="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(s=!1));function n(a,u,d){this.fn=a,this.context=u,this.once=d||!1}function r(a,u,d,g,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new n(d,g||a,h),b=s?s+u:u;return a._events[b]?a._events[b].fn?a._events[b]=[a._events[b],f]:a._events[b].push(f):(a._events[b]=f,a._eventsCount++),a}function o(a,u){--a._eventsCount===0?a._events=new i:delete a._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,g;if(this._eventsCount===0)return u;for(g in d=this._events)e.call(d,g)&&u.push(s?g.slice(1):g);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=s?s+u:u,g=this._events[d];if(!g)return[];if(g.fn)return[g.fn];for(var h=0,f=g.length,b=new Array(f);h<f;h++)b[h]=g[h].fn;return b},l.prototype.listenerCount=function(u){var d=s?s+u:u,g=this._events[d];return g?g.fn?1:g.length:0},l.prototype.emit=function(u,d,g,h,f,b){var y=s?s+u:u;if(!this._events[y])return!1;var w=this._events[y],v=arguments.length,E,N;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,g),!0;case 4:return w.fn.call(w.context,d,g,h),!0;case 5:return w.fn.call(w.context,d,g,h,f),!0;case 6:return w.fn.call(w.context,d,g,h,f,b),!0}for(N=1,E=new Array(v-1);N<v;N++)E[N-1]=arguments[N];w.fn.apply(w.context,E)}else{var L=w.length,q;for(N=0;N<L;N++)switch(w[N].once&&this.removeListener(u,w[N].fn,void 0,!0),v){case 1:w[N].fn.call(w[N].context);break;case 2:w[N].fn.call(w[N].context,d);break;case 3:w[N].fn.call(w[N].context,d,g);break;case 4:w[N].fn.call(w[N].context,d,g,h);break;default:if(!E)for(q=1,E=new Array(v-1);q<v;q++)E[q-1]=arguments[q];w[N].fn.apply(w[N].context,E)}}return!0},l.prototype.on=function(u,d,g){return r(this,u,d,g,!1)},l.prototype.once=function(u,d,g){return r(this,u,d,g,!0)},l.prototype.removeListener=function(u,d,g,h){var f=s?s+u:u;if(!this._events[f])return this;if(!d)return o(this,f),this;var b=this._events[f];if(b.fn)b.fn===d&&(!h||b.once)&&(!g||b.context===g)&&o(this,f);else{for(var y=0,w=[],v=b.length;y<v;y++)(b[y].fn!==d||h&&!b[y].once||g&&b[y].context!==g)&&w.push(b[y]);w.length?this._events[f]=w.length===1?w[0]:w:o(this,f)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=s?s+u:u,this._events[d]&&o(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,t.exports=l})(Vc);var wS=Vc.exports;const AS=_u(wS),Ko=new WeakMap,Go=["error","warn","log","info"];let Wo="warn";function zc(t){if(Wo&&Go.indexOf(t)<=Go.indexOf(Wo)){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console[t](...s)}}function Wt(t){return Go.reduce((e,s)=>(e[s]=zc.bind(console,s,t),e),{})}Wt.level=t=>{Wo=t};zc.level=Wt.level;const ho=Wt("quill:events"),ES=["selectionchange","mousedown","mouseup","click"];ES.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];Array.from(document.querySelectorAll(".ql-container")).forEach(n=>{const r=Ko.get(n);r&&r.emitter&&r.emitter.handleDOM(...s)})})});class M extends AS{constructor(){super(),this.domListeners={},this.on("error",ho.error)}emit(){for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return ho.log.call(ho,...s),super.emit(...s)}handleDOM(e){for(var s=arguments.length,i=new Array(s>1?s-1:0),n=1;n<s;n++)i[n-1]=arguments[n];(this.domListeners[e.type]||[]).forEach(r=>{let{node:o,handler:l}=r;(e.target===o||o.contains(e.target))&&l(e,...i)})}listenDOM(e,s,i){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:s,handler:i})}}$(M,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),$(M,"sources",{API:"api",SILENT:"silent",USER:"user"});const fo=Wt("quill:selection");class Ts{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=s}}class SS{constructor(e,s){this.emitter=s,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Ts(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,M.sources.USER),1)}),this.emitter.on(M.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const i=this.getNativeRange();i!=null&&i.start.node!==this.cursor.textNode&&this.emitter.once(M.events.SCROLL_UPDATE,(n,r)=>{try{this.root.contains(i.start.node)&&this.root.contains(i.end.node)&&this.setNativeRange(i.start.node,i.start.offset,i.end.node,i.end.offset);const o=r.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?M.sources.SILENT:n)}catch{}})}),this.emitter.on(M.events.SCROLL_OPTIMIZE,(i,n)=>{if(n.range){const{startNode:r,startOffset:o,endNode:l,endOffset:a}=n.range;this.setNativeRange(r,o,l,a),this.update(M.sources.SILENT)}}),this.update(M.sources.SILENT)}handleComposition(){this.emitter.on(M.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(M.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(M.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,s){this.scroll.update();const i=this.getNativeRange();if(!(i==null||!i.native.collapsed||this.scroll.query(e,j.BLOCK))){if(i.start.node!==this.cursor.textNode){const n=this.scroll.find(i.start.node,!1);if(n==null)return;if(n instanceof De){const r=n.split(i.start.offset);n.parent.insertBefore(this.cursor,r)}else n.insertBefore(this.cursor,i.start.node);this.cursor.attach()}this.cursor.format(e,s),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const i=this.scroll.length();e=Math.min(e,i-1),s=Math.min(e+s,i-1)-e;let n,[r,o]=this.scroll.leaf(e);if(r==null)return null;if(s>0&&o===r.length()){const[d]=this.scroll.leaf(e+1);if(d){const[g]=this.scroll.line(e),[h]=this.scroll.line(e+1);g===h&&(r=d,o=0)}}[n,o]=r.position(o,!0);const l=document.createRange();if(s>0)return l.setStart(n,o),[r,o]=this.scroll.leaf(e+s),r==null?null:([n,o]=r.position(o,!0),l.setEnd(n,o),l.getBoundingClientRect());let a="left",u;if(n instanceof Text){if(!n.data.length)return null;o<n.data.length?(l.setStart(n,o),l.setEnd(n,o+1)):(l.setStart(n,o-1),l.setEnd(n,o),a="right"),u=l.getBoundingClientRect()}else{if(!(r.domNode instanceof Element))return null;u=r.domNode.getBoundingClientRect(),o>0&&(a="right")}return{bottom:u.top+u.height,height:u.height,left:u[a],right:u[a],top:u.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const s=e.getRangeAt(0);if(s==null)return null;const i=this.normalizeNative(s);return fo.info("getNativeRange",i),i}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const s=this.getNativeRange();return s==null?[null,null]:[this.normalizedToRange(s),s]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&go(this.root,document.activeElement)}normalizedToRange(e){const s=[[e.start.node,e.start.offset]];e.native.collapsed||s.push([e.end.node,e.end.offset]);const i=s.map(o=>{const[l,a]=o,u=this.scroll.find(l,!0),d=u.offset(this.scroll);return a===0?d:u instanceof De?d+u.index(l,a):d+u.length()}),n=Math.min(Math.max(...i),this.scroll.length()-1),r=Math.min(n,...i);return new Ts(r,n-r)}normalizeNative(e){if(!go(this.root,e.startContainer)||!e.collapsed&&!go(this.root,e.endContainer))return null;const s={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[s.start,s.end].forEach(i=>{let{node:n,offset:r}=i;for(;!(n instanceof Text)&&n.childNodes.length>0;)if(n.childNodes.length>r)n=n.childNodes[r],r=0;else if(n.childNodes.length===r)n=n.lastChild,n instanceof Text?r=n.data.length:n.childNodes.length>0?r=n.childNodes.length:r=n.childNodes.length+1;else break;i.node=n,i.offset=r}),s}rangeToNative(e){const s=this.scroll.length(),i=(n,r)=>{n=Math.min(s-1,n);const[o,l]=this.scroll.leaf(n);return o?o.position(l,r):[null,-1]};return[...i(e.index,!1),...i(e.index+e.length,!0)]}setNativeRange(e,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:s,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(fo.info("setNativeRange",e,s,i,n),e!=null&&(this.root.parentNode==null||e.parentNode==null||i.parentNode==null))return;const o=document.getSelection();if(o!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||r||e!==l.startContainer||s!==l.startOffset||i!==l.endContainer||n!==l.endOffset){e instanceof Element&&e.tagName==="BR"&&(s=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),i instanceof Element&&i.tagName==="BR"&&(n=Array.from(i.parentNode.childNodes).indexOf(i),i=i.parentNode);const a=document.createRange();a.setStart(e,s),a.setEnd(i,n),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur()}setRange(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M.sources.API;if(typeof s=="string"&&(i=s,s=!1),fo.info("setRange",e),e!=null){const n=this.rangeToNative(e);this.setNativeRange(...n,s)}else this.setNativeRange(null);this.update(i)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.sources.USER;const s=this.lastRange,[i,n]=this.getRange();if(this.lastRange=i,this.lastNative=n,this.lastRange!=null&&(this.savedRange=this.lastRange),!vl(s,this.lastRange)){if(!this.composing&&n!=null&&n.native.collapsed&&n.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const r=[M.events.SELECTION_CHANGE,ei(this.lastRange),ei(s),e];this.emitter.emit(M.events.EDITOR_CHANGE,...r),e!==M.sources.SILENT&&this.emitter.emit(...r)}}}function go(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const TS=/^[ -~]*$/;class NS{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let s=this.scroll.length();this.scroll.batchStart();const i=Wa(e),n=new B;return CS(i.ops.slice()).reduce((o,l)=>{const a=st.Op.length(l);let u=l.attributes||{},d=!1,g=!1;if(l.insert!=null){if(n.retain(a),typeof l.insert=="string"){const b=l.insert;g=!b.endsWith(`
`)&&(s<=o||!!this.scroll.descendant(tt,o)[0]),this.scroll.insertAt(o,b);const[y,w]=this.scroll.line(o);let v=as({},Qe(y));if(y instanceof ke){const[E]=y.descendant(De,w);E&&(v=as(v,Qe(E)))}u=st.AttributeMap.diff(v,u)||{}}else if(typeof l.insert=="object"){const b=Object.keys(l.insert)[0];if(b==null)return o;const y=this.scroll.query(b,j.INLINE)!=null;if(y)(s<=o||this.scroll.descendant(tt,o)[0])&&(g=!0);else if(o>0){const[w,v]=this.scroll.descendant(De,o-1);w instanceof xt?w.value()[v]!==`
`&&(d=!0):w instanceof Je&&w.statics.scope===j.INLINE_BLOT&&(d=!0)}if(this.scroll.insertAt(o,b,l.insert[b]),y){const[w]=this.scroll.descendant(De,o);if(w){const v=as({},Qe(w));u=st.AttributeMap.diff(v,u)||{}}}}s+=a}else if(n.push(l),l.retain!==null&&typeof l.retain=="object"){const b=Object.keys(l.retain)[0];if(b==null)return o;this.scroll.updateEmbedAt(o,b,l.retain[b])}Object.keys(u).forEach(b=>{this.scroll.formatAt(o,a,b,u[b])});const h=d?1:0,f=g?1:0;return s+=h+f,n.retain(h),n.delete(f),o+a+h+f},0),n.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+st.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(i)}deleteText(e,s){return this.scroll.deleteAt(e,s),this.update(new B().retain(e).delete(s))}formatLine(e,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(i).forEach(r=>{this.scroll.lines(e,Math.max(s,1)).forEach(o=>{o.format(r,i[r])})}),this.scroll.optimize();const n=new B().retain(e).retain(s,ei(i));return this.update(n)}formatText(e,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(i).forEach(r=>{this.scroll.formatAt(e,s,r,i[r])});const n=new B().retain(e).retain(s,ei(i));return this.update(n)}getContents(e,s){return this.delta.slice(e,e+s)}getDelta(){return this.scroll.lines().reduce((e,s)=>e.concat(s.delta()),new B)}getFormat(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=[],n=[];s===0?this.scroll.path(e).forEach(l=>{const[a]=l;a instanceof ke?i.push(a):a instanceof De&&n.push(a)}):(i=this.scroll.lines(e,s),n=this.scroll.descendants(De,e,s));const[r,o]=[i,n].map(l=>{const a=l.shift();if(a==null)return{};let u=Qe(a);for(;Object.keys(u).length>0;){const d=l.shift();if(d==null)return u;u=kS(Qe(d),u)}return u});return{...r,...o}}getHTML(e,s){const[i,n]=this.scroll.line(e);if(i){const r=i.length();return i.length()>=n+s&&!(n===0&&s===r)?Yi(i,n,s,!0):Yi(this.scroll,e,s,!0)}return""}getText(e,s){return this.getContents(e,s).filter(i=>typeof i.insert=="string").map(i=>i.insert).join("")}insertContents(e,s){const i=Wa(s),n=new B().retain(e).concat(i);return this.scroll.insertContents(e,i),this.update(n)}insertEmbed(e,s,i){return this.scroll.insertAt(e,s,i),this.update(new B().retain(e).insert({[s]:i}))}insertText(e,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s=s.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,s),Object.keys(i).forEach(n=>{this.scroll.formatAt(e,s.length,n,i[n])}),this.update(new B().retain(e).insert(s,ei(i)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==ke.blotName)return!1;const s=e;return s.children.length>1?!1:s.children.head instanceof vt}removeFormat(e,s){const i=this.getText(e,s),[n,r]=this.scroll.line(e+s);let o=0,l=new B;n!=null&&(o=n.length()-r,l=n.delta().slice(r,r+o-1).insert(`
`));const u=this.getContents(e,s+o).diff(new B().insert(i).concat(l)),d=new B().retain(e).concat(u);return this.applyDelta(d)}update(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const n=this.delta;if(s.length===1&&s[0].type==="characterData"&&s[0].target.data.match(TS)&&this.scroll.find(s[0].target)){const r=this.scroll.find(s[0].target),o=Qe(r),l=r.offset(this.scroll),a=s[0].oldValue.replace(ai.CONTENTS,""),u=new B().insert(a),d=new B().insert(r.value()),g=i&&{oldRange:Za(i.oldRange,-l),newRange:Za(i.newRange,-l)};e=new B().retain(l).concat(u.diff(d,g)).reduce((f,b)=>b.insert?f.insert(b.insert,o):f.push(b),new B),this.delta=n.compose(e)}else this.delta=this.getDelta(),(!e||!vl(n.compose(e),this.delta))&&(e=n.diff(this.delta,i));return e}}function Ys(t,e,s){if(t.length===0){const[f]=mo(s.pop());return e<=0?`</li></${f}>`:`</li></${f}>${Ys([],e-1,s)}`}const[{child:i,offset:n,length:r,indent:o,type:l},...a]=t,[u,d]=mo(l);if(o>e)return s.push(l),o===e+1?`<${u}><li${d}>${Yi(i,n,r)}${Ys(a,o,s)}`:`<${u}><li>${Ys(t,e+1,s)}`;const g=s[s.length-1];if(o===e&&l===g)return`</li><li${d}>${Yi(i,n,r)}${Ys(a,o,s)}`;const[h]=mo(s.pop());return`</li></${h}>${Ys(t,e-1,s)}`}function Yi(t,e,s){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,s);if(t instanceof xt)return ur(t.value().slice(e,e+s));if(t instanceof mt){if(t.statics.blotName==="list-container"){const u=[];return t.children.forEachAt(e,s,(d,g,h)=>{const f="formats"in d&&typeof d.formats=="function"?d.formats():{};u.push({child:d,offset:g,length:h,indent:f.indent||0,type:f.list})}),Ys(u,-1,[])}const n=[];if(t.children.forEachAt(e,s,(u,d,g)=>{n.push(Yi(u,d,g))}),i||t.statics.blotName==="list")return n.join("");const{outerHTML:r,innerHTML:o}=t.domNode,[l,a]=r.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${n.join("")}<${a}`:`${l}>${n.join("")}<${a}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function kS(t,e){return Object.keys(e).reduce((s,i)=>{if(t[i]==null)return s;const n=e[i];return n===t[i]?s[i]=n:Array.isArray(n)?n.indexOf(t[i])<0?s[i]=n.concat([t[i]]):s[i]=n:s[i]=[n,t[i]],s},{})}function mo(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function Wa(t){return t.reduce((e,s)=>{if(typeof s.insert=="string"){const i=s.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(i,s.attributes)}return e.push(s)},new B)}function Za(t,e){let{index:s,length:i}=t;return new Ts(s+e,i)}function CS(t){const e=[];return t.forEach(s=>{typeof s.insert=="string"?s.insert.split(`
`).forEach((n,r)=>{r&&e.push({insert:`
`,attributes:s.attributes}),n&&e.push({insert:n,attributes:s.attributes})}):e.push(s)}),e}class wt{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=s}}$(wt,"DEFAULTS",{});const On="\uFEFF";class kl extends Je{constructor(e,s){super(e,s),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(i=>{this.contentNode.appendChild(i)}),this.leftGuard=document.createTextNode(On),this.rightGuard=document.createTextNode(On),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,s){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,s)}restore(e){let s=null,i;const n=e.data.split(On).join("");if(e===this.leftGuard)if(this.prev instanceof xt){const r=this.prev.length();this.prev.insertAt(r,n),s={startNode:this.prev.domNode,startOffset:r+n.length}}else i=document.createTextNode(n),this.parent.insertBefore(this.scroll.create(i),this),s={startNode:i,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof xt?(this.next.insertAt(0,n),s={startNode:this.next.domNode,startOffset:n.length}):(i=document.createTextNode(n),this.parent.insertBefore(this.scroll.create(i),this.next),s={startNode:i,startOffset:n.length}));return e.data=On,s}update(e,s){e.forEach(i=>{if(i.type==="characterData"&&(i.target===this.leftGuard||i.target===this.rightGuard)){const n=this.restore(i.target);n&&(s.range=n)}})}}class OS{constructor(e,s){$(this,"isComposing",!1);this.scroll=e,this.emitter=s,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const s=e.target instanceof Node?this.scroll.find(e.target,!0):null;s&&!(s instanceof kl)&&(this.emitter.emit(M.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(M.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(M.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(M.events.COMPOSITION_END,e),this.isComposing=!1}}const ji=class ji{constructor(e,s){$(this,"modules",{});this.quill=e,this.options=s}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const s=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new s(this.quill,this.options.modules[e]||{}),this.modules[e]}};$(ji,"DEFAULTS",{modules:{}}),$(ji,"themes",{default:ji});let ui=ji;const RS=t=>t.parentElement||t.getRootNode().host||null,LS=t=>{const e=t.getBoundingClientRect(),s="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,i="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*s,bottom:e.top+t.clientHeight*i,left:e.left}},Rn=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},Ja=(t,e,s,i,n,r)=>t<s&&e>i?0:t<s?-(s-t+n):e>i?e-t>i-s?t+n-s:e-i+r:0,qS=(t,e)=>{var r,o,l;const s=t.ownerDocument;let i=e,n=t;for(;n;){const a=n===s.body,u=a?{top:0,right:((r=window.visualViewport)==null?void 0:r.width)??s.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??s.documentElement.clientHeight,left:0}:LS(n),d=getComputedStyle(n),g=Ja(i.left,i.right,u.left,u.right,Rn(d.scrollPaddingLeft),Rn(d.scrollPaddingRight)),h=Ja(i.top,i.bottom,u.top,u.bottom,Rn(d.scrollPaddingTop),Rn(d.scrollPaddingBottom));if(g||h)if(a)(l=s.defaultView)==null||l.scrollBy(g,h);else{const{scrollLeft:f,scrollTop:b}=n;h&&(n.scrollTop+=h),g&&(n.scrollLeft+=g);const y=n.scrollLeft-f,w=n.scrollTop-b;i={left:i.left-y,top:i.top-w,right:i.right-y,bottom:i.bottom-w}}n=a||d.position==="fixed"?null:RS(n)}},DS=100,IS=["block","break","cursor","inline","scroll","text"],PS=(t,e,s)=>{const i=new li;return IS.forEach(n=>{const r=e.query(n);r&&i.register(r)}),t.forEach(n=>{let r=e.query(n);r||s.error(`Cannot register "${n}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;r;)if(i.register(r),r="blotName"in r?r.requiredContainer??null:null,o+=1,o>DS){s.error(`Cycle detected in registering blot requiredContainer: "${n}"`);break}}),i},si=Wt("quill"),Ln=new li;mt.uiClass="ql-ui";const ct=class ct{static debug(e){e===!0&&(e="log"),Wt.level(e)}static find(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Ko.get(e)||Ln.find(e,s)}static import(e){return this.imports[e]==null&&si.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],s=!!(!(arguments.length<=1)&&arguments[1]),i="attrName"in e?e.attrName:e.blotName;typeof i=="string"?this.register(`formats/${i}`,e,s):Object.keys(e).forEach(n=>{this.register(n,e[n],s)})}else{const e=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],i=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!i&&si.warn(`Overwriting ${e} with`,s),this.imports[e]=s,(e.startsWith("blots/")||e.startsWith("formats/"))&&s&&typeof s!="boolean"&&s.blotName!=="abstract"&&Ln.register(s),typeof s.register=="function"&&s.register(Ln)}}constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=$S(e,s),this.container=this.options.container,this.container==null){si.error("Invalid Quill container",e);return}this.options.debug&&ct.debug(this.options.debug);const i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Ko.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new M;const n=Al.blotName,r=this.options.registry.query(n);if(!r||!("blotName"in r))throw new Error(`Cannot initialize Quill without "${n}" blot`);if(this.scroll=new r(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new NS(this.scroll),this.selection=new SS(this.scroll,this.emitter),this.composition=new OS(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(M.events.EDITOR_CHANGE,o=>{o===M.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(M.events.SCROLL_UPDATE,(o,l)=>{const a=this.selection.lastRange,[u]=this.selection.getRange(),d=a&&u?{oldRange:a,newRange:u}:void 0;ut.call(this,()=>this.editor.update(null,l,d),o)}),this.emitter.on(M.events.SCROLL_EMBED_UPDATE,(o,l)=>{const a=this.selection.lastRange,[u]=this.selection.getRange(),d=a&&u?{oldRange:a,newRange:u}:void 0;ut.call(this,()=>{const g=new B().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(g,[],d)},ct.sources.USER)}),i){const o=this.clipboard.convert({html:`${i}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const i=e;e=document.createElement("div"),e.classList.add(i)}return this.container.insertBefore(e,s),e}blur(){this.selection.setRange(null)}deleteText(e,s,i){return[e,s,,i]=Ht(e,s,i),ut.call(this,()=>this.editor.deleteText(e,s),i,e,-1*s)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const s=e();return this.allowReadOnlyEdits=!1,s}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M.sources.API;return ut.call(this,()=>{const n=this.getSelection(!0);let r=new B;if(n==null)return r;if(this.scroll.query(e,j.BLOCK))r=this.editor.formatLine(n.index,n.length,{[e]:s});else{if(n.length===0)return this.selection.format(e,s),r;r=this.editor.formatText(n.index,n.length,{[e]:s})}return this.setSelection(n,M.sources.SILENT),r},i)}formatLine(e,s,i,n,r){let o;return[e,s,o,r]=Ht(e,s,i,n,r),ut.call(this,()=>this.editor.formatLine(e,s,o),r,e,0)}formatText(e,s,i,n,r){let o;return[e,s,o,r]=Ht(e,s,i,n,r),ut.call(this,()=>this.editor.formatText(e,s,o),r,e,0)}getBounds(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=null;if(typeof e=="number"?i=this.selection.getBounds(e,s):i=this.selection.getBounds(e.index,e.length),!i)return null;const n=this.container.getBoundingClientRect();return{bottom:i.bottom-n.top,height:i.height,left:i.left-n.left,right:i.right-n.left,top:i.top-n.top,width:i.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,s]=Ht(e,s),this.editor.getContents(e,s)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,s):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,s)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(s=s??this.getLength()-e),[e,s]=Ht(e,s),this.editor.getHTML(e,s)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(s=s??this.getLength()-e),[e,s]=Ht(e,s),this.editor.getText(e,s)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,s,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ct.sources.API;return ut.call(this,()=>this.editor.insertEmbed(e,s,i),n,e)}insertText(e,s,i,n,r){let o;return[e,,o,r]=Ht(e,0,i,n,r),ut.call(this,()=>this.editor.insertText(e,s,o),r,e,s.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,s,i){return[e,s,,i]=Ht(e,s,i),ut.call(this,()=>this.editor.removeFormat(e,s),i,e)}scrollRectIntoView(e){qS(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,s=e&&this.selection.getBounds(e.index,e.length);s&&this.scrollRectIntoView(s)}setContents(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.sources.API;return ut.call(this,()=>{e=new B(e);const i=this.getLength(),n=this.editor.deleteText(0,i),r=this.editor.insertContents(0,e),o=this.editor.deleteText(this.getLength()-1,1);return n.compose(r).compose(o)},s)}setSelection(e,s,i){e==null?this.selection.setRange(null,s||ct.sources.API):([e,s,,i]=Ht(e,s,i),this.selection.setRange(new Ts(Math.max(0,e),s),i),i!==M.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.sources.API;const i=new B().insert(e);return this.setContents(i,s)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.sources.USER;const s=this.scroll.update(e);return this.selection.update(e),s}updateContents(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.sources.API;return ut.call(this,()=>(e=new B(e),this.editor.applyDelta(e)),s,!0)}};$(ct,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Ln,theme:"default"}),$(ct,"events",M.events),$(ct,"sources",M.sources),$(ct,"version","2.0.2"),$(ct,"imports",{delta:B,parchment:aS,"core/module":wt,"core/theme":ui});let O=ct;function Xa(t){return typeof t=="string"?document.querySelector(t):t}function bo(t){return Object.entries(t??{}).reduce((e,s)=>{let[i,n]=s;return{...e,[i]:n===!0?{}:n}},{})}function Ya(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function $S(t,e){const s=Xa(t);if(!s)throw new Error("Invalid Quill container");const n=!e.theme||e.theme===O.DEFAULTS.theme?ui:O.import(`themes/${e.theme}`);if(!n)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:r,...o}=O.DEFAULTS,{modules:l,...a}=n.DEFAULTS;let u=bo(e.modules);u!=null&&u.toolbar&&u.toolbar.constructor!==Object&&(u={...u,toolbar:{container:u.toolbar}});const d=as({},bo(r),bo(l),u),g={...o,...Ya(a),...Ya(e)};let h=e.registry;return h?e.formats&&si.warn('Ignoring "formats" option because "registry" is specified'):h=e.formats?PS(e.formats,g.registry,si):g.registry,{...g,registry:h,container:s,theme:n,modules:Object.entries(d).reduce((f,b)=>{let[y,w]=b;if(!w)return f;const v=O.import(`modules/${y}`);return v==null?(si.error(`Cannot load ${y} module. Are you sure you registered it?`),f):{...f,[y]:as({},v.DEFAULTS||{},w)}},{}),bounds:Xa(g.bounds)}}function ut(t,e,s,i){if(!this.isEnabled()&&e===M.sources.USER&&!this.allowReadOnlyEdits)return new B;let n=s==null?null:this.getSelection();const r=this.editor.delta,o=t();if(n!=null&&(s===!0&&(s=n.index),i==null?n=Qa(n,o,e):i!==0&&(n=Qa(n,s,i,e)),this.setSelection(n,M.sources.SILENT)),o.length()>0){const l=[M.events.TEXT_CHANGE,o,r,e];this.emitter.emit(M.events.EDITOR_CHANGE,...l),e!==M.sources.SILENT&&this.emitter.emit(...l)}return o}function Ht(t,e,s,i,n){let r={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(n=i,i=s,s=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(n=i,i=s,s=e,e=0),typeof s=="object"?(r=s,n=i):typeof s=="string"&&(i!=null?r[s]=i:n=s),n=n||M.sources.API,[t,e,r,n]}function Qa(t,e,s,i){const n=typeof s=="number"?s:0;if(t==null)return null;let r,o;return e&&typeof e.transformPosition=="function"?[r,o]=[t.index,t.index+t.length].map(l=>e.transformPosition(l,i!==M.sources.USER)):[r,o]=[t.index,t.index+t.length].map(l=>l<e||l===e&&i===M.sources.USER?l:n>=0?l+n:Math.max(e,l+n)),new Ts(r,o-r)}class Os extends rr{}function eu(t){return t instanceof ke||t instanceof tt}function tu(t){return typeof t.updateContent=="function"}class Qs extends Al{constructor(e,s,i){let{emitter:n}=i;super(e,s),this.emitter=n,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",r=>this.handleDragStart(r))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(M.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(M.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,s){this.emitter.emit(M.events.SCROLL_EMBED_UPDATE,e,s)}deleteAt(e,s){const[i,n]=this.line(e),[r]=this.line(e+s);if(super.deleteAt(e,s),r!=null&&i!==r&&n>0){if(i instanceof tt||r instanceof tt){this.optimize();return}const o=r.children.head instanceof vt?null:r.children.head;i.moveChildren(r,o),i.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,s,i,n){super.formatAt(e,s,i,n),this.optimize()}insertAt(e,s,i){if(e>=this.length())if(i==null||this.scroll.query(s,j.BLOCK)==null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n),i==null&&s.endsWith(`
`)?n.insertAt(0,s.slice(0,-1),i):n.insertAt(0,s,i)}else{const n=this.scroll.create(s,i);this.appendChild(n)}else super.insertAt(e,s,i);this.optimize()}insertBefore(e,s){if(e.statics.scope===j.INLINE_BLOT){const i=this.scroll.create(this.statics.defaultChild.blotName);i.appendChild(e),super.insertBefore(i,s)}else super.insertBefore(e,s)}insertContents(e,s){const i=this.deltaToRenderBlocks(s.concat(new B().insert(`
`))),n=i.pop();if(n==null)return;this.batchStart();const r=i.shift();if(r){const a=r.type==="block"&&(r.delta.length()===0||!this.descendant(tt,e)[0]&&e<this.length()),u=r.type==="block"?r.delta:new B().insert({[r.key]:r.value});xo(this,e,u);const d=r.type==="block"?1:0,g=e+u.length()+d;a&&this.insertAt(g-1,`
`);const h=Qe(this.line(e)[0]),f=st.AttributeMap.diff(h,r.attributes)||{};Object.keys(f).forEach(b=>{this.formatAt(g-1,1,b,f[b])}),e=g}let[o,l]=this.children.find(e);if(i.length&&(o&&(o=o.split(l),l=0),i.forEach(a=>{if(a.type==="block"){const u=this.createBlock(a.attributes,o||void 0);xo(u,0,a.delta)}else{const u=this.create(a.key,a.value);this.insertBefore(u,o||void 0),Object.keys(a.attributes).forEach(d=>{u.format(d,a.attributes[d])})}})),n.type==="block"&&n.delta.length()){const a=o?o.offset(o.scroll)+l:this.length();xo(this,a,n.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const s=this.path(e).pop();if(!s)return[null,-1];const[i,n]=s;return i instanceof De?[i,n]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(eu,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const i=(n,r,o)=>{let l=[],a=o;return n.children.forEachAt(r,o,(u,d,g)=>{eu(u)?l.push(u):u instanceof rr&&(l=l.concat(i(u,d,a))),a-=g}),l};return i(this,e,s)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,s),e.length>0&&this.emitter.emit(M.events.SCROLL_OPTIMIZE,e,s))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let s=M.sources.USER;typeof e=="string"&&(s=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(i=>{let{target:n}=i;const r=this.find(n,!0);return r&&!tu(r)}),e.length>0&&this.emitter.emit(M.events.SCROLL_BEFORE_UPDATE,s,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(M.events.SCROLL_UPDATE,s,e)}updateEmbedAt(e,s,i){const[n]=this.descendant(r=>r instanceof tt,e);n&&n.statics.blotName===s&&tu(n)&&n.updateContent(i)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const s=[];let i=new B;return e.forEach(n=>{const r=n==null?void 0:n.insert;if(r)if(typeof r=="string"){const o=r.split(`
`);o.slice(0,-1).forEach(a=>{i.insert(a,n.attributes),s.push({type:"block",delta:i,attributes:n.attributes??{}}),i=new B});const l=o[o.length-1];l&&i.insert(l,n.attributes)}else{const o=Object.keys(r)[0];if(!o)return;this.query(o,j.INLINE)?i.push(n):(i.length()&&s.push({type:"block",delta:i,attributes:{}}),i=new B,s.push({type:"blockEmbed",key:o,value:r[o],attributes:n.attributes??{}}))}}),i.length()&&s.push({type:"block",delta:i,attributes:{}}),s}createBlock(e,s){let i;const n={};Object.entries(e).forEach(l=>{let[a,u]=l;this.query(a,j.BLOCK&j.BLOT)!=null?i=a:n[a]=u});const r=this.create(i||this.statics.defaultChild.blotName,i?e[i]:void 0);this.insertBefore(r,s||void 0);const o=r.length();return Object.entries(n).forEach(l=>{let[a,u]=l;r.formatAt(0,o,a,u)}),r}}$(Qs,"blotName","scroll"),$(Qs,"className","ql-editor"),$(Qs,"tagName","DIV"),$(Qs,"defaultChild",ke),$(Qs,"allowedChildren",[ke,tt,Os]);function xo(t,e,s){s.reduce((i,n)=>{const r=st.Op.length(n);let o=n.attributes||{};if(n.insert!=null){if(typeof n.insert=="string"){const l=n.insert;t.insertAt(i,l);const[a]=t.descendant(De,i),u=Qe(a);o=st.AttributeMap.diff(u,o)||{}}else if(typeof n.insert=="object"){const l=Object.keys(n.insert)[0];if(l==null)return i;if(t.insertAt(i,l,n.insert[l]),t.scroll.query(l,j.INLINE)!=null){const[u]=t.descendant(De,i),d=Qe(u);o=st.AttributeMap.diff(d,o)||{}}}}return Object.keys(o).forEach(l=>{t.formatAt(i,r,l,o[l])}),i+r},e)}const Cl={scope:j.BLOCK,whitelist:["right","center","justify"]},US=new Dt("align","align",Cl),Kc=new _t("align","ql-align",Cl),Gc=new ds("align","text-align",Cl);class Wc extends ds{value(e){let s=super.value(e);return s.startsWith("rgb(")?(s=s.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${s.split(",").map(n=>`00${parseInt(n,10).toString(16)}`.slice(-2)).join("")}`):s}}const MS=new _t("color","ql-color",{scope:j.INLINE}),Ol=new Wc("color","color",{scope:j.INLINE}),BS=new _t("background","ql-bg",{scope:j.INLINE}),Rl=new Wc("background","background-color",{scope:j.INLINE});class Rs extends Os{static create(e){const s=super.create(e);return s.setAttribute("spellcheck","false"),s}code(e,s){return this.children.map(i=>i.length()<=1?"":i.domNode.innerText).join(`
`).slice(e,e+s)}html(e,s){return`<pre>
${ur(this.code(e,s))}
</pre>`}}class Ie extends ke{static register(){O.register(Rs)}}$(Ie,"TAB","  ");class Ll extends It{}Ll.blotName="code";Ll.tagName="CODE";Ie.blotName="code-block";Ie.className="ql-code-block";Ie.tagName="DIV";Rs.blotName="code-block-container";Rs.className="ql-code-block-container";Rs.tagName="DIV";Rs.allowedChildren=[Ie];Ie.allowedChildren=[xt,vt,ai];Ie.requiredContainer=Rs;const ql={scope:j.BLOCK,whitelist:["rtl"]},Zc=new Dt("direction","dir",ql),Jc=new _t("direction","ql-direction",ql),Xc=new ds("direction","direction",ql),Yc={scope:j.INLINE,whitelist:["serif","monospace"]},Qc=new _t("font","ql-font",Yc);class jS extends ds{value(e){return super.value(e).replace(/["']/g,"")}}const ep=new jS("font","font-family",Yc),tp=new _t("size","ql-size",{scope:j.INLINE,whitelist:["small","large","huge"]}),sp=new ds("size","font-size",{scope:j.INLINE,whitelist:["10px","18px","32px"]}),FS=Wt("quill:keyboard"),HS=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class cr extends wt{static match(e,s){return["altKey","ctrlKey","metaKey","shiftKey"].some(i=>!!s[i]!==e[i]&&s[i]!==null)?!1:s.key===e.key||s.key===e.which}constructor(e,s){super(e,s),this.bindings={},Object.keys(this.options.bindings).forEach(i=>{this.options.bindings[i]&&this.addBinding(this.options.bindings[i])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=zS(e);if(n==null){FS.warn("Attempted to add invalid keyboard binding",n);return}typeof s=="function"&&(s={handler:s}),typeof i=="function"&&(i={handler:i}),(Array.isArray(n.key)?n.key:[n.key]).forEach(o=>{const l={...n,key:o,...s,...i};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const n=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(v=>cr.match(e,v));if(n.length===0)return;const r=O.find(e.target,!0);if(r&&r.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,a]=this.quill.getLine(o.index),[u,d]=this.quill.getLeaf(o.index),[g,h]=o.length===0?[u,d]:this.quill.getLeaf(o.index+o.length),f=u instanceof zn?u.value().slice(0,d):"",b=g instanceof zn?g.value().slice(h):"",y={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:a,prefix:f,suffix:b,event:e};n.some(v=>{if(v.collapsed!=null&&v.collapsed!==y.collapsed||v.empty!=null&&v.empty!==y.empty||v.offset!=null&&v.offset!==y.offset)return!1;if(Array.isArray(v.format)){if(v.format.every(E=>y.format[E]==null))return!1}else if(typeof v.format=="object"&&!Object.keys(v.format).every(E=>v.format[E]===!0?y.format[E]!=null:v.format[E]===!1?y.format[E]==null:vl(v.format[E],y.format[E])))return!1;return v.prefix!=null&&!v.prefix.test(y.prefix)||v.suffix!=null&&!v.suffix.test(y.suffix)?!1:v.handler.call(this,o,y,v)!==!0})&&e.preventDefault()})}handleBackspace(e,s){const i=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(s.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let n={};const[r]=this.quill.getLine(e.index);let o=new B().retain(e.index-i).delete(i);if(s.offset===0){const[l]=this.quill.getLine(e.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const u=r.formats(),d=this.quill.getFormat(e.index-1,1);if(n=st.AttributeMap.diff(u,d)||{},Object.keys(n).length>0){const g=new B().retain(e.index+r.length()-2).retain(1,n);o=o.compose(g)}}}this.quill.updateContents(o,O.sources.USER),this.quill.focus()}handleDelete(e,s){const i=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(s.suffix)?2:1;if(e.index>=this.quill.getLength()-i)return;let n={};const[r]=this.quill.getLine(e.index);let o=new B().retain(e.index).delete(i);if(s.offset>=r.length()-1){const[l]=this.quill.getLine(e.index+1);if(l){const a=r.formats(),u=this.quill.getFormat(e.index,1);n=st.AttributeMap.diff(a,u)||{},Object.keys(n).length>0&&(o=o.retain(l.length()-1).retain(1,n))}}this.quill.updateContents(o,O.sources.USER),this.quill.focus()}handleDeleteRange(e){Dl({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,s){const i=Object.keys(s.format).reduce((r,o)=>(this.quill.scroll.query(o,j.BLOCK)&&!Array.isArray(s.format[o])&&(r[o]=s.format[o]),r),{}),n=new B().retain(e.index).delete(e.length).insert(`
`,i);this.quill.updateContents(n,O.sources.USER),this.quill.setSelection(e.index+1,O.sources.SILENT),this.quill.focus()}}const VS={bindings:{bold:yo("bold"),italic:yo("italic"),underline:yo("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",O.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",O.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",O.sources.USER):e.format.list!=null&&this.quill.format("list",!1,O.sources.USER)}},"indent code-block":su(!0),"outdent code-block":su(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,O.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const s=new B().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(s,O.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,O.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,O.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const s={list:!1};e.format.indent&&(s.indent=!1),this.quill.formatLine(t.index,t.length,s,O.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,s]=this.quill.getLine(t.index),i={...e.formats(),list:"checked"},n=new B().retain(t.index).insert(`
`,i).retain(e.length()-s-1).retain(1,{list:"unchecked"});this.quill.updateContents(n,O.sources.USER),this.quill.setSelection(t.index+1,O.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[s,i]=this.quill.getLine(t.index),n=new B().retain(t.index).insert(`
`,e.format).retain(s.length()-i-1).retain(1,{header:null});this.quill.updateContents(n,O.sources.USER),this.quill.setSelection(t.index+1,O.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[s,i,n,r]=e.getTable(t),o=KS(s,i,n,r);if(o==null)return;let l=s.offset();if(o<0){const a=new B().retain(l).insert(`
`);this.quill.updateContents(a,O.sources.USER),this.quill.setSelection(t.index+1,t.length,O.sources.SILENT)}else if(o>0){l+=s.length();const a=new B().retain(l).insert(`
`);this.quill.updateContents(a,O.sources.USER),this.quill.setSelection(l,O.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:s,line:i}=e,n=i.offset(this.quill.scroll);s.shiftKey?this.quill.setSelection(n-1,O.sources.USER):this.quill.setSelection(n+i.length(),O.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:s}=e.prefix,[i,n]=this.quill.getLine(t.index);if(n>s)return!0;let r;switch(e.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r="ordered"}this.quill.insertText(t.index," ",O.sources.USER),this.quill.history.cutoff();const o=new B().retain(t.index-n).delete(s+1).retain(i.length()-2-n).retain(1,{list:r});return this.quill.updateContents(o,O.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-s,O.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,s]=this.quill.getLine(t.index);let i=2,n=e;for(;n!=null&&n.length()<=1&&n.formats()["code-block"];)if(n=n.prev,i-=1,i<=0){const r=new B().retain(t.index+e.length()-s-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(r,O.sources.USER),this.quill.setSelection(t.index-1,O.sources.SILENT),!1}return!0}},"embed left":qn("ArrowLeft",!1),"embed left shift":qn("ArrowLeft",!0),"embed right":qn("ArrowRight",!1),"embed right shift":qn("ArrowRight",!0),"table down":iu(!1),"table up":iu(!0)}};cr.DEFAULTS=VS;function su(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,s){let{event:i}=s;const n=this.quill.scroll.query("code-block"),{TAB:r}=n;if(e.length===0&&!i.shiftKey){this.quill.insertText(e.index,r,O.sources.USER),this.quill.setSelection(e.index+r.length,O.sources.SILENT);return}const o=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:l,length:a}=e;o.forEach((u,d)=>{t?(u.insertAt(0,r),d===0?l+=r.length:a+=r.length):u.domNode.textContent.startsWith(r)&&(u.deleteAt(0,r.length),d===0?l-=r.length:a-=r.length)}),this.quill.update(O.sources.USER),this.quill.setSelection(l,a,O.sources.SILENT)}}}function qn(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(i){let{index:n}=i;t==="ArrowRight"&&(n+=i.length+1);const[r]=this.quill.getLeaf(n);return r instanceof Je?(t==="ArrowLeft"?e?this.quill.setSelection(i.index-1,i.length+1,O.sources.USER):this.quill.setSelection(i.index-1,O.sources.USER):e?this.quill.setSelection(i.index,i.length+1,O.sources.USER):this.quill.setSelection(i.index+i.length+1,O.sources.USER),!1):!0}}}function yo(t){return{key:t[0],shortKey:!0,handler(e,s){this.quill.format(t,!s.format[t],O.sources.USER)}}}function iu(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,s){const i=t?"prev":"next",n=s.line,r=n.parent[i];if(r!=null){if(r.statics.blotName==="table-row"){let o=r.children.head,l=n;for(;l.prev!=null;)l=l.prev,o=o.next;const a=o.offset(this.quill.scroll)+Math.min(s.offset,o.length()-1);this.quill.setSelection(a,0,O.sources.USER)}}else{const o=n.table()[i];o!=null&&(t?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,O.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,O.sources.USER))}return!1}}}function zS(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=ei(t);else return null;return t.shortKey&&(t[HS]=t.shortKey,delete t.shortKey),t}function Dl(t){let{quill:e,range:s}=t;const i=e.getLines(s);let n={};if(i.length>1){const r=i[0].formats(),o=i[i.length-1].formats();n=st.AttributeMap.diff(o,r)||{}}e.deleteText(s,O.sources.USER),Object.keys(n).length>0&&e.formatLine(s.index,1,n,O.sources.USER),e.setSelection(s.index,O.sources.SILENT)}function KS(t,e,s,i){return e.prev==null&&e.next==null?s.prev==null&&s.next==null?i===0?-1:1:s.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const GS=/font-weight:\s*normal/,WS=["P","OL","UL"],nu=t=>t&&WS.includes(t.tagName),ZS=t=>{Array.from(t.querySelectorAll("br")).filter(e=>nu(e.previousElementSibling)&&nu(e.nextElementSibling)).forEach(e=>{var s;(s=e.parentNode)==null||s.removeChild(e)})},JS=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var s;return(s=e.getAttribute("style"))==null?void 0:s.match(GS)}).forEach(e=>{var i;const s=t.createDocumentFragment();s.append(...e.childNodes),(i=e.parentNode)==null||i.replaceChild(s,e)})};function XS(t){t.querySelector('[id^="docs-internal-guid-"]')&&(JS(t),ZS(t))}const YS=/\bmso-list:[^;]*ignore/i,QS=/\bmso-list:[^;]*\bl(\d+)/i,eT=/\bmso-list:[^;]*\blevel(\d+)/i,tT=(t,e)=>{const s=t.getAttribute("style"),i=s==null?void 0:s.match(QS);if(!i)return null;const n=Number(i[1]),r=s==null?void 0:s.match(eT),o=r?Number(r[1]):1,l=new RegExp(`@list l${n}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),a=e.match(l),u=a&&a[1]==="bullet"?"bullet":"ordered";return{id:n,indent:o,type:u,element:t}},sT=t=>{var o,l;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),s=[],i=[];e.forEach(a=>{(a.getAttribute("style")||"").match(YS)?s.push(a):i.push(a)}),s.forEach(a=>{var u;return(u=a.parentNode)==null?void 0:u.removeChild(a)});const n=t.documentElement.innerHTML,r=i.map(a=>tT(a,n)).filter(a=>a);for(;r.length;){const a=[];let u=r.shift();for(;u;)a.push(u),u=r.length&&((o=r[0])==null?void 0:o.element)===u.element.nextElementSibling&&r[0].id===u.id?r.shift():null;const d=document.createElement("ul");a.forEach(f=>{const b=document.createElement("li");b.setAttribute("data-list",f.type),f.indent>1&&b.setAttribute("class",`ql-indent-${f.indent-1}`),b.innerHTML=f.element.innerHTML,d.appendChild(b)});const g=(l=a[0])==null?void 0:l.element,{parentNode:h}=g??{};g&&(h==null||h.replaceChild(d,g)),a.slice(1).forEach(f=>{let{element:b}=f;h==null||h.removeChild(b)})}};function iT(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&sT(t)}const nT=[iT,XS],rT=t=>{t.documentElement&&nT.forEach(e=>{e(t)})},oT=Wt("quill:clipboard"),lT=[[Node.TEXT_NODE,yT],[Node.TEXT_NODE,ou],["br",dT],[Node.ELEMENT_NODE,ou],[Node.ELEMENT_NODE,pT],[Node.ELEMENT_NODE,cT],[Node.ELEMENT_NODE,bT],["li",gT],["ol, ul",mT],["pre",hT],["tr",xT],["b",_o("bold")],["i",_o("italic")],["strike",_o("strike")],["style",fT]],aT=[US,Zc].reduce((t,e)=>(t[e.keyName]=e,t),{}),ru=[Gc,Rl,Ol,Xc,ep,sp].reduce((t,e)=>(t[e.keyName]=e,t),{});class ip extends wt{constructor(e,s){super(e,s),this.quill.root.addEventListener("copy",i=>this.onCaptureCopy(i,!1)),this.quill.root.addEventListener("cut",i=>this.onCaptureCopy(i,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],lT.concat(this.options.matchers??[]).forEach(i=>{let[n,r]=i;this.addMatcher(n,r)})}addMatcher(e,s){this.matchers.push([e,s])}convert(e){let{html:s,text:i}=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n[Ie.blotName])return new B().insert(i||"",{[Ie.blotName]:n[Ie.blotName]});if(!s)return new B().insert(i||"",n);const r=this.convertHTML(s);return ln(r,`
`)&&(r.ops[r.ops.length-1].attributes==null||n.table)?r.compose(new B().retain(r.length()-1).delete(1)):r}normalizeHTML(e){rT(e)}convertHTML(e){const s=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(s);const i=s.body,n=new WeakMap,[r,o]=this.prepareMatching(i,n);return Il(this.quill.scroll,i,r,o,n)}dangerouslyPasteHTML(e,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O.sources.API;if(typeof e=="string"){const n=this.convert({html:e,text:""});this.quill.setContents(n,s),this.quill.setSelection(0,O.sources.SILENT)}else{const n=this.convert({html:s,text:""});this.quill.updateContents(new B().retain(e).concat(n),i),this.quill.setSelection(e+n.length(),O.sources.SILENT)}}onCaptureCopy(e){var o,l;let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[i]=this.quill.selection.getRange();if(i==null)return;const{html:n,text:r}=this.onCopy(i,s);(o=e.clipboardData)==null||o.setData("text/plain",r),(l=e.clipboardData)==null||l.setData("text/html",n),s&&Dl({range:i,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(s=>s[0]!=="#").join(`
`)}onCapturePaste(e){var o,l,a,u,d;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const s=this.quill.getSelection(!0);if(s==null)return;const i=(o=e.clipboardData)==null?void 0:o.getData("text/html");let n=(l=e.clipboardData)==null?void 0:l.getData("text/plain");if(!i&&!n){const g=(a=e.clipboardData)==null?void 0:a.getData("text/uri-list");g&&(n=this.normalizeURIList(g))}const r=Array.from(((u=e.clipboardData)==null?void 0:u.files)||[]);if(!i&&r.length>0){this.quill.uploader.upload(s,r);return}if(i&&r.length>0){const g=new DOMParser().parseFromString(i,"text/html");if(g.body.childElementCount===1&&((d=g.body.firstElementChild)==null?void 0:d.tagName)==="IMG"){this.quill.uploader.upload(s,r);return}}this.onPaste(s,{html:i,text:n})}onCopy(e){const s=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:s}}onPaste(e,s){let{text:i,html:n}=s;const r=this.quill.getFormat(e.index),o=this.convert({text:i,html:n},r);oT.log("onPaste",o,{text:i,html:n});const l=new B().retain(e.index).delete(e.length).concat(o);this.quill.updateContents(l,O.sources.USER),this.quill.setSelection(l.length()-e.length,O.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,s){const i=[],n=[];return this.matchers.forEach(r=>{const[o,l]=r;switch(o){case Node.TEXT_NODE:n.push(l);break;case Node.ELEMENT_NODE:i.push(l);break;default:Array.from(e.querySelectorAll(o)).forEach(a=>{if(s.has(a)){const u=s.get(a);u==null||u.push(l)}else s.set(a,[l])});break}}),[i,n]}}$(ip,"DEFAULTS",{matchers:[]});function Ls(t,e,s,i){return i.query(e)?t.reduce((n,r)=>{if(!r.insert)return n;if(r.attributes&&r.attributes[e])return n.push(r);const o=s?{[e]:s}:{};return n.insert(r.insert,{...o,...r.attributes})},new B):t}function ln(t,e){let s="";for(let i=t.ops.length-1;i>=0&&s.length<e.length;--i){const n=t.ops[i];if(typeof n.insert!="string")break;s=n.insert+s}return s.slice(-1*e.length)===e}function os(t,e){if(!(t instanceof Element))return!1;const s=e.query(t);return s&&s.prototype instanceof Je?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function uT(t,e){return t.previousElementSibling&&t.nextElementSibling&&!os(t.previousElementSibling,e)&&!os(t.nextElementSibling,e)}const Dn=new WeakMap;function np(t){return t==null?!1:(Dn.has(t)||(t.tagName==="PRE"?Dn.set(t,!0):Dn.set(t,np(t.parentNode))),Dn.get(t))}function Il(t,e,s,i,n){return e.nodeType===e.TEXT_NODE?i.reduce((r,o)=>o(e,r,t),new B):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((r,o)=>{let l=Il(t,o,s,i,n);return o.nodeType===e.ELEMENT_NODE&&(l=s.reduce((a,u)=>u(o,a,t),l),l=(n.get(o)||[]).reduce((a,u)=>u(o,a,t),l)),r.concat(l)},new B):new B}function _o(t){return(e,s,i)=>Ls(s,t,!0,i)}function cT(t,e,s){const i=Dt.keys(t),n=_t.keys(t),r=ds.keys(t),o={};return i.concat(n).concat(r).forEach(l=>{let a=s.query(l,j.ATTRIBUTE);a!=null&&(o[a.attrName]=a.value(t),o[a.attrName])||(a=aT[l],a!=null&&(a.attrName===l||a.keyName===l)&&(o[a.attrName]=a.value(t)||void 0),a=ru[l],a!=null&&(a.attrName===l||a.keyName===l)&&(a=ru[l],o[a.attrName]=a.value(t)||void 0))}),Object.entries(o).reduce((l,a)=>{let[u,d]=a;return Ls(l,u,d,s)},e)}function pT(t,e,s){const i=s.query(t);if(i==null)return e;if(i.prototype instanceof Je){const n={},r=i.value(t);if(r!=null)return n[i.blotName]=r,new B().insert(n,i.formats(t,s))}else if(i.prototype instanceof Ji&&!ln(e,`
`)&&e.insert(`
`),"blotName"in i&&"formats"in i&&typeof i.formats=="function")return Ls(e,i.blotName,i.formats(t,s),s);return e}function dT(t,e){return ln(e,`
`)||e.insert(`
`),e}function hT(t,e,s){const i=s.query("code-block"),n=i&&"formats"in i&&typeof i.formats=="function"?i.formats(t,s):!0;return Ls(e,"code-block",n,s)}function fT(){return new B}function gT(t,e,s){const i=s.query(t);if(i==null||i.blotName!=="list"||!ln(e,`
`))return e;let n=-1,r=t.parentNode;for(;r!=null;)["OL","UL"].includes(r.tagName)&&(n+=1),r=r.parentNode;return n<=0?e:e.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:n,...l.attributes||{}}):o,new B)}function mT(t,e,s){const i=t;let n=i.tagName==="OL"?"ordered":"bullet";const r=i.getAttribute("data-checked");return r&&(n=r==="true"?"checked":"unchecked"),Ls(e,"list",n,s)}function ou(t,e,s){if(!ln(e,`
`)){if(os(t,s)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let i=t.nextSibling;for(;i!=null;){if(os(i,s))return e.insert(`
`);const n=s.query(i);if(n&&n.prototype instanceof tt)return e.insert(`
`);i=i.firstChild}}}return e}function bT(t,e,s){var r;const i={},n=t.style||{};return n.fontStyle==="italic"&&(i.italic=!0),n.textDecoration==="underline"&&(i.underline=!0),n.textDecoration==="line-through"&&(i.strike=!0),((r=n.fontWeight)!=null&&r.startsWith("bold")||parseInt(n.fontWeight,10)>=700)&&(i.bold=!0),e=Object.entries(i).reduce((o,l)=>{let[a,u]=l;return Ls(o,a,u,s)},e),parseFloat(n.textIndent||0)>0?new B().insert("	").concat(e):e}function xT(t,e,s){var n,r;const i=((n=t.parentElement)==null?void 0:n.tagName)==="TABLE"?t.parentElement:(r=t.parentElement)==null?void 0:r.parentElement;if(i!=null){const l=Array.from(i.querySelectorAll("tr")).indexOf(t)+1;return Ls(e,"table",l,s)}return e}function yT(t,e,s){var n;let i=t.data;if(((n=t.parentElement)==null?void 0:n.tagName)==="O:P")return e.insert(i.trim());if(!np(t)){if(i.trim().length===0&&i.includes(`
`)&&!uT(t,s))return e;const r=(o,l)=>{const a=l.replace(/[^\u00a0]/g,"");return a.length<1&&o?" ":a};i=i.replace(/\r\n/g," ").replace(/\n/g," "),i=i.replace(/\s\s+/g,r.bind(r,!0)),(t.previousSibling==null&&t.parentElement!=null&&os(t.parentElement,s)||t.previousSibling instanceof Element&&os(t.previousSibling,s))&&(i=i.replace(/^\s+/,r.bind(r,!1))),(t.nextSibling==null&&t.parentElement!=null&&os(t.parentElement,s)||t.nextSibling instanceof Element&&os(t.nextSibling,s))&&(i=i.replace(/\s+$/,r.bind(r,!1)))}return e.insert(i)}class rp extends wt{constructor(s,i){super(s,i);$(this,"lastRecorded",0);$(this,"ignoreChange",!1);$(this,"stack",{undo:[],redo:[]});$(this,"currentRange",null);this.quill.on(O.events.EDITOR_CHANGE,(n,r,o,l)=>{n===O.events.SELECTION_CHANGE?r&&l!==O.sources.SILENT&&(this.currentRange=r):n===O.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===O.sources.USER?this.record(r,o):this.transform(r)),this.currentRange=Zo(this.currentRange,r))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",n=>{n.inputType==="historyUndo"?(this.undo(),n.preventDefault()):n.inputType==="historyRedo"&&(this.redo(),n.preventDefault())})}change(s,i){if(this.stack[s].length===0)return;const n=this.stack[s].pop();if(!n)return;const r=this.quill.getContents(),o=n.delta.invert(r);this.stack[i].push({delta:o,range:Zo(n.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n.delta,O.sources.USER),this.ignoreChange=!1,this.restoreSelection(n)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(s,i){if(s.ops.length===0)return;this.stack.redo=[];let n=s.invert(i),r=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(n=n.compose(l.delta),r=l.range)}else this.lastRecorded=o;n.length()!==0&&(this.stack.undo.push({delta:n,range:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(s){lu(this.stack.undo,s),lu(this.stack.redo,s)}undo(){this.change("undo","redo")}restoreSelection(s){if(s.range)this.quill.setSelection(s.range,O.sources.USER);else{const i=vT(this.quill.scroll,s.delta);this.quill.setSelection(i,O.sources.USER)}}}$(rp,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function lu(t,e){let s=e;for(let i=t.length-1;i>=0;i-=1){const n=t[i];t[i]={delta:s.transform(n.delta,!0),range:n.range&&Zo(n.range,s)},s=n.delta.transform(s),t[i].delta.length()===0&&t.splice(i,1)}}function _T(t,e){const s=e.ops[e.ops.length-1];return s==null?!1:s.insert!=null?typeof s.insert=="string"&&s.insert.endsWith(`
`):s.attributes!=null?Object.keys(s.attributes).some(i=>t.query(i,j.BLOCK)!=null):!1}function vT(t,e){const s=e.reduce((n,r)=>n+(r.delete||0),0);let i=e.length()-s;return _T(t,e)&&(i-=1),i}function Zo(t,e){if(!t)return t;const s=e.transformPosition(t.index),i=e.transformPosition(t.index+t.length);return{index:s,length:i-s}}class op extends wt{constructor(e,s){super(e,s),e.root.addEventListener("drop",i=>{var o;i.preventDefault();let n=null;if(document.caretRangeFromPoint)n=document.caretRangeFromPoint(i.clientX,i.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(i.clientX,i.clientY);n=document.createRange(),n.setStart(l.offsetNode,l.offset),n.setEnd(l.offsetNode,l.offset)}const r=n&&e.selection.normalizeNative(n);if(r){const l=e.selection.normalizedToRange(r);(o=i.dataTransfer)!=null&&o.files&&this.upload(l,i.dataTransfer.files)}})}upload(e,s){const i=[];Array.from(s).forEach(n=>{var r;n&&((r=this.options.mimetypes)!=null&&r.includes(n.type))&&i.push(n)}),i.length>0&&this.options.handler.call(this,e,i)}}op.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const s=e.map(i=>new Promise(n=>{const r=new FileReader;r.onload=()=>{n(r.result)},r.readAsDataURL(i)}));Promise.all(s).then(i=>{const n=i.reduce((r,o)=>r.insert({image:o}),new B().retain(t.index).delete(t.length));this.quill.updateContents(n,M.sources.USER),this.quill.setSelection(t.index+i.length,M.sources.SILENT)})}};const wT=["insertText","insertReplacementText"];class AT extends wt{constructor(e,s){super(e,s),e.root.addEventListener("beforeinput",i=>{this.handleBeforeInput(i)}),/Android/i.test(navigator.userAgent)||e.on(O.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){Dl({range:e,quill:this.quill})}replaceText(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(s){const i=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new B().retain(e.index).insert(s,i),O.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+s.length,0,O.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!wT.includes(e.inputType))return;const s=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!s||s.collapsed===!0)return;const i=ET(e);if(i==null)return;const n=this.quill.selection.normalizeNative(s),r=n?this.quill.selection.normalizedToRange(n):null;r&&this.replaceText(r,i)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function ET(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const ST=/Mac/i.test(navigator.platform),TT=100,NT=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||ST&&t.key==="a"&&t.ctrlKey===!0);class kT extends wt{constructor(s,i){super(s,i);$(this,"isListening",!1);$(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(s,i){let{line:n,event:r}=i;if(!(n instanceof mt)||!n.uiNode)return!0;const o=getComputedStyle(n.domNode).direction==="rtl";return o&&r.key!=="ArrowRight"||!o&&r.key!=="ArrowLeft"?!0:(this.quill.setSelection(s.index-1,s.length+(r.shiftKey?1:0),O.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",s=>{!s.defaultPrevented&&NT(s)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+TT,this.isListening)return;this.isListening=!0;const s=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",s,{once:!0})}handleSelectionChange(){const s=document.getSelection();if(!s)return;const i=s.getRangeAt(0);if(i.collapsed!==!0||i.startOffset!==0)return;const n=this.quill.scroll.find(i.startContainer);if(!(n instanceof mt)||!n.uiNode)return;const r=document.createRange();r.setStartAfter(n.uiNode),r.setEndAfter(n.uiNode),s.removeAllRanges(),s.addRange(r)}}O.register({"blots/block":ke,"blots/block/embed":tt,"blots/break":vt,"blots/container":Os,"blots/cursor":ai,"blots/embed":kl,"blots/inline":It,"blots/scroll":Qs,"blots/text":xt,"modules/clipboard":ip,"modules/history":rp,"modules/keyboard":cr,"modules/uploader":op,"modules/input":AT,"modules/uiNode":kT});class CT extends _t{add(e,s){let i=0;if(s==="+1"||s==="-1"){const n=this.value(e)||0;i=s==="+1"?n+1:n-1}else typeof s=="number"&&(i=s);return i===0?(this.remove(e),!0):super.add(e,i.toString())}canAdd(e,s){return super.canAdd(e,s)||super.canAdd(e,parseInt(s,10))}value(e){return parseInt(super.value(e),10)||void 0}}const OT=new CT("indent","ql-indent",{scope:j.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Jo extends ke{}$(Jo,"blotName","blockquote"),$(Jo,"tagName","blockquote");class Xo extends ke{static formats(e){return this.tagName.indexOf(e.tagName)+1}}$(Xo,"blotName","header"),$(Xo,"tagName",["H1","H2","H3","H4","H5","H6"]);class an extends Os{}an.blotName="list-container";an.tagName="OL";class un extends ke{static create(e){const s=super.create();return s.setAttribute("data-list",e),s}static formats(e){return e.getAttribute("data-list")||void 0}static register(){O.register(an)}constructor(e,s){super(e,s);const i=s.ownerDocument.createElement("span"),n=r=>{if(!e.isEnabled())return;const o=this.statics.formats(s,e);o==="checked"?(this.format("list","unchecked"),r.preventDefault()):o==="unchecked"&&(this.format("list","checked"),r.preventDefault())};i.addEventListener("mousedown",n),i.addEventListener("touchstart",n),this.attachUI(i)}format(e,s){e===this.statics.blotName&&s?this.domNode.setAttribute("data-list",s):super.format(e,s)}}un.blotName="list";un.tagName="LI";an.allowedChildren=[un];un.requiredContainer=an;class Qi extends It{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}$(Qi,"blotName","bold"),$(Qi,"tagName",["STRONG","B"]);class Yo extends Qi{}$(Yo,"blotName","italic"),$(Yo,"tagName",["EM","I"]);class ls extends It{static create(e){const s=super.create(e);return s.setAttribute("href",this.sanitize(e)),s.setAttribute("rel","noopener noreferrer"),s.setAttribute("target","_blank"),s}static formats(e){return e.getAttribute("href")}static sanitize(e){return lp(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,s){e!==this.statics.blotName||!s?super.format(e,s):this.domNode.setAttribute("href",this.constructor.sanitize(s))}}$(ls,"blotName","link"),$(ls,"tagName","A"),$(ls,"SANITIZED_URL","about:blank"),$(ls,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function lp(t,e){const s=document.createElement("a");s.href=t;const i=s.href.slice(0,s.href.indexOf(":"));return e.indexOf(i)>-1}class Qo extends It{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}$(Qo,"blotName","script"),$(Qo,"tagName",["SUB","SUP"]);class el extends Qi{}$(el,"blotName","strike"),$(el,"tagName",["S","STRIKE"]);class tl extends It{}$(tl,"blotName","underline"),$(tl,"tagName","U");class Un extends kl{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const s=super.create(e);return typeof e=="string"&&(window.katex.render(e,s,{throwOnError:!1,errorColor:"#f00"}),s.setAttribute("data-value",e)),s}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}$(Un,"blotName","formula"),$(Un,"className","ql-formula"),$(Un,"tagName","SPAN");const au=["alt","height","width"];class sl extends Je{static create(e){const s=super.create(e);return typeof e=="string"&&s.setAttribute("src",this.sanitize(e)),s}static formats(e){return au.reduce((s,i)=>(e.hasAttribute(i)&&(s[i]=e.getAttribute(i)),s),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return lp(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,s){au.indexOf(e)>-1?s?this.domNode.setAttribute(e,s):this.domNode.removeAttribute(e):super.format(e,s)}}$(sl,"blotName","image"),$(sl,"tagName","IMG");const uu=["height","width"];class Mn extends tt{static create(e){const s=super.create(e);return s.setAttribute("frameborder","0"),s.setAttribute("allowfullscreen","true"),s.setAttribute("src",this.sanitize(e)),s}static formats(e){return uu.reduce((s,i)=>(e.hasAttribute(i)&&(s[i]=e.getAttribute(i)),s),{})}static sanitize(e){return ls.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,s){uu.indexOf(e)>-1?s?this.domNode.setAttribute(e,s):this.domNode.removeAttribute(e):super.format(e,s)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}$(Mn,"blotName","video"),$(Mn,"className","ql-video"),$(Mn,"tagName","IFRAME");const Ii=new _t("code-token","hljs",{scope:j.INLINE});class zt extends It{static formats(e,s){for(;e!=null&&e!==s.domNode;){if(e.classList&&e.classList.contains(Ie.className))return super.formats(e,s);e=e.parentNode}}constructor(e,s,i){super(e,s,i),Ii.add(this.domNode,i)}format(e,s){e!==zt.blotName?super.format(e,s):s?Ii.add(this.domNode,s):(Ii.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Ii.value(this.domNode)||this.unwrap()}}zt.blotName="code-token";zt.className="ql-token";class et extends Ie{static create(e){const s=super.create(e);return typeof e=="string"&&s.setAttribute("data-language",e),s}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,s){e===this.statics.blotName&&s?this.domNode.setAttribute("data-language",s):super.format(e,s)}replaceWith(e,s){return this.formatAt(0,this.length(),zt.blotName,!1),super.replaceWith(e,s)}}class Bi extends Rs{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,s){e===et.blotName&&(this.forceNext=!0,this.children.forEach(i=>{i.format(e,s)}))}formatAt(e,s,i,n){i===et.blotName&&(this.forceNext=!0),super.formatAt(e,s,i,n)}highlight(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const n=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,r=et.formats(this.children.head.domNode);if(s||this.forceNext||this.cachedText!==n){if(n.trim().length>0||this.cachedText==null){const o=this.children.reduce((a,u)=>a.concat(Hc(u,!1)),new B),l=e(n,r);o.diff(l).reduce((a,u)=>{let{retain:d,attributes:g}=u;return d?(g&&Object.keys(g).forEach(h=>{[et.blotName,zt.blotName].includes(h)&&this.formatAt(a,d,h,g[h])}),a+d):a},0)}this.cachedText=n,this.forceNext=!1}}html(e,s){const[i]=this.children.find(e);return`<pre data-language="${i?et.formats(i.domNode):"plain"}">
${ur(this.code(e,s))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const s=et.formats(this.children.head.domNode);s!==this.uiNode.value&&(this.uiNode.value=s)}}}Bi.allowedChildren=[et];et.requiredContainer=Bi;et.allowedChildren=[zt,ai,xt,vt];const RT=(t,e,s)=>{if(typeof t.versionString=="string"){const i=t.versionString.split(".")[0];if(parseInt(i,10)>=11)return t.highlight(s,{language:e}).value}return t.highlight(e,s).value};class ap extends wt{static register(){O.register(zt,!0),O.register(et,!0),O.register(Bi,!0)}constructor(e,s){if(super(e,s),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((i,n)=>{let{key:r}=n;return i[r]=!0,i},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(O.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Bi))return;const s=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(i=>{let{key:n,label:r}=i;const o=s.ownerDocument.createElement("option");o.textContent=r,o.setAttribute("value",n),s.appendChild(o)}),s.addEventListener("change",()=>{e.format(et.blotName,s.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(s),e.children.head&&(s.value=et.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(O.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(O.sources.USER);const i=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Bi):[e]).forEach(r=>{r.highlight(this.highlightBlot,s)}),this.quill.update(O.sources.SILENT),i!=null&&this.quill.setSelection(i,O.sources.SILENT)}highlightBlot(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(s=this.languages[s]?s:"plain",s==="plain")return ur(e).split(`
`).reduce((n,r,o)=>(o!==0&&n.insert(`
`,{[Ie.blotName]:s}),n.insert(r)),new B);const i=this.quill.root.ownerDocument.createElement("div");return i.classList.add(Ie.className),i.innerHTML=RT(this.options.hljs,s,e),Il(this.quill.scroll,i,[(n,r)=>{const o=Ii.value(n);return o?r.compose(new B().retain(r.length(),{[zt.blotName]:o})):r}],[(n,r)=>n.data.split(`
`).reduce((o,l,a)=>(a!==0&&o.insert(`
`,{[Ie.blotName]:s}),o.insert(l)),r)],new WeakMap)}}ap.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Fi=class Fi extends ke{static create(e){const s=super.create();return e?s.setAttribute("data-row",e):s.setAttribute("data-row",Pl()),s}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,s){e===Fi.blotName&&s?this.domNode.setAttribute("data-row",s):super.format(e,s)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};$(Fi,"blotName","table"),$(Fi,"tagName","TD");let ft=Fi;class Kt extends Os{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),s=this.children.tail.formats(),i=this.next.children.head.formats(),n=this.next.children.tail.formats();return e.table===s.table&&e.table===i.table&&e.table===n.table}return!1}optimize(e){super.optimize(e),this.children.forEach(s=>{if(s.next==null)return;const i=s.formats(),n=s.next.formats();if(i.table!==n.table){const r=this.splitAfter(s);r&&r.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}$(Kt,"blotName","table-row"),$(Kt,"tagName","TR");class qt extends Os{}$(qt,"blotName","table-body"),$(qt,"tagName","TBODY");class ci extends Os{balanceCells(){const e=this.descendants(Kt),s=e.reduce((i,n)=>Math.max(n.children.length,i),0);e.forEach(i=>{new Array(s-i.children.length).fill(0).forEach(()=>{let n;i.children.head!=null&&(n=ft.formats(i.children.head.domNode));const r=this.scroll.create(ft.blotName,n);i.appendChild(r),r.optimize()})})}cells(e){return this.rows().map(s=>s.children.at(e))}deleteColumn(e){const[s]=this.descendant(qt);s==null||s.children.head==null||s.children.forEach(i=>{const n=i.children.at(e);n!=null&&n.remove()})}insertColumn(e){const[s]=this.descendant(qt);s==null||s.children.head==null||s.children.forEach(i=>{const n=i.children.at(e),r=ft.formats(i.children.head.domNode),o=this.scroll.create(ft.blotName,r);i.insertBefore(o,n)})}insertRow(e){const[s]=this.descendant(qt);if(s==null||s.children.head==null)return;const i=Pl(),n=this.scroll.create(Kt.blotName);s.children.head.children.forEach(()=>{const o=this.scroll.create(ft.blotName,i);n.appendChild(o)});const r=s.children.at(e);s.insertBefore(n,r)}rows(){const e=this.children.head;return e==null?[]:e.children.map(s=>s)}}$(ci,"blotName","table-container"),$(ci,"tagName","TABLE");ci.allowedChildren=[qt];qt.requiredContainer=ci;qt.allowedChildren=[Kt];Kt.requiredContainer=qt;Kt.allowedChildren=[ft];ft.requiredContainer=Kt;function Pl(){return`row-${Math.random().toString(36).slice(2,6)}`}class LT extends wt{static register(){O.register(ft),O.register(Kt),O.register(qt),O.register(ci)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(ci).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,s]=this.getTable();s!=null&&(e.deleteColumn(s.cellOffset()),this.quill.update(O.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(O.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const s=e.offset();e.remove(),this.quill.update(O.sources.USER),this.quill.setSelection(s,O.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[s,i]=this.quill.getLine(e.index);if(s==null||s.statics.blotName!==ft.blotName)return[null,null,null,-1];const n=s.parent;return[n.parent.parent,n,s,i]}insertColumn(e){const s=this.quill.getSelection();if(!s)return;const[i,n,r]=this.getTable(s);if(r==null)return;const o=r.cellOffset();i.insertColumn(o+e),this.quill.update(O.sources.USER);let l=n.rowOffset();e===0&&(l+=1),this.quill.setSelection(s.index+l,s.length,O.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const s=this.quill.getSelection();if(!s)return;const[i,n,r]=this.getTable(s);if(r==null)return;const o=n.rowOffset();i.insertRow(o+e),this.quill.update(O.sources.USER),e>0?this.quill.setSelection(s,O.sources.SILENT):this.quill.setSelection(s.index+n.children.length,s.length,O.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,s){const i=this.quill.getSelection();if(i==null)return;const n=new Array(e).fill(0).reduce(r=>{const o=new Array(s).fill(`
`).join("");return r.insert(o,{table:Pl()})},new B().retain(i.index));this.quill.updateContents(n,O.sources.USER),this.quill.setSelection(i.index,O.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(O.events.SCROLL_OPTIMIZE,e=>{e.some(s=>["TD","TR","TBODY","TABLE"].includes(s.target.tagName)?(this.quill.once(O.events.TEXT_CHANGE,(i,n,r)=>{r===O.sources.USER&&this.balanceTables()}),!0):!1)})}}const cu=Wt("quill:toolbar");class $l extends wt{constructor(e,s){var i,n;if(super(e,s),Array.isArray(this.options.container)){const r=document.createElement("div");r.setAttribute("role","toolbar"),qT(r,this.options.container),(n=(i=e.container)==null?void 0:i.parentNode)==null||n.insertBefore(r,e.container),this.container=r}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){cu.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(r=>{var l;const o=(l=this.options.handlers)==null?void 0:l[r];o&&this.addHandler(r,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(r=>{this.attach(r)}),this.quill.on(O.events.EDITOR_CHANGE,()=>{const[r]=this.quill.selection.getRange();this.update(r)})}addHandler(e,s){this.handlers[e]=s}attach(e){let s=Array.from(e.classList).find(n=>n.indexOf("ql-")===0);if(!s)return;if(s=s.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[s]==null&&this.quill.scroll.query(s)==null){cu.warn("ignoring attaching to nonexistent format",s,e);return}const i=e.tagName==="SELECT"?"change":"click";e.addEventListener(i,n=>{let r;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const l=e.options[e.selectedIndex];l.hasAttribute("selected")?r=!1:r=l.value||!1}else e.classList.contains("ql-active")?r=!1:r=e.value||!e.hasAttribute("value"),n.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[s]!=null)this.handlers[s].call(this,r);else if(this.quill.scroll.query(s).prototype instanceof Je){if(r=prompt(`Enter ${s}`),!r)return;this.quill.updateContents(new B().retain(o.index).delete(o.length).insert({[s]:r}),O.sources.USER)}else this.quill.format(s,r,O.sources.USER);this.update(o)}),this.controls.push([s,e])}update(e){const s=e==null?{}:this.quill.getFormat(e);this.controls.forEach(i=>{const[n,r]=i;if(r.tagName==="SELECT"){let o=null;if(e==null)o=null;else if(s[n]==null)o=r.querySelector("option[selected]");else if(!Array.isArray(s[n])){let l=s[n];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=r.querySelector(`option[value="${l}"]`)}o==null?(r.value="",r.selectedIndex=-1):o.selected=!0}else if(e==null)r.classList.remove("ql-active"),r.setAttribute("aria-pressed","false");else if(r.hasAttribute("value")){const o=s[n],l=o===r.getAttribute("value")||o!=null&&o.toString()===r.getAttribute("value")||o==null&&!r.getAttribute("value");r.classList.toggle("ql-active",l),r.setAttribute("aria-pressed",l.toString())}else{const o=s[n]!=null;r.classList.toggle("ql-active",o),r.setAttribute("aria-pressed",o.toString())}})}}$l.DEFAULTS={};function pu(t,e,s){const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add(`ql-${e}`),i.setAttribute("aria-pressed","false"),s!=null?(i.value=s,i.setAttribute("aria-label",`${e}: ${s}`)):i.setAttribute("aria-label",e),t.appendChild(i)}function qT(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(s=>{const i=document.createElement("span");i.classList.add("ql-formats"),s.forEach(n=>{if(typeof n=="string")pu(i,n);else{const r=Object.keys(n)[0],o=n[r];Array.isArray(o)?DT(i,r,o):pu(i,r,o)}}),t.appendChild(i)})}function DT(t,e,s){const i=document.createElement("select");i.classList.add(`ql-${e}`),s.forEach(n=>{const r=document.createElement("option");n!==!1?r.setAttribute("value",String(n)):r.setAttribute("selected","selected"),i.appendChild(r)}),t.appendChild(i)}$l.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(s=>{this.quill.scroll.query(s,j.INLINE)!=null&&this.quill.format(s,!1,O.sources.USER)})}else this.quill.removeFormat(t.index,t.length,O.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",O.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,O.sources.USER),this.quill.format("direction",t,O.sources.USER)},indent(t){const e=this.quill.getSelection(),s=this.quill.getFormat(e),i=parseInt(s.indent||0,10);if(t==="+1"||t==="-1"){let n=t==="+1"?1:-1;s.direction==="rtl"&&(n*=-1),this.quill.format("indent",i+n,O.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,O.sources.USER)},list(t){const e=this.quill.getSelection(),s=this.quill.getFormat(e);t==="check"?s.list==="checked"||s.list==="unchecked"?this.quill.format("list",!1,O.sources.USER):this.quill.format("list","unchecked",O.sources.USER):this.quill.format("list",t,O.sources.USER)}}};const IT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',PT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',$T='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',UT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',MT='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',BT='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',jT='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',FT='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',du='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',HT='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',VT='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',zT='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',KT='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',GT='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',WT='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',ZT='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',JT='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',XT='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',YT='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',QT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',eN='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',tN='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',sN='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',iN='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',nN='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',rN='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',oN='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',lN='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',aN='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',uN='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',cN='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',pN='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',dN='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',en={align:{"":IT,center:PT,right:$T,justify:UT},background:MT,blockquote:BT,bold:jT,clean:FT,code:du,"code-block":du,color:HT,direction:{"":VT,rtl:zT},formula:KT,header:{1:GT,2:WT,3:ZT,4:JT,5:XT,6:YT},italic:QT,image:eN,indent:{"+1":tN,"-1":sN},link:iN,list:{bullet:nN,check:rN,ordered:oN},script:{sub:lN,super:aN},strike:uN,table:cN,underline:pN,video:dN},hN='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let hu=0;function fu(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class pr{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),s.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),fu(this.label,"aria-expanded"),fu(this.options,"aria-hidden")}buildItem(e){const s=document.createElement("span");s.tabIndex="0",s.setAttribute("role","button"),s.classList.add("ql-picker-item");const i=e.getAttribute("value");return i&&s.setAttribute("data-value",i),e.textContent&&s.setAttribute("data-label",e.textContent),s.addEventListener("click",()=>{this.selectItem(s,!0)}),s.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.selectItem(s,!0),n.preventDefault();break;case"Escape":this.escape(),n.preventDefault();break}}),s}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=hN,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${hu}`,hu+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(s=>{const i=this.buildItem(s);e.appendChild(i),s.selected===!0&&this.selectItem(i)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.container.querySelector(".ql-selected");e!==i&&(i!=null&&i.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),s&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const i=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(i)}else this.selectItem(null);const s=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",s)}}class up extends pr{constructor(e,s){super(e),this.label.innerHTML=s,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(i=>{i.classList.add("ql-primary")})}buildItem(e){const s=super.buildItem(e);return s.style.backgroundColor=e.getAttribute("value")||"",s}selectItem(e,s){super.selectItem(e,s);const i=this.label.querySelector(".ql-color-label"),n=e&&e.getAttribute("data-value")||"";i&&(i.tagName==="line"?i.style.stroke=n:i.style.fill=n)}}class cp extends pr{constructor(e,s){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(i=>{i.innerHTML=s[i.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,s){super.selectItem(e,s);const i=e||this.defaultItem;if(i!=null){if(this.label.innerHTML===i.innerHTML)return;this.label.innerHTML=i.innerHTML}}}const fN=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class pp{constructor(e,s){this.quill=e,this.boundsContainer=s||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,fN(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const s=e.left+e.width/2-this.root.offsetWidth/2,i=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${s}px`,this.root.style.top=`${i}px`,this.root.classList.remove("ql-flip");const n=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect();let o=0;if(r.right>n.right&&(o=n.right-r.right,this.root.style.left=`${s+o}px`),r.left<n.left&&(o=n.left-r.left,this.root.style.left=`${s+o}px`),r.bottom>n.bottom){const l=r.bottom-r.top,a=e.bottom-e.top+l;this.root.style.top=`${i-a}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const gN=[!1,"center","right","justify"],mN=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],bN=[!1,"serif","monospace"],xN=["1","2","3",!1],yN=["small",!1,"large","huge"];class cn extends ui{constructor(e,s){super(e,s);const i=n=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",i);return}this.tooltip!=null&&!this.tooltip.root.contains(n.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(r=>{r.container.contains(n.target)||r.close()})};e.emitter.listenDOM("click",document.body,i)}addModule(e){const s=super.addModule(e);return e==="toolbar"&&this.extendToolbar(s),s}buildButtons(e,s){Array.from(e).forEach(i=>{(i.getAttribute("class")||"").split(/\s+/).forEach(r=>{if(r.startsWith("ql-")&&(r=r.slice(3),s[r]!=null))if(r==="direction")i.innerHTML=s[r][""]+s[r].rtl;else if(typeof s[r]=="string")i.innerHTML=s[r];else{const o=i.value||"";o!=null&&s[r][o]&&(i.innerHTML=s[r][o])}})})}buildPickers(e,s){this.pickers=Array.from(e).map(n=>{if(n.classList.contains("ql-align")&&(n.querySelector("option")==null&&qi(n,gN),typeof s.align=="object"))return new cp(n,s.align);if(n.classList.contains("ql-background")||n.classList.contains("ql-color")){const r=n.classList.contains("ql-background")?"background":"color";return n.querySelector("option")==null&&qi(n,mN,r==="background"?"#ffffff":"#000000"),new up(n,s[r])}return n.querySelector("option")==null&&(n.classList.contains("ql-font")?qi(n,bN):n.classList.contains("ql-header")?qi(n,xN):n.classList.contains("ql-size")&&qi(n,yN)),new pr(n)});const i=()=>{this.pickers.forEach(n=>{n.update()})};this.quill.on(M.events.EDITOR_CHANGE,i)}}cn.DEFAULTS=as({},ui.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class dp extends pp{constructor(e,s){super(e,s),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;s!=null?this.textbox.value=s:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const i=this.quill.getBounds(this.quill.selection.savedRange);i!=null&&this.position(i),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:s}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,M.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,M.sources.USER)),this.quill.root.scrollTop=s;break}case"video":e=_N(e);case"formula":{if(!e)break;const s=this.quill.getSelection(!0);if(s!=null){const i=s.index+s.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),e,M.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(i+1," ",M.sources.USER),this.quill.setSelection(i+2,M.sources.USER)}break}}this.textbox.value="",this.hide()}}function _N(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function qi(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(i=>{const n=document.createElement("option");i===s?n.setAttribute("selected","selected"):n.setAttribute("value",String(i)),t.appendChild(n)})}const vN=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class hp extends dp{constructor(e,s){super(e,s),this.quill.on(M.events.EDITOR_CHANGE,(i,n,r,o)=>{if(i===M.events.SELECTION_CHANGE)if(n!=null&&n.length>0&&o===M.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(n.index,n.length);if(l.length===1){const a=this.quill.getBounds(n);a!=null&&this.position(a)}else{const a=l[l.length-1],u=this.quill.getIndex(a),d=Math.min(a.length()-1,n.index+n.length-u),g=this.quill.getBounds(new Ts(u,d));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(M.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const s=this.quill.getBounds(e);s!=null&&this.position(s)}},1)})}cancel(){this.show()}position(e){const s=super.position(e),i=this.root.querySelector(".ql-tooltip-arrow");return i.style.marginLeft="",s!==0&&(i.style.marginLeft=`${-1*s-i.offsetWidth/2}px`),s}}$(hp,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class fp extends cn{constructor(e,s){s.modules.toolbar!=null&&s.modules.toolbar.container==null&&(s.modules.toolbar.container=vN),super(e,s),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new hp(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),en),this.buildPickers(e.container.querySelectorAll("select"),en))}}fp.DEFAULTS=as({},cn.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,O.sources.USER)}}}}});const wN=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class gp extends dp{constructor(){super(...arguments);$(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",s=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),s.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",s=>{if(this.linkRange!=null){const i=this.linkRange;this.restoreFocus(),this.quill.formatText(i,"link",!1,M.sources.USER),delete this.linkRange}s.preventDefault(),this.hide()}),this.quill.on(M.events.SELECTION_CHANGE,(s,i,n)=>{if(s!=null){if(s.length===0&&n===M.sources.USER){const[r,o]=this.quill.scroll.descendant(ls,s.index);if(r!=null){this.linkRange=new Ts(s.index-o,r.length());const l=ls.formats(r.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const a=this.quill.getBounds(this.linkRange);a!=null&&this.position(a);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}$(gp,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class mp extends cn{constructor(e,s){s.modules.toolbar!=null&&s.modules.toolbar.container==null&&(s.modules.toolbar.container=wN),super(e,s),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),en),this.buildPickers(e.container.querySelectorAll("select"),en),this.tooltip=new gp(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(s,i)=>{e.handlers.link.call(e,!i.format.link)}))}}mp.DEFAULTS=as({},cn.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let s=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(s)&&s.indexOf("mailto:")!==0&&(s=`mailto:${s}`);const{tooltip:i}=this.quill.theme;i.edit("link",s)}else this.quill.format("link",!1,O.sources.USER)}}}}});O.register({"attributors/attribute/direction":Zc,"attributors/class/align":Kc,"attributors/class/background":BS,"attributors/class/color":MS,"attributors/class/direction":Jc,"attributors/class/font":Qc,"attributors/class/size":tp,"attributors/style/align":Gc,"attributors/style/background":Rl,"attributors/style/color":Ol,"attributors/style/direction":Xc,"attributors/style/font":ep,"attributors/style/size":sp},!0);O.register({"formats/align":Kc,"formats/direction":Jc,"formats/indent":OT,"formats/background":Rl,"formats/color":Ol,"formats/font":Qc,"formats/size":tp,"formats/blockquote":Jo,"formats/code-block":Ie,"formats/header":Xo,"formats/list":un,"formats/bold":Qi,"formats/code":Ll,"formats/italic":Yo,"formats/link":ls,"formats/script":Qo,"formats/strike":el,"formats/underline":tl,"formats/formula":Un,"formats/image":sl,"formats/video":Mn,"modules/syntax":ap,"modules/table":LT,"modules/toolbar":$l,"themes/bubble":fp,"themes/snow":mp,"ui/icons":en,"ui/picker":pr,"ui/icon-picker":cp,"ui/color-picker":up,"ui/tooltip":pp},!0);const AN={props:{returnData:Function,value:String},data(){return{option:this.value,quillEditor:"",variableTrigger:!1}},watch:{value:{handler(){this.updating||(this.option=this.value,this.quillEditor?this.quillEditor.root.innerHTML=this.option:this.startEditor())}}},mounted(){this.startEditor()},methods:{returnStylePath(){return this.uipApp.litePath+"assets/css/modules/uip-quill.css"},startEditor(){const t=this.$refs.uipeditor;this.quillEditor=new O(t,{theme:"snow"}),this.quillEditor.on("text-change",this.handleTextChange),this.quillEditor.root.innerHTML=this.option},async handleTextChange(t,e,s){this.updating=!0,this.returnData(this.quillEditor.root.innerHTML),await this.$nextTick(),this.updating=!1}}},EN={class:"uip-flex uip-flex-column uip-min-h-200 uip-w-100p uip-gap-xs"},SN={ref:"uipeditor",class:"uip-h-100p uip-w-100p"};function TN(t,e,s,i,n,r){return A(),k("div",EN,[(A(),me(nl("style"),null,{default:F(()=>[Me(" @import '"+_(r.returnStylePath())+"'; ",1)]),_:1})),p("div",SN,null,512)])}const NN=Ce(AN,[["render",TN]]),{__:Di,_x:Pk,_n:$k,_nx:Uk}=wp.i18n,cs=document.querySelector("#uip-user-management-data"),bp=cs?cs.getAttribute("uipress-lite"):!1,kN=cs?cs.getAttribute("ajax_url"):!1,CN=cs?cs.getAttribute("security"):!1,ON=cs?JSON.parse(cs.getAttribute("Capabilities")):[],RN={components:{Notify:Op,UserMessage:mh},data(){return{}},template:Vp`<div>
    <RouterView />
    <Notify />
    <UserMessage />
  </div>`},LN=[{path:"/",name:Di("List View","uipress-pro"),component:qh,query:{page:"1",search:""},children:[{name:Di("View user","uipress-pro"),path:"/users/:id",component:Hf},{name:Di("Edit user","uipress-pro"),path:"/users/:id/edit",component:ug},{name:Di("New user","uipress-pro"),path:"/users/new",component:Og},{name:Di("Edit role","uipress-pro"),path:"/roles/edit/:role",component:dm}]}],qN=Wd({history:wd(),routes:LN}),ae=Cp(RN);ae.use(qN);ae.component("UserTable",k1);ae.component("UserRoleSelect",Up);ae.component("dropdown",Rp);ae.component("switch-select",yu);ae.component("toggle-switch",yu);ae.component("ContextMenu",xu);ae.component("contextmenu",xu);ae.component("FloatingPanel",Mp);ae.component("ToggleSection",Bp);ae.component("Confirm",jp);ae.component("InlineImageSelect",Tv);ae.component("mediaLibrary",ic);ae.component("RichTextEditor",NN);ae.component("RoleTable",mb);ae.component("ActivityTable",Cx);ae.component("MultiSelect",a0);ae.component("AppIcon",Lp);ae.component("Modal",Fp);ae.config.globalProperties.AjaxUrl=kN;ae.config.globalProperties.AjaxSecurity=CN;ae.config.globalProperties.sendServerRequest=qp;ae.config.globalProperties.uipApp=mu({litePath:bp});ae.config.globalProperties.uipressLitePath=bp;ae.config.globalProperties.isObject=Dp;ae.config.globalProperties.createUID=Ip;ae.config.globalProperties.capabilities=ON;ae.config.globalProperties.prepareJSON=Pp;ae.config.globalProperties.stripUIPparams=$p;const DN=document.querySelector("#uip-user-management");DN&&ae.mount("#uip-user-management")});export default IN();
